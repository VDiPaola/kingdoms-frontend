/*! For license information please see main.c6c8a876.js.LICENSE.txt */
(()=>{var e={4:(e,t)=>{"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(){}t.__esModule=!0,t.default=function(e){var t="".concat(e,"Storage");return function(e){if("object"!==("undefined"===typeof self?"undefined":n(self))||!(e in self))return!1;try{var t=self[e],r="redux-persist ".concat(e," test");t.setItem(r,"test"),t.getItem(r),t.removeItem(r)}catch(i){return!1}return!0}(t)?self[t]:i};var i={getItem:r,setItem:r,removeItem:r}},43:(e,t,n)=>{"use strict";e.exports=n(202)},82:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function k(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case s:case a:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case g:case l:return e;default:return t}}case i:return t}}}function x(e){return k(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=m,t.Memo=g,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=f,t.isAsyncMode=function(e){return x(e)||k(e)===u},t.isConcurrentMode=x,t.isContextConsumer=function(e){return k(e)===c},t.isContextProvider=function(e){return k(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return k(e)===h},t.isFragment=function(e){return k(e)===o},t.isLazy=function(e){return k(e)===m},t.isMemo=function(e){return k(e)===g},t.isPortal=function(e){return k(e)===i},t.isProfiler=function(e){return k(e)===s},t.isStrictMode=function(e){return k(e)===a},t.isSuspense=function(e){return k(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===s||e===a||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=k},86:(e,t,n)=>{"use strict";e.exports=n(82)},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},181:()=>{!function(){"use strict";var e=function(e){this.element_=e,this.init()};window.MaterialButton=e,e.prototype.Constant_={},e.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},e.prototype.blurHandler_=function(e){e&&this.element_.blur()},e.prototype.disable=function(){this.element_.disabled=!0},e.prototype.disable=e.prototype.disable,e.prototype.enable=function(){this.element_.disabled=!1},e.prototype.enable=e.prototype.enable,e.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:e,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})}()},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,g(w,v.prototype),w.isPureReactComponent=!0;var k=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,i)&&!I.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:_.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+T(l,0):o,k(a)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),N(a,t,i,"",(function(e){return e}))):null!=a&&(E(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",k(e))for(var c=0;c<e.length;c++){var u=o+T(s=e[c],c);l+=N(s,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=N(s=s.value,t,i,u=o+T(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:_};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=_.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},219:(e,t,n)=>{"use strict";var r=n(86),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=l(t),g=l(n),m=0;m<a.length;++m){var v=a[m];if(!o[v]&&(!r||!r[v])&&(!g||!g[v])&&(!s||!s[v])){var y=h(n,v);try{c(t,v,y)}catch(b){}}}}return t}},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function k(e){if(m=!1,w(e),!g)if(null!==r(c))g=!0,O(x);else{var t=r(u);null!==t&&D(k,t.startTime-e)}}function x(e,n){g=!1,m&&(m=!1,y(E),E=-1),p=!0;var o=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(k,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,I=!1,S=null,E=-1,C=5,T=-1;function N(){return!(t.unstable_now()-T<C)}function A(){if(null!==S){var e=t.unstable_now();T=e;var n=!0;try{n=S(!0,e)}finally{n?_():(I=!1,S=null)}}else I=!1}if("function"===typeof b)_=function(){b(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=A,_=function(){R.postMessage(null)}}else _=function(){v(A,0)};function O(e){S=e,I||(I=!0,_())}function D(e,n){E=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,O(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(m?(y(E),E=-1):m=!0,D(k,o-a))):(e.sortIndex=s,n(c,e),g||p||(g=!0,O(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},330:(e,t,n)=>{"use strict";var r=n(43);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useState,a=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})}),[e,n,t]),a((function(){return c(i)&&u({inst:i}),e((function(){c(i)&&u({inst:i})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},358:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case s:case a:case h:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case g:case p:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},367:()=>{!function(){"use strict";var e=function(e){this.element_=e,this.init()};window.MaterialSpinner=e,e.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},e.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},e.prototype.createLayer=function(e){var t=document.createElement("div");t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),n.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var o=[n,r,i],a=0;a<o.length;a++){var s=document.createElement("div");s.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),o[a].appendChild(s)}t.appendChild(n),t.appendChild(r),t.appendChild(i),this.element_.appendChild(t)},e.prototype.createLayer=e.prototype.createLayer,e.prototype.stop=function(){this.element_.classList.remove("is-active")},e.prototype.stop=e.prototype.stop,e.prototype.start=function(){this.element_.classList.add("is-active")},e.prototype.start=e.prototype.start,e.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:e,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})}()},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},411:()=>{!function(){"use strict";var e=function(e){this.element_=e,this.init()};window.MaterialProgress=e,e.prototype.Constant_={},e.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},e.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},e.prototype.setProgress=e.prototype.setProgress,e.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},e.prototype.setBuffer=e.prototype.setBuffer,e.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,(e=document.createElement("div")).className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,(e=document.createElement("div")).className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:e,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})}()},443:(e,t,n)=>{"use strict";e.exports=n(717)},461:(e,t,n)=>{"use strict";e.exports=n(330)},579:(e,t,n)=>{"use strict";e.exports=n(153)},586:()=>{var e={upgradeDom:function(e,t){},upgradeElement:function(e,t){},upgradeElements:function(e){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(e,t){},register:function(e){},downgradeElements:function(e){}};(e=function(){"use strict";var e=[],t=[],n="mdlComponentConfigInternal_";function r(t,n){for(var r=0;r<e.length;r++)if(e[r].className===t)return"undefined"!==typeof n&&(e[r]=n),e[r];return!1}function i(e){var t=e.getAttribute("data-upgraded");return null===t?[""]:t.split(",")}function o(e,t){return-1!==i(e).indexOf(t)}function a(e,t,n){if("CustomEvent"in window&&"function"===typeof window.CustomEvent)return new CustomEvent(e,{bubbles:t,cancelable:n});var r=document.createEvent("Events");return r.initEvent(e,t,n),r}function s(t,n){if("undefined"===typeof t&&"undefined"===typeof n)for(var i=0;i<e.length;i++)s(e[i].className,e[i].cssClass);else{var o=t;if("undefined"===typeof n){var a=r(o);a&&(n=a.cssClass)}for(var c=document.querySelectorAll("."+n),u=0;u<c.length;u++)l(c[u],o)}}function l(s,l){if(!("object"===typeof s&&s instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var c=a("mdl-componentupgrading",!0,!0);if(s.dispatchEvent(c),!c.defaultPrevented){var u=i(s),d=[];if(l)o(s,l)||d.push(r(l));else{var h=s.classList;e.forEach((function(e){h.contains(e.cssClass)&&-1===d.indexOf(e)&&!o(s,e.className)&&d.push(e)}))}for(var f,p=0,g=d.length;p<g;p++){if(!(f=d[p]))throw new Error("Unable to find a registered component for the given class.");u.push(f.className),s.setAttribute("data-upgraded",u.join(","));var m=new f.classConstructor(s);m[n]=f,t.push(m);for(var v=0,y=f.callbacks.length;v<y;v++)f.callbacks[v](s);f.widget&&(s[f.className]=m);var b=a("mdl-componentupgraded",!0,!1);s.dispatchEvent(b)}}}function c(e){if(e){var r=t.indexOf(e);t.splice(r,1);var i=e.element_.getAttribute("data-upgraded").split(","),o=i.indexOf(e[n].classAsString);i.splice(o,1),e.element_.setAttribute("data-upgraded",i.join(","));var s=a("mdl-componentdowngraded",!0,!1);e.element_.dispatchEvent(s)}}return{upgradeDom:s,upgradeElement:l,upgradeElements:function e(t){Array.isArray(t)||(t=t instanceof Element?[t]:Array.prototype.slice.call(t));for(var n,r=0,i=t.length;r<i;r++)(n=t[r])instanceof HTMLElement&&(l(n),n.children.length>0&&e(n.children))},upgradeAllRegistered:function(){for(var t=0;t<e.length;t++)s(e[t].className)},registerUpgradedCallback:function(e,t){var n=r(e);n&&n.callbacks.push(t)},register:function(t){var i=!0;"undefined"===typeof t.widget&&"undefined"===typeof t.widget||(i=t.widget||t.widget);var o={classConstructor:t.constructor||t.constructor,className:t.classAsString||t.classAsString,cssClass:t.cssClass||t.cssClass,widget:i,callbacks:[]};if(e.forEach((function(e){if(e.cssClass===o.cssClass)throw new Error("The provided cssClass has already been registered: "+e.cssClass);if(e.className===o.className)throw new Error("The provided className has already been registered")})),t.constructor.prototype.hasOwnProperty(n))throw new Error("MDL component classes must not have "+n+" defined as a property.");r(t.classAsString,o)||e.push(o)},downgradeElements:function(e){var n=function(e){t.filter((function(t){return t.element_===e})).forEach(c)};if(e instanceof Array||e instanceof NodeList)for(var r=0;r<e.length;r++)n(e[r]);else{if(!(e instanceof Node))throw new Error("Invalid argument provided to downgrade MDL nodes.");n(e)}}}}()).ComponentConfigPublic,e.ComponentConfig,e.Component,e.upgradeDom=e.upgradeDom,e.upgradeElement=e.upgradeElement,e.upgradeElements=e.upgradeElements,e.upgradeAllRegistered=e.upgradeAllRegistered,e.registerUpgradedCallback=e.registerUpgradedCallback,e.register=e.register,e.downgradeElements=e.downgradeElements,window.componentHandler=e,window.componentHandler=e,window.addEventListener("load",(function(){"use strict";"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),e.upgradeAllRegistered()):(e.upgradeElement=function(){},e.register=function(){})}))},595:()=>{!function(){"use strict";var e=function(e){this.element_=e,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=e,e.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},e.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},e.prototype.onKeyDown_=function(e){var t=e.target.value.split("\n").length;13===e.keyCode&&t>=this.maxRows&&e.preventDefault()},e.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},e.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},e.prototype.onReset_=function(e){this.updateClasses_()},e.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},e.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},e.prototype.checkDisabled=e.prototype.checkDisabled,e.prototype.checkFocus=function(){Boolean(this.element_.querySelector(":focus"))?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},e.prototype.checkFocus=e.prototype.checkFocus,e.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},e.prototype.checkValidity=e.prototype.checkValidity,e.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},e.prototype.checkDirty=e.prototype.checkDirty,e.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},e.prototype.disable=e.prototype.disable,e.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},e.prototype.enable=e.prototype.enable,e.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},e.prototype.change=e.prototype.change,e.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:e,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})}()},706:(e,t,n)=>{"use strict";n(358)},717:(e,t,n)=>{"use strict";var r=n(43),i=n(461);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=i.useSyncExternalStore,s=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=s(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c((function(){function e(e){if(!l){if(l=!0,a=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return s=t}return s=e}if(t=s,o(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?(a=e,t):(a=e,s=n)}var a,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var f=a(e,d[0],d[1]);return l((function(){h.hasValue=!0,h.value=f}),[f]),u(f),f}},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),C=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,j=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case S:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function W(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){J(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&W(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function oe(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Ie=null;function Se(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(o(280));var t=e.stateNode;t&&(t=ki(t),xe(e.stateNode,e.type,t))}}function Ee(e){_e?Ie?Ie.push(e):Ie=[e]:_e=e}function Ce(){if(_e){var e=_e,t=Ie;if(Ie=_e=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Te(e,t){return e(t)}function Ne(){}var Ae=!1;function Pe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Te(e,t,n)}finally{Ae=!1,(null!==_e||null!==Ie)&&(Ne(),Ce())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=ki(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Oe=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Oe=!1}function Le(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,je=null,Fe=!1,Ue=null,Ve={onError:function(e){Me=!0,je=e}};function ze(e,t,n,r,i,o,a,s,l){Me=!1,je=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(Be(e)!==e)throw Error(o(188))}function $e(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ge(i),e;if(a===r)return Ge(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,We=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,xt,_t,It,St,Et=!1,Ct=[],Tt=null,Nt=null,At=null,Pt=new Map,Rt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Et=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==At&&Ft(At)&&(At=null),Pt.forEach(Ut),Rt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&zt(Tt,e),null!==Nt&&zt(Nt,e),null!==At&&zt(At,e),Pt.forEach(t),Rt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)jt(n),null===n.blockedOn&&Ot.shift()}var qt=w.ReactCurrentBatchConfig,Gt=!0;function $t(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=1,Ht(e,t,n,r)}finally{bt=i,qt.transition=o}}function Kt(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=4,Ht(e,t,n,r)}finally{bt=i,qt.transition=o}}function Ht(e,t,n,r){if(Gt){var i=Qt(e,t,n,r);if(null===i)Gr(e,t,r,Wt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Mt(Tt,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Pt.set(o,Mt(Pt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Rt.set(o,Mt(Rt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&kt(o),null===(o=Qt(e,t,n,r))&&Gr(e,t,r,Wt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Wt=null;function Qt(e,t,n,r){if(Wt=null,null!==(e=yi(e=ke(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=j({},cn,{view:0,detail:0}),hn=on(dn),fn=j({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(fn),gn=on(j({},fn,{dataTransfer:0})),mn=on(j({},dn,{relatedTarget:0})),vn=on(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(j({},cn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Sn(){return In}var En=j({},dn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=on(En),Tn=on(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=on(j({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),An=on(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=j({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=on(Pn),On=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Mn=u&&"TextEvent"in window&&!Ln,jn=u&&(!Dn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function $n(e,t,n,r){Ee(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Hn=null;function Wn(e){Fr(e,0)}function Qn(e){if(H(wi(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Hn=Kn=null)}function nr(e){if("value"===e.propertyName&&Qn(Hn)){var t=[];$n(t,Hn,e,ke(e)),Pe(Wn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Hn)}function or(e,t){if("click"===e)return Qn(t)}function ar(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=W();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=W((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==W(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},_r={},Ir={};function Sr(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return _r[e]=n[t];return e}u&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Sr("animationend"),Cr=Sr("animationiteration"),Tr=Sr("animationstart"),Nr=Sr("transitionend"),Ar=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Ar.set(e,t),l(t,[e])}for(var Or=0;Or<Pr.length;Or++){var Dr=Pr[Or];Rr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Rr(Er,"onAnimationEnd"),Rr(Cr,"onAnimationIteration"),Rr(Tr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(o(198));var u=je;Me=!1,je=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;jr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;jr(i,s,c),o=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=$t;break;case 4:i=Kt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=o,i=ke(n),a=[];e:{var s=Ar.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case Er:case Cr:case Tr:l=vn;break;case Nr:l=An;break;case"scroll":l=hn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==h&&(null!=(g=Re(p,h))&&u.push($r(p,g,f)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,g="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:wi(l),f=null==c?s:wi(c),(s=new u(g,p+"leave",l,n,i)).target=d,s.relatedTarget=f,g=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,g=u),d=g,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Hr(f))p++;for(f=0,g=h;g;g=Hr(g))f++;for(;0<p-f;)u=Hr(u),p--;for(;0<f-p;)h=Hr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Hr(u),h=Hr(h)}u=null}else u=null;null!==l&&Wr(a,s,l,u,!1),null!==c&&null!==d&&Wr(a,d,c,u,!0)}if("select"===(l=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Yn;else if(Gn(s))if(Jn)m=ar;else{m=ir;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=or);switch(m&&(m=m(e,r))?$n(a,m,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?wi(r):window,e){case"focusin":(Gn(v)||"true"===v.contentEditable)&&(mr=v,vr=r,yr=null);break;case"focusout":yr=vr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(a,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,Bn=!0)),0<(v=Kr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Xt=Jt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Fr(a,t)}))}function $r(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Re(e,n))&&r.unshift($r(e,o,i)),null!=(o=Re(e,t))&&r.push($r(e,o,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Re(n,o))&&a.unshift($r(n,l,s)):i||null!=(l=Re(n,o))&&a.push($r(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,gi="__reactEvents$"+di,mi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ki(e){return e[fi]||null}var xi=[],_i=-1;function Ii(e){return{current:e}}function Si(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ei(e,t){_i++,xi[_i]=e.current,e.current=t}var Ci={},Ti=Ii(Ci),Ni=Ii(!1),Ai=Ci;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Si(Ni),Si(Ti)}function Di(e,t,n){if(Ti.current!==Ci)throw Error(o(168));Ei(Ti,t),Ei(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ai=Ti.current,Ei(Ti,e),Ei(Ni,Ni.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Si(Ni),Si(Ti),Ei(Ti,e)):Si(Ni),Ei(Ni,n)}var Fi=null,Ui=!1,Vi=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),He(Ze,Bi),i}finally{bt=t,Vi=!1}}return null}var qi=[],Gi=0,$i=null,Ki=0,Hi=[],Wi=0,Qi=null,Yi=1,Ji="";function Xi(e,t){qi[Gi++]=Ki,qi[Gi++]=$i,$i=e,Ki=t}function Zi(e,t,n){Hi[Wi++]=Yi,Hi[Wi++]=Ji,Hi[Wi++]=Qi,Qi=e;var r=Yi;e=Ji;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-at(t)+i|n<<i|r,Ji=o+e}else Yi=1<<o|n<<i|r,Ji=e}function eo(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function to(e){for(;e===$i;)$i=qi[--Gi],qi[Gi]=null,Ki=qi[--Gi],qi[Gi]=null;for(;e===Qi;)Qi=Hi[--Wi],Hi[Wi]=null,Ji=Hi[--Wi],Hi[Wi]=null,Yi=Hi[--Wi],Hi[Wi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Yi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var mo=w.ReactCurrentBatchConfig;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function wo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===_?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===R&&bo(o)===t.type)?((r=i(t,n.props)).ref=vo(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=vo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case x:return(t=Fc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;yo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?u(e,t,n,r):null;case R:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);yo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);yo(t,r)}return null}function g(i,o,s,l){for(var c=null,u=null,d=o,g=o=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=f(i,d,s[g],l);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(i,d),o=a(v,o,g),null===u?c=v:u.sibling=v,u=v,d=m}if(g===s.length)return n(i,d),io&&Xi(i,g),c;if(null===d){for(;g<s.length;g++)null!==(d=h(i,s[g],l))&&(o=a(d,o,g),null===u?c=d:u.sibling=d,u=d);return io&&Xi(i,g),c}for(d=r(i,d);g<s.length;g++)null!==(m=p(d,i,g,s[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),o=a(m,o,g),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(i,e)})),io&&Xi(i,g),c}function m(i,s,l,c){var u=L(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,g=s,m=s=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=f(i,g,y.value,c);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(i,g),s=a(b,s,m),null===d?u=b:d.sibling=b,d=b,g=v}if(y.done)return n(i,g),io&&Xi(i,m),u;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=h(i,y.value,c))&&(s=a(y,s,m),null===d?u=y:d.sibling=y,d=y);return io&&Xi(i,m),u}for(g=r(i,g);!y.done;m++,y=l.next())null!==(y=p(g,i,m,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),s=a(y,s,m),null===d?u=y:d.sibling=y,d=y);return e&&g.forEach((function(e){return t(i,e)})),io&&Xi(i,m),u}return function e(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===_&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case k:e:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===_){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&bo(c)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=vo(r,u,a),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===_?((o=Lc(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Dc(a.type,a.key,a.props,null,r.mode,l)).ref=vo(r,o,a),l.return=r,r=l)}return s(r);case x:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fc(a,r.mode,l)).return=r,r=o}return s(r);case R:return e(r,o,(u=a._init)(a._payload),l)}if(te(a))return g(r,o,a,l);if(L(a))return m(r,o,a,l);yo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=jc(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var ko=wo(!0),xo=wo(!1),_o=Ii(null),Io=null,So=null,Eo=null;function Co(){Eo=So=Io=null}function To(e){var t=_o.current;Si(_o),e._currentValue=t}function No(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ao(e,t){Io=e,Eo=So=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Po(e){var t=e._currentValue;if(Eo!==e)if(e={context:e,memoizedValue:t,next:null},null===So){if(null===Io)throw Error(o(308));So=e,Io.dependencies={lanes:0,firstContext:e}}else So=So.next=e;return t}var Ro=null;function Oo(e){null===Ro?Ro=[e]:Ro.push(e)}function Do(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Oo(t)):(n.next=i.next,i.next=n),t.interleaved=n,Lo(e,r)}function Lo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mo=!1;function jo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Lo(e,n)}return null===(i=r.interleaved)?(t.next=t,Oo(r)):(t.next=i.next,i.next=t),r.interleaved=t,Lo(e,n)}function zo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Bo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qo(e,t,n,r){var i=e.updateQueue;Mo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,u=c=l=null,s=o;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,g=s;switch(h=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=g.payload)?p.call(f,d,h):p)||void 0===h)break e;d=j({},d,h);break e;case 2:Mo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Ml|=a,e.lanes=a,e.memoizedState=d}}function Go(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var $o={},Ko=Ii($o),Ho=Ii($o),Wo=Ii($o);function Qo(e){if(e===$o)throw Error(o(174));return e}function Yo(e,t){switch(Ei(Wo,t),Ei(Ho,e),Ei(Ko,$o),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Ko),Ei(Ko,t)}function Jo(){Si(Ko),Si(Ho),Si(Wo)}function Xo(e){Qo(Wo.current);var t=Qo(Ko.current),n=le(t,e.type);t!==n&&(Ei(Ho,e),Ei(Ko,n))}function Zo(e){Ho.current===e&&(Si(Ko),Si(Ho))}var ea=Ii(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var ia=w.ReactCurrentDispatcher,oa=w.ReactCurrentBatchConfig,aa=0,sa=null,la=null,ca=null,ua=!1,da=!1,ha=0,fa=0;function pa(){throw Error(o(321))}function ga(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,i,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?Za:es,e=n(r,i),da){a=0;do{if(da=!1,ha=0,25<=a)throw Error(o(301));a+=1,ca=la=null,t.updateQueue=null,ia.current=ts,e=n(r,i)}while(da)}if(ia.current=Xa,t=null!==la&&null!==la.next,aa=0,ca=la=sa=null,ua=!1,t)throw Error(o(300));return e}function va(){var e=0!==ha;return ha=0,e}function ya(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?sa.memoizedState=ca=e:ca=ca.next=e,ca}function ba(){if(null===la){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ca?sa.memoizedState:ca.next;if(null!==t)ca=t,la=e;else{if(null===e)throw Error(o(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ca?sa.memoizedState=ca=e:ca=ca.next=e}return ca}function wa(e,t){return"function"===typeof t?t(e):t}function ka(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=la,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((aa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,sa.lanes|=d,Ml|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,sa.lanes|=a,Ml|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xa(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(bs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function _a(){}function Ia(e,t){var n=sa,r=ba(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,bs=!0),r=r.queue,Ma(Ca.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,Pa(9,Ea.bind(null,n,r,i,t),void 0,null),null===Nl)throw Error(o(349));0!==(30&aa)||Sa(n,t,i)}return i}function Sa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ea(e,t,n,r){t.value=n,t.getSnapshot=r,Ta(t)&&Na(e)}function Ca(e,t,n){return n((function(){Ta(t)&&Na(e)}))}function Ta(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Na(e){var t=Lo(e,1);null!==t&&nc(t,e,1,-1)}function Aa(e){var t=ya();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=Wa.bind(null,sa,e),[t.memoizedState,e]}function Pa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ra(){return ba().memoizedState}function Oa(e,t,n,r){var i=ya();sa.flags|=e,i.memoizedState=Pa(1|t,n,void 0,void 0===r?null:r)}function Da(e,t,n,r){var i=ba();r=void 0===r?null:r;var o=void 0;if(null!==la){var a=la.memoizedState;if(o=a.destroy,null!==r&&ga(r,a.deps))return void(i.memoizedState=Pa(t,n,o,r))}sa.flags|=e,i.memoizedState=Pa(1|t,n,o,r)}function La(e,t){return Oa(8390656,8,e,t)}function Ma(e,t){return Da(2048,8,e,t)}function ja(e,t){return Da(4,2,e,t)}function Fa(e,t){return Da(4,4,e,t)}function Ua(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Va(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Da(4,4,Ua.bind(null,t,e),n)}function za(){}function Ba(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ga(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qa(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ga(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ga(e,t,n){return 0===(21&aa)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=gt(),sa.lanes|=n,Ml|=n,e.baseState=!0),t)}function $a(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=oa.transition;oa.transition={};try{e(!1),t()}finally{bt=n,oa.transition=r}}function Ka(){return ba().memoizedState}function Ha(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qa(e))Ya(t,n);else if(null!==(n=Do(e,t,n,r))){nc(n,e,r,ec()),Ja(n,t,r)}}function Wa(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qa(e))Ya(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(i.next=i,Oo(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Do(e,t,i,r))&&(nc(n,e,r,i=ec()),Ja(n,t,r))}}function Qa(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Ya(e,t){da=ua=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ja(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Xa={readContext:Po,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},Za={readContext:Po,useCallback:function(e,t){return ya().memoizedState=[e,void 0===t?null:t],e},useContext:Po,useEffect:La,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oa(4194308,4,Ua.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oa(4,2,e,t)},useMemo:function(e,t){var n=ya();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ya();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ha.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ya().memoizedState=e},useState:Aa,useDebugValue:za,useDeferredValue:function(e){return ya().memoizedState=e},useTransition:function(){var e=Aa(!1),t=e[0];return e=$a.bind(null,e[1]),ya().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,i=ya();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Nl)throw Error(o(349));0!==(30&aa)||Sa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,La(Ca.bind(null,r,a,e),[e]),r.flags|=2048,Pa(9,Ea.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ya(),t=Nl.identifierPrefix;if(io){var n=Ji;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=ha++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Po,useCallback:Ba,useContext:Po,useEffect:Ma,useImperativeHandle:Va,useInsertionEffect:ja,useLayoutEffect:Fa,useMemo:qa,useReducer:ka,useRef:Ra,useState:function(){return ka(wa)},useDebugValue:za,useDeferredValue:function(e){return Ga(ba(),la.memoizedState,e)},useTransition:function(){return[ka(wa)[0],ba().memoizedState]},useMutableSource:_a,useSyncExternalStore:Ia,useId:Ka,unstable_isNewReconciler:!1},ts={readContext:Po,useCallback:Ba,useContext:Po,useEffect:Ma,useImperativeHandle:Va,useInsertionEffect:ja,useLayoutEffect:Fa,useMemo:qa,useReducer:xa,useRef:Ra,useState:function(){return xa(wa)},useDebugValue:za,useDeferredValue:function(e){var t=ba();return null===la?t.memoizedState=e:Ga(t,la.memoizedState,e)},useTransition:function(){return[xa(wa)[0],ba().memoizedState]},useMutableSource:_a,useSyncExternalStore:Ia,useId:Ka,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Uo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Vo(e,o,i))&&(nc(t,e,i,r),zo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Uo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Vo(e,o,i))&&(nc(t,e,i,r),zo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Uo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Vo(e,i,r))&&(nc(t,e,r,n),zo(t,e,r))}};function os(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function as(e,t,n){var r=!1,i=Ci,o=t.contextType;return"object"===typeof o&&null!==o?o=Po(o):(i=Ri(t)?Ai:Ti.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ci),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},jo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Po(o):(o=Ri(t)?Ai:Ti.current,i.context=Pi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(rs(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),qo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=Uo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gl||(Gl=!0,$l=r),ds(0,t)},n}function ps(e,t,n){(n=Uo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Uo(-1,1)).tag=2,Vo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ys=w.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?xo(t,null,n,r):ko(t,e.child,n,r)}function ks(e,t,n,r,i){n=n.render;var o=t.ref;return Ao(t,i),r=ma(e,t,n,r,o,i),n=va(),null===e||bs?(io&&n&&eo(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function xs(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Rc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,_s(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Gs(e,t,i)}return t.flags|=1,(e=Oc(o,r)).ref=t.ref,e.return=t,t.child=e}function _s(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Gs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Es(e,t,n,r,i)}function Is(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Ol,Rl),Rl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Ol,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ei(Ol,Rl),Rl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ei(Ol,Rl),Rl|=r;return ws(e,t,i,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Es(e,t,n,r,i){var o=Ri(n)?Ai:Ti.current;return o=Pi(t,o),Ao(t,i),n=ma(e,t,n,r,o,i),r=va(),null===e||bs?(io&&r&&eo(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function Cs(e,t,n,r,i){if(Ri(n)){var o=!0;Mi(t)}else o=!1;if(Ao(t,i),null===t.stateNode)qs(e,t),as(t,n,r),ls(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Po(c):c=Pi(t,c=Ri(n)?Ai:Ti.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&ss(t,a,r,c),Mo=!1;var h=t.memoizedState;a.state=h,qo(t,r,a,i),l=t.memoizedState,s!==r||h!==l||Ni.current||Mo?("function"===typeof u&&(rs(t,n,u,r),l=t.memoizedState),(s=Mo||os(t,n,s,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Po(l):l=Pi(t,l=Ri(n)?Ai:Ti.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&ss(t,a,r,l),Mo=!1,h=t.memoizedState,a.state=h,qo(t,r,a,i);var p=t.memoizedState;s!==d||h!==p||Ni.current||Mo?("function"===typeof f&&(rs(t,n,f,r),p=t.memoizedState),(c=Mo||os(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ts(e,t,n,r,o,i)}function Ts(e,t,n,r,i,o){Ss(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&ji(t,n,!1),Gs(e,t,o);r=t.stateNode,ys.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ko(t,e.child,null,o),t.child=ko(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Ns(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Yo(e,t.containerInfo)}function As(e,t,n,r,i){return po(),go(i),t.flags|=256,ws(e,t,n,r),t.child}var Ps,Rs,Os,Ds,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,a=ea.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ei(ea,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Mc(l,i,0,null),e=Lc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Ls,e):Fs(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=us(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(a=Lc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&ko(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Ls,a);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Us(e,t,s,r=us(a=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(r=Nl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Lo(e,i),nc(r,e,i,-1))}return gc(),Us(e,t,s,r=us(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Hi[Wi++]=Yi,Hi[Wi++]=Ji,Hi[Wi++]=Qi,Yi=e.id,Ji=e.overflow,Qi=t),t=Fs(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Oc(r,s):(s=Lc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Ms(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Oc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&go(r),ko(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),No(e.return,t,n)}function zs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Bs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=ea.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(ea,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ta(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,o);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $s(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Ri(t.type)&&Oi(),Ks(t),null;case 3:return r=t.stateNode,Jo(),Si(Ni),Si(Ti),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),Rs(e,t),Ks(t),null;case 5:Zo(t);var i=Qo(Wo.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ks(t),null}if(e=Qo(Ko.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Ps(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?me(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Ur("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Ds(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Qo(Wo.current),Qo(Ko.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ks(t),null;case 13:if(Si(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),a=!1}else null!==oo&&(ac(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ea.current)?0===Dl&&(Dl=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return Jo(),Rs(e,t),null===e&&Br(t.stateNode.containerInfo),Ks(t),null;case 10:return To(t.type._context),Ks(t),null;case 19:if(Si(ea),null===(a=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)$s(a,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,$s(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Je()>Bl&&(t.flags|=128,r=!0,$s(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),$s(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return Ks(t),null}else 2*Je()-a.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,$s(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Je(),t.sibling=null,n=ea.current,Ei(ea,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ws(e,t){switch(to(t),t.tag){case 1:return Ri(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Jo(),Si(Ni),Si(Ti),ra(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(Si(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(ea),null;case 4:return Jo(),null;case 10:return To(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ps=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rs=function(){},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qo(Ko.current);var o,a=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),a=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qs=!1,Ys=!1,Js="function"===typeof WeakSet?WeakSet:Set,Xs=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ic(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Ic(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[gi],delete t[mi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ys||Zs(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&el(n,t,a),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Ys&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ic(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,hl(e,t,n),Ys=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(o(160));fl(a,s,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Ic(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(m){Ic(e,e.return,m)}try{nl(5,e,e.return)}catch(m){Ic(e,e.return,m)}}break;case 1:gl(t,e),vl(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(gl(t,e),vl(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ic(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&J(i,a),be(l,s);var u=be(l,a);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?me(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":X(i,a);break;case"textarea":oe(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(m){Ic(e,e.return,m)}}break;case 6:if(gl(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(m){Ic(e,e.return,m)}}break;case 3:if(gl(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Ic(e,e.return,m)}break;case 4:default:gl(t,e),vl(e);break;case 13:gl(t,e),vl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=Je())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(u=Ys)||d,gl(t,e),Ys=u):gl(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Xs=e,d=e.child;null!==d;){for(h=Xs=d;null!==Xs;){switch(p=(f=Xs).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zs(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Ic(r,n,m)}}break;case 5:Zs(f,f.return);break;case 22:if(null!==f.memoizedState){kl(h);continue}}null!==p?(p.return=f,Xs=p):kl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",s))}catch(m){Ic(e,e.return,m)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){Ic(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,sl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(o(161))}}catch(s){Ic(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Xs=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Xs;){var i=Xs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Qs;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Ys;s=Qs;var c=Ys;if(Qs=a,(Ys=l)&&!c)for(Xs=i;null!==Xs;)l=(a=Xs).child,22===a.tag&&null!==a.memoizedState?xl(i):null!==l?(l.return=a,Xs=l):xl(i);for(;null!==o;)Xs=o,bl(o,t,n),o=o.sibling;Xs=i,Qs=s,Ys=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Xs=o):wl(e)}}function wl(e){for(;null!==Xs;){var t=Xs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Go(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Go(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(o(163))}Ys||512&t.flags&&il(t)}catch(f){Ic(t,t.return,f)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function kl(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function xl(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Ic(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Ic(t,i,l)}}var o=t.return;try{il(t)}catch(l){Ic(t,o,l)}break;case 5:var a=t.return;try{il(t)}catch(l){Ic(t,a,l)}}}catch(l){Ic(t,t.return,l)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var _l,Il=Math.ceil,Sl=w.ReactCurrentDispatcher,El=w.ReactCurrentOwner,Cl=w.ReactCurrentBatchConfig,Tl=0,Nl=null,Al=null,Pl=0,Rl=0,Ol=Ii(0),Dl=0,Ll=null,Ml=0,jl=0,Fl=0,Ul=null,Vl=null,zl=0,Bl=1/0,ql=null,Gl=!1,$l=null,Kl=null,Hl=!1,Wl=null,Ql=0,Yl=0,Jl=null,Xl=-1,Zl=0;function ec(){return 0!==(6&Tl)?Je():-1!==Xl?Xl:Xl=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Pl?Pl&-Pl:null!==mo.transition?(0===Zl&&(Zl=gt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Yl)throw Yl=0,Jl=null,Error(o(185));vt(e,n,r),0!==(2&Tl)&&e===Nl||(e===Nl&&(0===(2&Tl)&&(jl|=n),4===Dl&&sc(e,Pl)),rc(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(Bl=Je()+500,Ui&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=ft(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===Nl?Pl:0);if(0===r)null!==n&&We(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&We(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(lc.bind(null,e)):zi(lc.bind(null,e)),ai((function(){0===(6&Tl)&&Bi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Xl=-1,Zl=0,0!==(6&Tl))throw Error(o(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Nl?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Tl;Tl|=2;var a=pc();for(Nl===e&&Pl===t||(ql=null,Bl=Je()+500,hc(e,t));;)try{yc();break}catch(l){fc(e,l)}Co(),Sl.current=a,Tl=i,null!==Al?t=0:(Nl=null,Pl=0,t=Dl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ll,hc(e,0),sc(e,r),rc(e,Je()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(a=pt(e))&&(r=a,t=oc(e,a))),1===t))throw n=Ll,hc(e,0),sc(e,r),rc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:kc(e,Vl,ql);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=zl+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(kc.bind(null,e,Vl,ql),t);break}kc(e,Vl,ql);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Il(r/1960))-r)){e.timeoutHandle=ri(kc.bind(null,e,Vl,ql),r);break}kc(e,Vl,ql);break;default:throw Error(o(329))}}}return rc(e,Je()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Vl,Vl=n,null!==t&&ac(t)),e}function ac(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function sc(e,t){for(t&=~Fl,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Tl))throw Error(o(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Je()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ll,hc(e,0),sc(e,t),rc(e,Je()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kc(e,Vl,ql),rc(e,Je()),null}function cc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Bl=Je()+500,Ui&&Bi())}}function uc(e){null!==Wl&&0===Wl.tag&&0===(6&Tl)&&xc();var t=Tl;Tl|=1;var n=Cl.transition,r=bt;try{if(Cl.transition=null,bt=1,e)return e()}finally{bt=r,Cl.transition=n,0===(6&(Tl=t))&&Bi()}}function dc(){Rl=Ol.current,Si(Ol)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:Jo(),Si(Ni),Si(Ti),ra();break;case 5:Zo(r);break;case 4:Jo();break;case 13:case 19:Si(ea);break;case 10:To(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Nl=e,Al=e=Oc(e.current,null),Pl=Rl=t,Dl=0,Ll=null,Fl=jl=Ml=0,Vl=Ul=null,null!==Ro){for(t=0;t<Ro.length;t++)if(null!==(r=(n=Ro[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Ro=null}return e}function fc(e,t){for(;;){var n=Al;try{if(Co(),ia.current=Xa,ua){for(var r=sa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ua=!1}if(aa=0,ca=la=sa=null,da=!1,ha=0,El.current=null,null===n||null===n.return){Dl=1,Ll=t,Al=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ms(s);if(null!==p){p.flags&=-257,vs(p,s,l,0,t),1&p.mode&&gs(a,u,t),c=u;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){gs(a,u,t),gc();break e}c=Error(o(426))}else if(io&&1&l.mode){var v=ms(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vs(v,s,l,0,t),go(cs(c,l));break e}}a=c=cs(c,l),4!==Dl&&(Dl=2),null===Ul?Ul=[a]:Ul.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Bo(a,fs(0,c,t));break e;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Kl||!Kl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Bo(a,ps(a,l,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(w){t=w,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function pc(){var e=Sl.current;return Sl.current=Xa,null===e?Xa:e}function gc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Nl||0===(268435455&Ml)&&0===(268435455&jl)||sc(Nl,Pl)}function mc(e,t){var n=Tl;Tl|=2;var r=pc();for(Nl===e&&Pl===t||(ql=null,hc(e,t));;)try{vc();break}catch(i){fc(e,i)}if(Co(),Tl=n,Sl.current=r,null!==Al)throw Error(o(261));return Nl=null,Pl=0,Dl}function vc(){for(;null!==Al;)bc(Al)}function yc(){for(;null!==Al&&!Qe();)bc(Al)}function bc(e){var t=_l(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?wc(e):Al=t,El.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Hs(n,t,Rl)))return void(Al=n)}else{if(null!==(n=Ws(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Dl=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Dl&&(Dl=5)}function kc(e,t,n){var r=bt,i=Cl.transition;try{Cl.transition=null,bt=1,function(e,t,n,r){do{xc()}while(null!==Wl);if(0!==(6&Tl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Nl&&(Al=Nl=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hl||(Hl=!0,Nc(tt,(function(){return xc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Cl.transition,Cl.transition=null;var s=bt;bt=1;var l=Tl;Tl|=4,El.current=null,function(e,t){if(ei=Gt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(k){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=s),f===a&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ns(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(k){Ic(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}g=tl,tl=!1}(e,n),ml(n,e),pr(ti),Gt=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Ye(),Tl=l,bt=s,Cl.transition=a}else e.current=n;if(Hl&&(Hl=!1,Wl=e,Ql=i),a=e.pendingLanes,0===a&&(Kl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gl)throw Gl=!1,e=$l,$l=null,e;0!==(1&Ql)&&0!==e.tag&&xc(),a=e.pendingLanes,0!==(1&a)?e===Jl?Yl++:(Yl=0,Jl=e):Yl=0,Bi()}(e,t,n,r)}finally{Cl.transition=i,bt=r}return null}function xc(){if(null!==Wl){var e=wt(Ql),t=Cl.transition,n=bt;try{if(Cl.transition=null,bt=16>e?16:e,null===Wl)var r=!1;else{if(e=Wl,Wl=null,Ql=0,0!==(6&Tl))throw Error(o(331));var i=Tl;for(Tl|=4,Xs=e.current;null!==Xs;){var a=Xs,s=a.child;if(0!==(16&Xs.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Xs=u;null!==Xs;){var d=Xs;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Xs=h;else for(;null!==Xs;){var f=(d=Xs).sibling,p=d.return;if(ol(d),d===u){Xs=null;break}if(null!==f){f.return=p,Xs=f;break}Xs=p}}}var g=a.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Xs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Xs=s;else e:for(;null!==Xs;){if(0!==(2048&(a=Xs).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Xs=y;break e}Xs=a.return}}var b=e.current;for(Xs=b;null!==Xs;){var w=(s=Xs).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Xs=w;else e:for(s=b;null!==Xs;){if(0!==(2048&(l=Xs).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(x){Ic(l,l.return,x)}if(l===s){Xs=null;break e}var k=l.sibling;if(null!==k){k.return=l.return,Xs=k;break e}Xs=l.return}}if(Tl=i,Bi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Cl.transition=t}}return!1}function _c(e,t,n){e=Vo(e,t=fs(0,t=cs(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function Ic(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Vo(t,e=ps(t,e=cs(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(Pl&n)===n&&(4===Dl||3===Dl&&(130023424&Pl)===Pl&&500>Je()-zl?hc(e,0):Fl|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Lo(e,t))&&(vt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Ec(e,n)}function Nc(e,t){return He(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Ac(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Rc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Lc(n.children,i,a,t);case I:s=8,i|=8;break;case S:return(e=Pc(12,n,t,2|i)).elementType=S,e.lanes=a,e;case N:return(e=Pc(13,n,t,i)).elementType=N,e.lanes=a,e;case A:return(e=Pc(19,n,t,i)).elementType=A,e.lanes=a,e;case O:return Mc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case C:s=9;break e;case T:s=11;break e;case P:s=14;break e;case R:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Pc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Lc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,o,a,s,l){return e=new Uc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Pc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jo(o),e}function zc(e){if(!e)return Ci;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function Bc(e,t,n,r,i,o,a,s,l){return(e=Vc(n,r,!0,e,0,o,0,s,l)).context=zc(null),n=e.current,(o=Uo(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Vo(n,o,i),e.current.lanes=i,vt(e,i,r),rc(e,r),e}function qc(e,t,n,r){var i=t.current,o=ec(),a=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Uo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Vo(i,t,a))&&(nc(e,i,a,o),zo(e,i,a)),a}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function $c(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){$c(e,t),(e=e.alternate)&&$c(e,t)}_l=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ns(t),po();break;case 5:Xo(t);break;case 1:Ri(t.type)&&Mi(t);break;case 4:Yo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(_o,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(Ei(ea,1&ea.current),null!==(e=Gs(e,t,n))?e.sibling:null);Ei(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,Is(e,t,n)}return Gs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,io&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var i=Pi(t,Ti.current);Ao(t,n),i=ma(null,t,r,e,i,n);var a=va();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(a=!0,Mi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,jo(t),i.updater=is,t.stateNode=i,i._reactInternals=t,ls(t,r,e,n),t=Ts(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===P)return 14}return 2}(r),e=ns(r,e),i){case 0:t=Es(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=ks(null,t,r,e,n);break e;case 14:t=xs(null,t,r,ns(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Es(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 3:e:{if(Ns(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Fo(e,t),qo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=As(e,t,r,n,i=cs(Error(o(423)),t));break e}if(r!==i){t=As(e,t,r,n,i=cs(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=xo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Gs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return Xo(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Ss(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return js(e,t,n);case 4:return Yo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ko(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ks(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ei(_o,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ni.current){t=Gs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Uo(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),No(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),No(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ao(t,n),r=r(i=Po(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ns(r=t.type,t.pendingProps),xs(e,t,r,i=ns(r.type,i),n);case 15:return _s(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),qs(e,t),t.tag=1,Ri(r)?(e=!0,Mi(t)):e=!1,Ao(t,n),as(t,r,i),ls(t,r,i,n),Ts(null,t,r,!0,e,n);case 19:return Bs(e,t,n);case 22:return Is(e,t,n)}throw Error(o(156,t.tag))};var Hc="function"===typeof reportError?reportError:function(e){console.error(e)};function Wc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Gc(a);s.call(e)}}qc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Gc(a);o.call(e)}}var a=Bc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=a,e[pi]=a.current,Br(8===e.nodeType?e.parentNode:e),uc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Gc(l);s.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),uc((function(){qc(t,l,n,r)})),l}(n,t,e,i,r);return Gc(a)}Qc.prototype.render=Wc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));qc(e,t,null,null)},Qc.prototype.unmount=Wc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){qc(null,e,null,null)})),t[pi]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&jt(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Je()),0===(6&Tl)&&(Bl=Je()+500,Bi()))}break;case 13:uc((function(){var t=Lo(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Kc(e,1)}},xt=function(e){if(13===e.tag){var t=Lo(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),n=Lo(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},It=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ki(r);if(!i)throw Error(o(90));H(r),X(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,Ne=uc;var eu={usingClientEntryPoint:!1,Events:[bi,wi,ki,Ee,Ce,cc]},tu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(o(299));var n=!1,r="",i=Hc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Wc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(o(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Hc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(o(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(o(40));return!!e._reactRootContainer&&(uc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},766:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=function(e){var t=(0,i.default)(e);return{getItem:function(e){return new Promise((function(n,r){n(t.getItem(e))}))},setItem:function(e,n){return new Promise((function(r,i){r(t.setItem(e,n))}))},removeItem:function(e){return new Promise((function(n,r){n(t.removeItem(e))}))}}};var r,i=(r=n(4))&&r.__esModule?r:{default:r}},828:(e,t,n)=>{var r;!function(){var i=window.CustomEvent;function o(e){for(;e;){if("dialog"===e.localName)return e;e=e.parentElement}return null}function a(e){e&&e.blur&&e!==document.body&&e.blur()}function s(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1}function l(e){return!(!e||!e.hasAttribute("method"))&&"dialog"===e.getAttribute("method").toLowerCase()}function c(e){if(this.dialog_=e,this.replacedStyleTop_=!1,this.openAsModal_=!1,e.hasAttribute("role")||e.setAttribute("role","dialog"),e.show=this.show.bind(this),e.showModal=this.showModal.bind(this),e.close=this.close.bind(this),"returnValue"in e||(e.returnValue=""),"MutationObserver"in window){new MutationObserver(this.maybeHideModal.bind(this)).observe(e,{attributes:!0,attributeFilter:["open"]})}else{var t,n=!1,r=function(){n?this.downgradeModal():this.maybeHideModal(),n=!1}.bind(this),i=function(i){if(i.target===e){var o="DOMNodeRemoved";n|=i.type.substr(0,14)===o,window.clearTimeout(t),t=window.setTimeout(r,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach((function(t){e.addEventListener(t,i)}))}Object.defineProperty(e,"open",{set:this.setOpen.bind(this),get:e.hasAttribute.bind(e,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}i&&"object"!==typeof i||((i=function(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail||null),n}).prototype=window.Event.prototype),c.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),u.dm.removeDialog(this))},setOpen:function(e){e?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(e){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var t=document.createElement("div");this.dialog_.insertBefore(t,this.dialog_.firstChild),t.tabIndex=-1,t.focus(),this.dialog_.removeChild(t)}var n=document.createEvent("MouseEvents");n.initMouseEvent(e.type,e.bubbles,e.cancelable,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),this.dialog_.dispatchEvent(n),e.stopPropagation()},focus_:function(){var e=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!e&&this.dialog_.tabIndex>=0&&(e=this.dialog_),!e){var t=["button","input","keygen","select","textarea"].map((function(e){return e+":not([disabled])"}));t.push('[tabindex]:not([disabled]):not([tabindex=""])'),e=this.dialog_.querySelector(t.join(", "))}a(document.activeElement),e&&e.focus()},updateZIndex:function(e,t){if(e<t)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=e,this.backdrop_.style.zIndex=t},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!u.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function(e){for(;e&&e!==document.body;){var t=window.getComputedStyle(e),n=function(e,n){return!(void 0===t[e]||t[e]===n)};if(t.opacity<1||n("zIndex","auto")||n("transform","none")||n("mixBlendMode","normal")||n("filter","none")||n("perspective","none")||"isolate"===t.isolation||"fixed"===t.position||"touch"===t.webkitOverflowScrolling)return!0;e=e.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,u.needsCentering(this.dialog_)?(u.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(e){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==e&&(this.dialog_.returnValue=e);var t=new i("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(t)}};var u={reposition:function(e){var t=document.body.scrollTop||document.documentElement.scrollTop,n=t+(window.innerHeight-e.offsetHeight)/2;e.style.top=Math.max(t,n)+"px"},isInlinePositionSetByStylesheet:function(e){for(var t=0;t<document.styleSheets.length;++t){var n=document.styleSheets[t],r=null;try{r=n.cssRules}catch(u){}if(r)for(var i=0;i<r.length;++i){var o=r[i],a=null;try{a=document.querySelectorAll(o.selectorText)}catch(u){}if(a&&s(a,e)){var l=o.style.getPropertyValue("top"),c=o.style.getPropertyValue("bottom");if(l&&"auto"!==l||c&&"auto"!==c)return!0}}}return!1},needsCentering:function(e){return"absolute"===window.getComputedStyle(e).position&&(!("auto"!==e.style.top&&""!==e.style.top||"auto"!==e.style.bottom&&""!==e.style.bottom)&&!u.isInlinePositionSetByStylesheet(e))},forceRegisterDialog:function(e){if((window.HTMLDialogElement||e.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",e),"dialog"!==e.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new c(e)},registerDialog:function(e){e.showModal||u.forceRegisterDialog(e)},DialogManager:function(){this.pendingDialogStack=[];var e=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(t){this.forwardTab_=void 0,t.stopPropagation(),e([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver((function(t){var n=[];t.forEach((function(e){for(var t,r=0;t=e.removedNodes[r];++r)t instanceof Element&&("dialog"===t.localName&&n.push(t),n=n.concat(t.querySelectorAll("dialog")))})),n.length&&e(n)})))}};if(u.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},u.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},u.DialogManager.prototype.updateStacking=function(){for(var e,t=this.zIndexHigh_,n=0;e=this.pendingDialogStack[n];++n)e.updateZIndex(--t,--t),0===n&&(this.overlay.style.zIndex=--t);var r=this.pendingDialogStack[0];r?(r.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},u.DialogManager.prototype.containedByTopDialog_=function(e){for(;e=o(e);){for(var t,n=0;t=this.pendingDialogStack[n];++n)if(t.dialog===e)return 0===n;e=e.parentElement}return!1},u.DialogManager.prototype.handleFocus_=function(e){if(!this.containedByTopDialog_(e.target)&&(e.preventDefault(),e.stopPropagation(),a(e.target),void 0!==this.forwardTab_)){var t=this.pendingDialogStack[0];return t.dialog.compareDocumentPosition(e.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?t.focus_():document.documentElement.focus()),!1}},u.DialogManager.prototype.handleKey_=function(e){if(this.forwardTab_=void 0,27===e.keyCode){e.preventDefault(),e.stopPropagation();var t=new i("cancel",{bubbles:!1,cancelable:!0}),n=this.pendingDialogStack[0];n&&n.dialog.dispatchEvent(t)&&n.dialog.close()}else 9===e.keyCode&&(this.forwardTab_=!e.shiftKey)},u.DialogManager.prototype.checkDOM_=function(e){this.pendingDialogStack.slice().forEach((function(t){-1!==e.indexOf(t.dialog)?t.downgradeModal():t.maybeHideModal()}))},u.DialogManager.prototype.pushDialog=function(e){var t=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=t)&&(1===this.pendingDialogStack.unshift(e)&&this.blockDocument(),this.updateStacking(),!0)},u.DialogManager.prototype.removeDialog=function(e){var t=this.pendingDialogStack.indexOf(e);-1!==t&&(this.pendingDialogStack.splice(t,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},u.dm=new u.DialogManager,u.formSubmitter=null,u.useValue=null,void 0===window.HTMLDialogElement){var d=document.createElement("form");if(d.setAttribute("method","dialog"),"dialog"!==d.method){var h=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(h){var f=h.get;h.get=function(){return l(this)?"dialog":f.call(this)};var p=h.set;h.set=function(e){return"string"===typeof e&&"dialog"===e.toLowerCase()?this.setAttribute("method",e):p.call(this,e)},Object.defineProperty(HTMLFormElement.prototype,"method",h)}}document.addEventListener("click",(function(e){if(u.formSubmitter=null,u.useValue=null,!e.defaultPrevented){var t=e.target;if(t&&l(t.form)){if(!("submit"===t.type&&["button","input"].indexOf(t.localName)>-1)){if("input"!==t.localName||"image"!==t.type)return;u.useValue=e.offsetX+","+e.offsetY}o(t)&&(u.formSubmitter=t)}}}),!1);var g=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!l(this))return g.call(this);var e=o(this);e&&e.close()},document.addEventListener("submit",(function(e){var t=e.target;if(l(t)){e.preventDefault();var n=o(t);if(n){var r=u.formSubmitter;r&&r.form===t?n.close(u.useValue||r.value):n.close(),u.formSubmitter=null}}}),!0)}u.forceRegisterDialog=u.forceRegisterDialog,u.registerDialog=u.registerDialog,"amd"in n.amdD?void 0===(r=function(){return u}.call(t,n,t,e))||(e.exports=r):"object"===typeof e.exports?e.exports=u:window.dialogPolyfill=u}()},853:(e,t,n)=>{"use strict";e.exports=n(234)},901:(e,t,n)=>{"use strict";var r;t.A=void 0;var i=(0,((r=n(766))&&r.__esModule?r:{default:r}).default)("local");t.A=i},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,n.amdD=function(){throw new Error("define cannot be used indirect")},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(o,a),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+"."+{453:"f73864c3",885:"96dcaac4"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="kingdoms:";n.l=(r,i,o,a)=>{if(e[r])e[r].push(i);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,o,a=r[0],s=r[1],l=r[2],c=0;if(a.some((t=>0!==e[t]))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkkingdoms=self.webpackChunkkingdoms||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>qs,SDK_VERSION:()=>Sc,_DEFAULT_ENTRY_NAME:()=>cc,_addComponent:()=>pc,_addOrOverwriteComponent:()=>gc,_apps:()=>dc,_clearComponents:()=>kc,_components:()=>fc,_getProvider:()=>vc,_isFirebaseApp:()=>bc,_isFirebaseServerApp:()=>wc,_registerComponent:()=>mc,_removeServiceInstance:()=>yc,_serverApps:()=>hc,deleteApp:()=>Ac,getApp:()=>Tc,getApps:()=>Nc,initializeApp:()=>Ec,initializeServerApp:()=>Cc,onLog:()=>Rc,registerVersion:()=>Pc,setLogLevel:()=>Oc});var t=n(43),r=n.t(t,2),i=n(391);const o=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:a}=t;n(e),r(e),i(e),o(e),a(e)}))};var a,s=n(950),l=n.t(s,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(a||(a={}));const u="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function g(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function v(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,l=a.Pop,h=null,m=v();function v(){return(s.state||{idx:null}).idx}function y(){l=a.Pop;let e=v(),t=null==e?null:e-m;m=e,h&&h({action:l,location:w.location,delta:t})}function b(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:g(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==m&&(m=0,s.replaceState(c({},s.state,{idx:m}),""));let w={get action(){return l},get location(){return e(i,s)},listen(e){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(u,y),h=e,()=>{i.removeEventListener(u,y),h=null}},createHref:e=>t(i,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=a.Push;let r=p(w.location,e,t);n&&n(r,e),m=v()+1;let c=f(r,m),u=w.createHref(r);try{s.pushState(c,"",u)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;i.location.assign(u)}o&&h&&h({action:l,location:w.location,delta:1})},replace:function(e,t){l=a.Replace;let r=p(w.location,e,t);n&&n(r,e),m=v();let i=f(r,m),c=w.createHref(r);s.replaceState(i,"",c),o&&h&&h({action:l,location:w.location,delta:0})},go:e=>s.go(e)};return w}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,n){return void 0===n&&(n="/"),w(e,t,n,!1)}function w(e,t,n,r){let i=D(("string"===typeof t?m(t):t).pathname||"/",n);if(null==i)return null;let o=k(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let a=null;for(let s=0;null==a&&s<o.length;++s){let e=O(i);a=P(o[s],e,r)}return a}function k(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(d(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=L([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),k(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:A(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of x(e.path))i(e,t,r);else i(e,t)})),t}function x(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=x(r.join("/")),s=[];return s.push(...a.map((e=>""===e?o:[o,e].join("/")))),i&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const _=/^:[\w-]+$/,I=3,S=2,E=1,C=10,T=-2,N=e=>"*"===e;function A(e,t){let n=e.split("/"),r=n.length;return n.some(N)&&(r+=T),t&&(r+=S),n.filter((e=>!N(e))).reduce(((e,t)=>e+(_.test(t)?I:""===t?E:C)),r)}function P(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:L([o,u.pathname]),pathnameBase:M(L([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=L([o,u.pathnameBase]))}return a}function R(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:o,pathnameBase:a,pattern:e}}function O(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}const L=e=>e.join("/").replace(/\/\/+/g,"/"),M=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");Error;function j(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const F=["post","put","patch","delete"],U=(new Set(F),["get",...F]);new Set(U),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V.apply(this,arguments)}const z=t.createContext(null);const B=t.createContext(null);const q=t.createContext(null);const G=t.createContext(null);const $=t.createContext({outlet:null,matches:[],isDataRoute:!1});const K=t.createContext(null);function H(){return null!=t.useContext(G)}function W(){return H()||d(!1),t.useContext(G).location}function Q(e,n,r,i){H()||d(!1);let{navigator:o,static:s}=t.useContext(q),{matches:l}=t.useContext($),c=l[l.length-1],u=c?c.params:{},h=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let f,p=W();if(n){var g;let e="string"===typeof n?m(n):n;"/"===h||(null==(g=e.pathname)?void 0:g.startsWith(h))||d(!1),f=e}else f=p;let v=f.pathname||"/",y=v;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=!s&&r&&r.matches&&r.matches.length>0?r.matches:b(e,{pathname:y});let k=ee(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:L([h,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:L([h,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,r,i);return n&&k?t.createElement(G.Provider,{value:{location:V({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:a.Pop}},k):k}function Y(){let e=function(){var e;let n=t.useContext(K),r=ne(te.UseRouteError),i=re(te.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=j(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:o},r):null,null)}const J=t.createElement(Y,null);class X extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement($.Provider,{value:this.props.routeContext},t.createElement(K.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Z(e){let{routeContext:n,match:r,children:i}=e,o=t.useContext(z);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement($.Provider,{value:n},i)}function ee(e,n,r,i){var o;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==e){var a;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(a=i)&&a.v7_partialHydration&&0===n.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let s=e,l=null==(o=r)?void 0:o.errors;if(null!=l){let e=s.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||d(!1),s=s.slice(0,Math.min(s.length,e+1))}let c=!1,u=-1;if(r&&i&&i.v7_partialHydration)for(let t=0;t<s.length;t++){let e=s[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){c=!0,s=u>=0?s.slice(0,u+1):[s[0]];break}}}return s.reduceRight(((e,i,o)=>{let a,d=!1,h=null,f=null;var p;r&&(a=l&&i.route.id?l[i.route.id]:void 0,h=i.route.errorElement||J,c&&(u<0&&0===o?(p="route-fallback",!1||ie[p]||(ie[p]=!0),d=!0,f=null):u===o&&(d=!0,f=i.route.hydrateFallbackElement||null)));let g=n.concat(s.slice(0,o+1)),m=()=>{let n;return n=a?h:d?f:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(Z,{match:i,routeContext:{outlet:e,matches:g,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?t.createElement(X,{location:r.location,revalidation:r.revalidation,component:h,error:a,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()}),null)}var te=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(te||{});function ne(e){let n=t.useContext(B);return n||d(!1),n}function re(e){let n=function(){let e=t.useContext($);return e||d(!1),e}(),r=n.matches[n.matches.length-1];return r.route.id||d(!1),r.route.id}const ie={};function oe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}r.startTransition;function ae(e){d(!1)}function se(e){let{basename:n="/",children:r=null,location:i,navigationType:o=a.Pop,navigator:s,static:l=!1,future:c}=e;H()&&d(!1);let u=n.replace(/^\/*/,"/"),h=t.useMemo((()=>({basename:u,navigator:s,static:l,future:V({v7_relativeSplatPath:!1},c)})),[u,c,s,l]);"string"===typeof i&&(i=m(i));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:y="default"}=i,b=t.useMemo((()=>{let e=D(f,u);return null==e?null:{location:{pathname:e,search:p,hash:g,state:v,key:y},navigationType:o}}),[u,f,p,g,v,y,o]);return null==b?null:t.createElement(q.Provider,{value:h},t.createElement(G.Provider,{children:r,value:b}))}function le(e){let{children:t,location:n}=e;return Q(ce(t),n)}new Promise((()=>{}));t.Component;function ce(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let o=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,ce(e.props.children,o));e.type!==ae&&d(!1),e.props.index&&e.props.children&&d(!1);let a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=ce(e.props.children,o)),r.push(a)})),r}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(Sj){}new Map;const ue=r.startTransition;l.flushSync,r.useId;function de(e){let{basename:n,children:r,future:i,window:o}=e,a=t.useRef();var s;null==a.current&&(a.current=(void 0===(s={window:o,v5Compat:!0})&&(s={}),v((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return p("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:g(t)}),null,s)));let l=a.current,[c,u]=t.useState({action:l.action,location:l.location}),{v7_startTransition:d}=i||{},h=t.useCallback((e=>{d&&ue?ue((()=>u(e))):u(e)}),[u,d]);return t.useLayoutEffect((()=>l.listen(h)),[l,h]),t.useEffect((()=>oe(i)),[i]),t.createElement(se,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l,future:i})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var he,fe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(he||(he={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(fe||(fe={}));function pe(){return pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pe.apply(null,arguments)}var ge=["id","volume","playbackRate","soundEnabled","interrupt","onload"];const me=function(e,r){var i,o=void 0===r?{}:r,a=o.volume,s=void 0===a?1:a,l=o.playbackRate,c=void 0===l?1:l,u=o.soundEnabled,d=void 0===u||u,h=o.interrupt,f=void 0!==h&&h,p=o.onload,g=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(o,ge),m=t.useRef(null),v=t.useRef(!1),y=t.useState(null),b=y[0],w=y[1],k=t.useState(null),x=k[0],_=k[1],I=function(){"function"===typeof p&&p.call(this),v.current&&w(1e3*this.duration()),_(this)};i=function(){return n.e(885).then(n.t.bind(n,885,23)).then((function(t){var n;v.current||(m.current=null!==(n=t.Howl)&&void 0!==n?n:t.default.Howl,v.current=!0,new m.current(pe({src:Array.isArray(e)?e:[e],volume:s,rate:c,onload:I},g)))})),function(){v.current=!1}},(0,t.useEffect)(i,[]),t.useEffect((function(){m.current&&x&&_(new m.current(pe({src:Array.isArray(e)?e:[e],volume:s,onload:I},g)))}),[JSON.stringify(e)]),t.useEffect((function(){x&&(x.volume(s),x.rate(c))}),[s,c]);var S=t.useCallback((function(e){"undefined"===typeof e&&(e={}),x&&(d||e.forceSoundEnabled)&&(f&&x.stop(),e.playbackRate&&x.rate(e.playbackRate),x.play(e.id))}),[x,d,f]),E=t.useCallback((function(e){x&&x.stop(e)}),[x]),C=t.useCallback((function(e){x&&x.pause(e)}),[x]);return[S,{sound:x,stop:E,pause:C,duration:b}]};var ve=n(461),ye=n(443);let be=function(e){e()};const we=()=>be,ke=Symbol.for("react-redux-context"),xe="undefined"!==typeof globalThis?globalThis:{};function _e(){var e;if(!t.createContext)return{};const n=null!=(e=xe[ke])?e:xe[ke]=new Map;let r=n.get(t.createContext);return r||(r=t.createContext(null),n.set(t.createContext,r)),r}const Ie=_e();function Se(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie;return function(){return(0,t.useContext)(e)}}const Ee=Se();let Ce=()=>{throw new Error("uSES not initialized!")};const Te=(e,t)=>e===t;function Ne(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie;const n=e===Ie?Ee:Se(e);return function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:i=Te,stabilityCheck:o,noopCheck:a}="function"===typeof r?{equalityFn:r}:r;const{store:s,subscription:l,getServerState:c,stabilityCheck:u,noopCheck:d}=n(),h=((0,t.useRef)(!0),(0,t.useCallback)({[e.name]:t=>e(t)}[e.name],[e,u,o])),f=Ce(l.addNestedSub,s.getState,c||s.getState,h,i);return(0,t.useDebugValue)(f),f}}const Ae=Ne();n(219),n(706);const Pe={notify(){},get:()=>[]};function Re(e,t){let n,r=Pe,i=0,o=!1;function a(){c.onStateChange&&c.onStateChange()}function s(){i++,n||(n=t?t.addNestedSub(a):e.subscribe(a),r=function(){const e=we();let t=null,n=null;return{clear(){t=null,n=null},notify(){e((()=>{let e=t;for(;e;)e.callback(),e=e.next}))},get(){let e=[],n=t;for(;n;)e.push(n),n=n.next;return e},subscribe(e){let r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}function l(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=Pe)}const c={addNestedSub:function(e){s();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:a,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,s())},tryUnsubscribe:function(){o&&(o=!1,l())},getListeners:()=>r};return c}const Oe=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;let De=null;const Le=function(e){let{store:n,context:r,children:i,serverState:o,stabilityCheck:a="once",noopCheck:s="once"}=e;const l=t.useMemo((()=>{const e=Re(n);return{store:n,subscription:e,getServerState:o?()=>o:void 0,stabilityCheck:a,noopCheck:s}}),[n,o,a,s]),c=t.useMemo((()=>n.getState()),[n]);Oe((()=>{const{subscription:e}=l;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),c!==n.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[l,c]);const u=r||Ie;return t.createElement(u.Provider,{value:l},i)};function Me(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie;const t=e===Ie?Ee:Se(e);return function(){const{store:e}=t();return e}}const je=Me();function Fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie;const t=e===Ie?je:Me(e);return function(){return t().dispatch}}const Ue=Fe();var Ve;(e=>{Ce=e})(ye.useSyncExternalStoreWithSelector),(e=>{De=e})(ve.useSyncExternalStore),Ve=s.unstable_batchedUpdates,be=Ve;const ze=()=>Ue(),Be=Ae;function qe(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ge(e){return!!e&&!!e[Ot]}function $e(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Dt}(e)||Array.isArray(e)||!!e[Rt]||!!(null===(t=e.constructor)||void 0===t?void 0:t[Rt])||Xe(e)||Ze(e))}function Ke(e,t,n){void 0===n&&(n=!1),0===He(e)?(n?Object.keys:Lt)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function He(e){var t=e[Ot];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Xe(e)?2:Ze(e)?3:0}function We(e,t){return 2===He(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Qe(e,t){return 2===He(e)?e.get(t):e[t]}function Ye(e,t,n){var r=He(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Je(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function Xe(e){return Tt&&e instanceof Map}function Ze(e){return Nt&&e instanceof Set}function et(e){return e.o||e.t}function tt(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Mt(e);delete t[Ot];for(var n=Lt(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function nt(e,t){return void 0===t&&(t=!1),it(e)||Ge(e)||!$e(e)||(He(e)>1&&(e.set=e.add=e.clear=e.delete=rt),Object.freeze(e),t&&Ke(e,(function(e,t){return nt(t,!0)}),!0)),e}function rt(){qe(2)}function it(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function ot(e){var t=jt[e];return t||qe(18,e),t}function at(e,t){jt[e]||(jt[e]=t)}function st(){return Et}function lt(e,t){t&&(ot("Patches"),e.u=[],e.s=[],e.v=t)}function ct(e){ut(e),e.p.forEach(ht),e.p=null}function ut(e){e===Et&&(Et=e.l)}function dt(e){return Et={p:[],l:Et,h:e,m:!0,_:0}}function ht(e){var t=e[Ot];0===t.i||1===t.i?t.j():t.g=!0}function ft(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||ot("ES5").S(t,e,r),r?(n[Ot].P&&(ct(t),qe(4)),$e(e)&&(e=pt(t,e),t.l||mt(t,e)),t.u&&ot("Patches").M(n[Ot].t,e,t.u,t.s)):e=pt(t,n,[]),ct(t),t.u&&t.v(t.u,t.s),e!==Pt?e:void 0}function pt(e,t,n){if(it(t))return t;var r=t[Ot];if(!r)return Ke(t,(function(i,o){return gt(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return mt(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=tt(r.k):r.o,o=i,a=!1;3===r.i&&(o=new Set(i),i.clear(),a=!0),Ke(o,(function(t,o){return gt(e,r,i,t,o,n,a)})),mt(e,i,!1),n&&e.u&&ot("Patches").N(r,n,e.u,e.s)}return r.o}function gt(e,t,n,r,i,o,a){if(Ge(i)){var s=pt(e,i,o&&t&&3!==t.i&&!We(t.R,r)?o.concat(r):void 0);if(Ye(n,r,s),!Ge(s))return;e.m=!1}else a&&n.add(i);if($e(i)&&!it(i)){if(!e.h.D&&e._<1)return;pt(e,i),t&&t.A.l||mt(e,i)}}function mt(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&nt(t,n)}function vt(e,t){var n=e[Ot];return(n?et(n):e)[t]}function yt(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function bt(e){e.P||(e.P=!0,e.l&&bt(e.l))}function wt(e){e.o||(e.o=tt(e.t))}function kt(e,t,n){var r=Xe(t)?ot("MapSet").F(t,n):Ze(t)?ot("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:st(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=Ft;n&&(i=[r],o=Ut);var a=Proxy.revocable(i,o),s=a.revoke,l=a.proxy;return r.k=l,r.j=s,l}(t,n):ot("ES5").J(t,n);return(n?n.A:st()).p.push(r),r}function xt(e){return Ge(e)||qe(22,e),function e(t){if(!$e(t))return t;var n,r=t[Ot],i=He(t);if(r){if(!r.P&&(r.i<4||!ot("ES5").K(r)))return r.t;r.I=!0,n=_t(t,i),r.I=!1}else n=_t(t,i);return Ke(n,(function(t,i){r&&Qe(r.t,t)===i||Ye(n,t,e(i))})),3===i?new Set(n):n}(e)}function _t(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return tt(e)}function It(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[Ot];return Ft.get(t,e)},set:function(t){var n=this[Ot];Ft.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][Ot];if(!i.P)switch(i.i){case 5:r(i)&&bt(i);break;case 4:n(i)&&bt(i)}}}function n(e){for(var t=e.t,n=e.k,r=Lt(n),i=r.length-1;i>=0;i--){var o=r[i];if(o!==Ot){var a=t[o];if(void 0===a&&!We(t,o))return!0;var s=n[o],l=s&&s[Ot];if(l?l.t!==a:!Je(s,a))return!0}}var c=!!t[Ot];return r.length!==Lt(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};at("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var o=Mt(n);delete o[Ot];for(var a=Lt(o),s=0;s<a.length;s++){var l=a[s];o[l]=e(l,t||!!o[l].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(r,t),o={i:r?5:4,A:n?n.A:st(),P:!1,I:!1,R:{},l:n,t:t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,Ot,{value:o,writable:!0}),i},S:function(e,n,i){i?Ge(n)&&n[Ot].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[Ot];if(n){var i=n.t,o=n.k,a=n.R,s=n.i;if(4===s)Ke(o,(function(t){t!==Ot&&(void 0!==i[t]||We(i,t)?a[t]||e(o[t]):(a[t]=!0,bt(n)))})),Ke(i,(function(e){void 0!==o[e]||We(o,e)||(a[e]=!1,bt(n))}));else if(5===s){if(r(n)&&(bt(n),a.length=!0),o.length<i.length)for(var l=o.length;l<i.length;l++)a[l]=!1;else for(var c=i.length;c<o.length;c++)a[c]=!0;for(var u=Math.min(o.length,i.length),d=0;d<u;d++)o.hasOwnProperty(d)||(a[d]=!0),void 0===a[d]&&e(o[d])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}var St,Et,Ct="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Tt="undefined"!=typeof Map,Nt="undefined"!=typeof Set,At="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Pt=Ct?Symbol.for("immer-nothing"):((St={})["immer-nothing"]=!0,St),Rt=Ct?Symbol.for("immer-draftable"):"__$immer_draftable",Ot=Ct?Symbol.for("immer-state"):"__$immer_state",Dt=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),Lt="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Mt=Object.getOwnPropertyDescriptors||function(e){var t={};return Lt(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},jt={},Ft={get:function(e,t){if(t===Ot)return e;var n=et(e);if(!We(n,t))return function(e,t,n){var r,i=yt(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!$e(r)?r:r===vt(e.t,t)?(wt(e),e.o[t]=kt(e.A.h,r,e)):r},has:function(e,t){return t in et(e)},ownKeys:function(e){return Reflect.ownKeys(et(e))},set:function(e,t,n){var r=yt(et(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=vt(et(e),t),o=null==i?void 0:i[Ot];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(Je(n,i)&&(void 0!==n||We(e.t,t)))return!0;wt(e),bt(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==vt(e.t,t)||t in e.t?(e.R[t]=!1,wt(e),bt(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=et(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){qe(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){qe(12)}},Ut={};Ke(Ft,(function(e,t){Ut[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Ut.deleteProperty=function(e,t){return Ut.set.call(this,e,t,void 0)},Ut.set=function(e,t,n){return Ft.set.call(this,e[0],t,n,e[0])};var Vt=function(){function e(e){var t=this;this.O=At,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var o=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,a=Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return o.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(a))}))}}var a;if("function"!=typeof n&&qe(6),void 0!==r&&"function"!=typeof r&&qe(7),$e(e)){var s=dt(t),l=kt(t,e,void 0),c=!0;try{a=n(l),c=!1}finally{c?ct(s):ut(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return lt(s,r),ft(e,s)}),(function(e){throw ct(s),e})):(lt(s,r),ft(a,s))}if(!e||"object"!=typeof e){if(void 0===(a=n(e))&&(a=e),a===Pt&&(a=void 0),t.D&&nt(a,!0),r){var u=[],d=[];ot("Patches").M(e,a,u,d),r(u,d)}return a}qe(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,o=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,r,i]})):[o,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){$e(e)||qe(8),Ge(e)&&(e=xt(e));var t=dt(this),n=kt(this,e,void 0);return n[Ot].C=!0,ut(t),n},t.finishDraft=function(e,t){var n=(e&&e[Ot]).A;return lt(n,t),ft(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!At&&qe(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=ot("Patches").$;return Ge(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),zt=new Vt,Bt=zt.produce;zt.produceWithPatches.bind(zt),zt.setAutoFreeze.bind(zt),zt.setUseProxies.bind(zt),zt.applyPatches.bind(zt),zt.createDraft.bind(zt),zt.finishDraft.bind(zt);const qt=Bt;function Gt(e){return Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gt(e)}function $t(e){var t=function(e,t){if("object"!=Gt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Gt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Gt(t)?t:t+""}function Kt(e,t,n){return(t=$t(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(n),!0).forEach((function(t){Kt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qt(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Yt="function"===typeof Symbol&&Symbol.observable||"@@observable",Jt=function(){return Math.random().toString(36).substring(7).split("").join(".")},Xt={INIT:"@@redux/INIT"+Jt(),REPLACE:"@@redux/REPLACE"+Jt(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Jt()}};function Zt(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function en(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Qt(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Qt(1));return n(en)(e,t)}if("function"!==typeof e)throw new Error(Qt(2));var i=e,o=t,a=[],s=a,l=!1;function c(){s===a&&(s=a.slice())}function u(){if(l)throw new Error(Qt(3));return o}function d(e){if("function"!==typeof e)throw new Error(Qt(4));if(l)throw new Error(Qt(5));var t=!0;return c(),s.push(e),function(){if(t){if(l)throw new Error(Qt(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),a=null}}}function h(e){if(!Zt(e))throw new Error(Qt(7));if("undefined"===typeof e.type)throw new Error(Qt(8));if(l)throw new Error(Qt(9));try{l=!0,o=i(o,e)}finally{l=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}return h({type:Xt.INIT}),(r={dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Qt(10));i=e,h({type:Xt.REPLACE})}})[Yt]=function(){var e,t=d;return e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Qt(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}},e[Yt]=function(){return this},e},r}function tn(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var o,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:Xt.INIT}))throw new Error(Qt(12));if("undefined"===typeof n(void 0,{type:Xt.PROBE_UNKNOWN_ACTION()}))throw new Error(Qt(13))}))}(n)}catch(Sj){o=Sj}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},s=0;s<a.length;s++){var l=a[s],c=n[l],u=e[l],d=c(u,t);if("undefined"===typeof d){t&&t.type;throw new Error(Qt(14))}i[l]=d,r=r||d!==u}return(r=r||a.length!==Object.keys(e).length)?i:e}}function nn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function rn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Qt(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=nn.apply(void 0,o)(n.dispatch),Wt(Wt({},n),{},{dispatch:r})}}}function on(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var an=on();an.withExtraArgument=on;const sn=an;var ln=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cn=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(Sj){o=[6,Sj],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},un=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},dn=Object.defineProperty,hn=Object.defineProperties,fn=Object.getOwnPropertyDescriptors,pn=Object.getOwnPropertySymbols,gn=Object.prototype.hasOwnProperty,mn=Object.prototype.propertyIsEnumerable,vn=function(e,t,n){return t in e?dn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},yn=function(e,t){for(var n in t||(t={}))gn.call(t,n)&&vn(e,n,t[n]);if(pn)for(var r=0,i=pn(t);r<i.length;r++){n=i[r];mn.call(t,n)&&vn(e,n,t[n])}return e},bn=function(e,t){return hn(e,fn(t))},wn=function(e,t,n){return new Promise((function(r,i){var o=function(e){try{s(n.next(e))}catch(Sj){i(Sj)}},a=function(e){try{s(n.throw(e))}catch(Sj){i(Sj)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(o,a)};s((n=n.apply(e,t)).next())}))},kn="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?nn:nn.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function xn(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}function _n(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return yn(yn({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}var In=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return ln(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,un([void 0],e[0].concat(this)))):new(t.bind.apply(t,un([void 0],e.concat(this))))},t}(Array),Sn=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return ln(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,un([void 0],e[0].concat(this)))):new(t.bind.apply(t,un([void 0],e.concat(this))))},t}(Array);function En(e){return $e(e)?qt(e,(function(){})):e}function Cn(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,e.actionCreatorCheck,new In);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(sn.withExtraArgument(n.extraArgument)):r.push(sn));0;return r}(e)}}function Tn(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(!r)throw new Error("`builder.addCase` cannot be called with an empty action type");if(r in n)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function Nn(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:En(e.initialState),i=e.reducers||{},o=Object.keys(i),a={},s={},l={};function c(){var t="function"===typeof e.extraReducers?Tn(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,o=t[1],a=void 0===o?[]:o,l=t[2],c=void 0===l?void 0:l,u=yn(yn({},i),s);return function(e,t,n,r){void 0===n&&(n=[]);var i,o="function"===typeof t?Tn(t):[t,n,r],a=o[0],s=o[1],l=o[2];if(function(e){return"function"===typeof e}(e))i=function(){return En(e())};else{var c=En(e);i=function(){return c}}function u(e,t){void 0===e&&(e=i());var n=un([a[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[l]),n.reduce((function(e,n){if(n){var r;if(Ge(e))return void 0===(r=n(e,t))?e:r;if($e(e))return qt(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return u.getInitialState=i,u}(r,(function(e){for(var t in u)e.addCase(t,u[t]);for(var n=0,r=a;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}c&&e.addDefaultCase(c)}))}return o.forEach((function(e){var n,r,o=i[e],c=t+"/"+e;"reducer"in o?(n=o.reducer,r=o.prepare):n=o,a[e]=n,s[c]=n,l[e]=r?_n(c,r):_n(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:l,caseReducers:a,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}var An=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},Pn=["name","message","stack","code"],Rn=function(e,t){this.payload=e,this.meta=t},On=function(e,t){this.payload=e,this.meta=t},Dn=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=Pn;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};!function(){function e(e,t,n){var r=_n(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:bn(yn({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=_n(e+"/pending",(function(e,t,n){return{payload:void 0,meta:bn(yn({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),o=_n(e+"/rejected",(function(e,t,r,i,o){return{payload:i,error:(n&&n.serializeError||Dn)(e||"Rejected"),meta:bn(yn({},o||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),a="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(s,l,c){var u,d=(null==n?void 0:n.idGenerator)?n.idGenerator(e):An(),h=new a;function f(e){u=e,h.abort()}var p=function(){return wn(this,null,(function(){var a,p,g,m,v,y;return cn(this,(function(b){switch(b.label){case 0:return b.trys.push([0,4,,5]),m=null==(a=null==n?void 0:n.condition)?void 0:a.call(n,e,{getState:l,extra:c}),null===(w=m)||"object"!==typeof w||"function"!==typeof w.then?[3,2]:[4,m];case 1:m=b.sent(),b.label=2;case 2:if(!1===m||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return v=new Promise((function(e,t){return h.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:u||"Aborted"})}))})),s(i(d,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:d,arg:e},{getState:l,extra:c}))),[4,Promise.race([v,Promise.resolve(t(e,{dispatch:s,getState:l,extra:c,requestId:d,signal:h.signal,abort:f,rejectWithValue:function(e,t){return new Rn(e,t)},fulfillWithValue:function(e,t){return new On(e,t)}})).then((function(t){if(t instanceof Rn)throw t;return t instanceof On?r(t.payload,d,e,t.meta):r(t,d,e)}))])];case 3:return g=b.sent(),[3,5];case 4:return y=b.sent(),g=y instanceof Rn?o(null,d,e,y.payload,y.meta):o(y,d,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&o.match(g)&&g.meta.condition||s(g),[2,g]}var w}))}))}();return Object.assign(p,{abort:f,requestId:d,arg:e,unwrap:function(){return p.then(Ln)}})}}),{pending:i,rejected:o,fulfilled:r,typePrefix:e})}e.withTypes=function(){return e}}();function Ln(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var Mn="listenerMiddleware";_n(Mn+"/add"),_n(Mn+"/removeAll"),_n(Mn+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis);var jn,Fn=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Fn(10);It();let Un=function(e){return e.Piety="PIETY",e.Economy="ECONOMY",e.Military="MILITARY",e.Population="POPULATION",e.Respect="RESPECT",e}({}),Vn=function(e){return e.POSITIVE_SMALL="POSITIVE_SMALL",e.POSITIVE_MEDIUM="POSITIVE_MEDIUM",e.POSITIVE_LARGE="POSITIVE_LARGE",e.NEGATIVE_SMALL="NEGATIVE_SMALL",e.NEGATIVE_MEDIUM="NEGATIVE_MEDIUM",e.NEGATIVE_LARGE="NEGATIVE_LARGE",e}({}),zn=function(e){return e.AD="AD",e.BC="BC",e}({});const Bn={[Vn.POSITIVE_SMALL]:5,[Vn.POSITIVE_MEDIUM]:15,[Vn.POSITIVE_LARGE]:25,[Vn.NEGATIVE_SMALL]:-5,[Vn.NEGATIVE_MEDIUM]:-15,[Vn.NEGATIVE_LARGE]:-25},qn=Nn({name:"firestore",initialState:{gameSaves:[],selectedGameSaveSlot:0},reducers:{setGameSaves:(e,t)=>{e.gameSaves=t.payload.map((e=>{for(let t of e.cardBuffer){const e=["option1","option2"];for(let n of e){const e={};for(let r of Object.keys(t[n].variableChanges))e[r.toUpperCase()]=t[n].variableChanges[r];t[n].variableChanges=e}}return e}))},updateGameSave:(e,t)=>{const n=e.gameSaves.findIndex((e=>e.slot===t.payload.slot));n>=0?e.gameSaves[n]=t.payload:e.gameSaves.push(t.payload)},setGameSlot:(e,t)=>{e.selectedGameSaveSlot=t.payload},variableChanges:(e,t)=>{const n=e.gameSaves.findIndex((t=>t.slot===e.selectedGameSaveSlot));if(n>=0){const r=Object.keys(e.gameSaves[n].variables);for(let i of Object.keys(t.payload)){const o=i,a=r.includes(o),s=t.payload[o],l=Bn[s];a&&!isNaN(l)&&(e.gameSaves[n].variables[o]+=l,e.gameSaves[n].variables[o]>100&&(e.gameSaves[n].variables[o]=100),e.gameSaves[n].variables[o]<0&&(e.gameSaves[n].variables[o]=0))}return e}},addCard:(e,t)=>{const n=e.gameSaves.findIndex((t=>t.slot===e.selectedGameSaveSlot));n>=0&&e.gameSaves[n].cardBuffer.push(t.payload)},addCards:(e,t)=>{const n=e.gameSaves.findIndex((t=>t.slot===e.selectedGameSaveSlot));n>=0&&e.gameSaves[n].cardBuffer.push(...t.payload)},removeCard:e=>{const t=e.gameSaves.findIndex((t=>t.slot===e.selectedGameSaveSlot));t>=0&&e.gameSaves[t].cardBuffer.splice(0,1)},removeGameSave:(e,t)=>{const n=e.gameSaves.findIndex((e=>e.slot===t.payload));n>=0&&e.gameSaves.splice(n,1)}}}),{setGameSaves:Gn,setGameSlot:$n,updateGameSave:Kn,variableChanges:Hn,addCard:Wn,addCards:Qn,removeCard:Yn,removeGameSave:Jn}=qn.actions,Xn=qn.reducer;var Zn=n(579);const er=e=>{let{percentage:t,children:n}=e;const r={clipPath:`inset(${100-t}% 0 0 0)`};return(0,Zn.jsxs)("div",{style:{position:"relative",display:"inline-block"},children:[(0,Zn.jsx)("div",{style:{opacity:.3},children:n}),(0,Zn.jsx)("div",{className:"top-0 left-0 absolute transition-all duration-500",style:{...r},children:n})]})};var tr={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},nr=t.createContext&&t.createContext(tr),rr=function(){return rr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},rr.apply(this,arguments)},ir=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function or(e){return e&&e.map((function(e,n){return t.createElement(e.tag,rr({key:n},e.attr),or(e.child))}))}function ar(e){return function(n){return t.createElement(sr,rr({attr:rr({},e.attr)},n),or(e.child))}}function sr(e){var n=function(n){var r,i=e.attr,o=e.size,a=e.title,s=ir(e,["attr","size","title"]),l=o||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",rr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:r,style:rr(rr({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&t.createElement("title",null,a),e.children)};return void 0!==nr?t.createElement(nr.Consumer,null,(function(e){return n(e)})):n(tr)}function lr(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}}]})(e)}function cr(e){return ar({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"}}]})(e)}function ur(e){return ar({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M491.844 22.533l-83.42 14.865L196.572 249.25c3.262 4.815 5.37 10.72 5.37 16.932 0 5.863-1.71 11.35-4.643 15.996-5.065-1.606-10.448-2.477-16.027-2.477-15.724 0-29.904 6.89-39.69 17.796l-9.112-9.113 17.237-17.237c-4.515-5.772-8.907-11.645-13.19-17.6l-19.443 19.44-13.215-13.215 21.828-21.827c-4.403-6.59-8.67-13.278-12.792-20.068l-40.802 40.803 58.314 58.314c-1.613 5.075-2.49 10.47-2.49 16.063 0 7.666 1.65 14.96 4.592 21.564l-72.14 72.14-14.56-14.56L21.013 437l14.558 14.56-8.607 8.608 27.246 27.246 8.606-8.61 14.56 14.56 24.798-24.8-14.557-14.556 72.158-72.16c6.586 2.922 13.858 4.562 21.498 4.562 5.593 0 10.988-.877 16.063-2.49l58.363 58.363L296.5 401.48c-6.797-4.127-13.486-8.395-20.068-12.793l-21.83 21.83L241.39 397.3l19.442-19.44c-5.962-4.29-11.835-8.683-17.603-13.194l-17.238 17.238-9.16-9.16c10.905-9.785 17.795-23.965 17.795-39.69 0-5.346-.806-10.51-2.285-15.39 4.703-3.04 10.288-4.817 16.265-4.816 6.21 0 11.776 1.77 16.52 4.955L476.98 105.95l14.864-83.417zm-66.227 53.012l13.215 13.215-191.684 191.68-13.214-13.213L425.617 75.545zM181.273 298.39c19.257 0 34.665 15.41 34.665 34.665 0 19.256-15.408 34.666-34.665 34.666-19.256 0-34.666-15.41-34.666-34.665s15.41-34.666 34.666-34.666z"}}]})(e)}function dr(e){return ar({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(e)}function hr(e){return ar({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M352 128h-96V32c0-17.67-14.33-32-32-32h-64c-17.67 0-32 14.33-32 32v96H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h96v224c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V256h96c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32z"}}]})(e)}function fr(e){return ar({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"}}]})(e)}function pr(e){return ar({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"circle",attr:{cx:"256",cy:"56",r:"56"}},{tag:"path",attr:{d:"M304 128h-96a64.19 64.19 0 00-64 64v107.52c0 10.85 8.43 20.08 19.27 20.47A20 20 0 00184 300v-99.73a8.18 8.18 0 017.47-8.25 8 8 0 018.53 8V489a23 23 0 0023 23 23 23 0 0023-23V346.34a10.24 10.24 0 019.33-10.34A10 10 0 01266 346v143a23 23 0 0023 23 23 23 0 0023-23V200.27a8.18 8.18 0 017.47-8.25 8 8 0 018.53 8v99.52c0 10.85 8.43 20.08 19.27 20.47A20 20 0 00368 300V192a64.19 64.19 0 00-64-64z"}}]})(e)}const gr="50px",mr="#FFB703",vr=e=>(0,Zn.jsxs)(Zn.Fragment,{children:[e.variable===Un.Economy&&(0,Zn.jsx)(cr,{style:{color:mr,width:gr,height:gr}}),e.variable===Un.Military&&(0,Zn.jsx)(ur,{style:{color:mr,width:gr,height:gr}}),e.variable===Un.Piety&&(0,Zn.jsx)(hr,{style:{color:mr,width:gr,height:gr}}),e.variable===Un.Population&&(0,Zn.jsx)(pr,{style:{color:mr,width:gr,height:gr}}),e.variable===Un.Respect&&(0,Zn.jsx)(pr,{style:{color:mr,width:gr,height:gr}})]});function yr(e){return ar({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"}}]})(e)}function br(e){return ar({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M413.967 276.8c1.06-6.235 1.06-13.518 1.06-20.8s-1.06-13.518-1.06-20.8l44.667-34.318c4.26-3.118 5.319-8.317 2.13-13.518L418.215 115.6c-2.129-4.164-8.507-6.235-12.767-4.164l-53.186 20.801c-10.638-8.318-23.394-15.601-36.16-20.801l-7.448-55.117c-1.06-4.154-5.319-8.318-10.638-8.318h-85.098c-5.318 0-9.577 4.164-10.637 8.318l-8.508 55.117c-12.767 5.2-24.464 12.482-36.171 20.801l-53.186-20.801c-5.319-2.071-10.638 0-12.767 4.164L49.1 187.365c-2.119 4.153-1.061 10.399 2.129 13.518L96.97 235.2c0 7.282-1.06 13.518-1.06 20.8s1.06 13.518 1.06 20.8l-44.668 34.318c-4.26 3.118-5.318 8.317-2.13 13.518L92.721 396.4c2.13 4.164 8.508 6.235 12.767 4.164l53.187-20.801c10.637 8.318 23.394 15.601 36.16 20.801l8.508 55.117c1.069 5.2 5.318 8.318 10.637 8.318h85.098c5.319 0 9.578-4.164 10.638-8.318l8.518-55.117c12.757-5.2 24.464-12.482 36.16-20.801l53.187 20.801c5.318 2.071 10.637 0 12.767-4.164l42.549-71.765c2.129-4.153 1.06-10.399-2.13-13.518l-46.8-34.317zm-158.499 52c-41.489 0-74.46-32.235-74.46-72.8s32.971-72.8 74.46-72.8 74.461 32.235 74.461 72.8-32.972 72.8-74.461 72.8z"}}]})(e)}const wr=e=>{const n=(0,t.useMemo)((()=>Object.keys(e.variableChanges||{})),[e.variableChanges]),r=(0,t.useMemo)((()=>Object.keys(e.variables||{})),[e.variables]);return(0,Zn.jsx)("div",{className:"w-full flex-1",children:(0,Zn.jsx)("div",{className:"flex justify-around items-center p-2",children:r.sort().map(((t,r)=>{const i=e.variables[t];let o="opacity-0";if(e.variableChanges){const r=n.includes(t),i=e.variableChanges[t];let a=!0;r&&i&&(a=i.toLowerCase().includes("negative")),r&&(o=""+(a?"text-red-500 rotate-180":"text-green-500"))}return(0,Zn.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(0,Zn.jsx)(yr,{className:o}),(0,Zn.jsx)(er,{percentage:null!==i&&void 0!==i?i:0,children:(0,Zn.jsx)(vr,{variable:t})})]},t)}))})})},kr=e=>{const n=(0,t.useRef)(null),r=(0,t.useRef)(null),[i,o]=(0,t.useState)(0),[a,s]=(0,t.useState)(!1),l=t=>{if(n.current){const l=n.current.getBoundingClientRect();if(t.type.includes("touch")){var r,i;s(!0);const{touches:n,changedTouches:c}=null!==(r=t.originalEvent)&&void 0!==r?r:t,u=(null!==(i=n[0])&&void 0!==i?i:c[0]).pageX,d=l.right-u;o(d),e.onMouseMove(d,a)}else if(t.type.includes("mouse")){s(!1);const n=t.clientX,r=l.right-n;o(r),e.onMouseMove(r,a)}}};return(0,t.useEffect)((()=>(document.addEventListener("mousemove",l),document.addEventListener("touchmove",l),()=>{document.removeEventListener("mousemove",l),document.removeEventListener("touchmove",l)}))),(0,Zn.jsxs)("div",{className:"fixed z-40 top-0 left-0 w-screen h-screen flex",onTouchEnd:()=>{const t=i>0?"left":"right";Math.abs(i)>window.screen.availWidth/4?e.onClick(t):(o(0),e.onMouseMove(0,a))},children:[(0,Zn.jsx)("div",{className:"flex-1",onClick:()=>{a||e.onClick("left")},ref:n}),(0,Zn.jsx)("div",{className:"flex-1",onClick:()=>{a||e.onClick("right")},ref:r})]})};var xr=Fr(),_r=e=>Dr(e,xr),Ir=Fr();_r.write=e=>Dr(e,Ir);var Sr=Fr();_r.onStart=e=>Dr(e,Sr);var Er=Fr();_r.onFrame=e=>Dr(e,Er);var Cr=Fr();_r.onFinish=e=>Dr(e,Cr);var Tr=[];_r.setTimeout=(e,t)=>{const n=_r.now()+t,r=()=>{const e=Tr.findIndex((e=>e.cancel==r));~e&&Tr.splice(e,1),Rr-=~e?1:0},i={time:n,handler:e,cancel:r};return Tr.splice(Nr(n),0,i),Rr+=1,Lr(),i};var Nr=e=>~(~Tr.findIndex((t=>t.time>e))||~Tr.length);_r.cancel=e=>{Sr.delete(e),Er.delete(e),Cr.delete(e),xr.delete(e),Ir.delete(e)},_r.sync=e=>{Or=!0,_r.batchedUpdates(e),Or=!1},_r.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];t=r,_r.onStart(n)}return r.handler=e,r.cancel=()=>{Sr.delete(n),t=null},r};var Ar="undefined"!=typeof window?window.requestAnimationFrame:()=>{};_r.use=e=>Ar=e,_r.now="undefined"!=typeof performance?()=>performance.now():Date.now,_r.batchedUpdates=e=>e(),_r.catch=console.error,_r.frameLoop="always",_r.advance=()=>{"demand"!==_r.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):jr()};var Pr=-1,Rr=0,Or=!1;function Dr(e,t){Or?(t.delete(e),e(0)):(t.add(e),Lr())}function Lr(){Pr<0&&(Pr=0,"demand"!==_r.frameLoop&&Ar(Mr))}function Mr(){~Pr&&(Ar(Mr),_r.batchedUpdates(jr))}function jr(){const e=Pr;Pr=_r.now();const t=Nr(Pr);t&&(Ur(Tr.splice(0,t),(e=>e.handler())),Rr-=t),Rr?(Sr.flush(),xr.flush(e?Math.min(64,Pr-e):16.667),Er.flush(),Ir.flush(),Cr.flush()):Pr=-1}function Fr(){let e=new Set,t=e;return{add(n){Rr+=t!=e||e.has(n)?0:1,e.add(n)},delete:n=>(Rr-=t==e&&e.has(n)?1:0,e.delete(n)),flush(n){t.size&&(e=new Set,Rr-=t.size,Ur(t,(t=>t(n)&&e.add(t))),Rr+=e.size,t=e)}}}function Ur(e,t){e.forEach((e=>{try{t(e)}catch(Sj){_r.catch(Sj)}}))}var Vr=Object.defineProperty,zr={};function Br(){}((e,t)=>{for(var n in t)Vr(e,n,{get:t[n],enumerable:!0})})(zr,{assign:()=>ni,colors:()=>Zr,createStringInterpolator:()=>Qr,skipAnimation:()=>ei,to:()=>Yr,willAdvance:()=>ti});var qr={arr:Array.isArray,obj:e=>!!e&&"Object"===e.constructor.name,fun:e=>"function"===typeof e,str:e=>"string"===typeof e,num:e=>"number"===typeof e,und:e=>void 0===e};function Gr(e,t){if(qr.arr(e)){if(!qr.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var $r=(e,t)=>e.forEach(t);function Kr(e,t,n){if(qr.arr(e))for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);else for(const r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var Hr=e=>qr.und(e)?[]:qr.arr(e)?e:[e];function Wr(e,t){if(e.size){const n=Array.from(e);e.clear(),$r(n,t)}}var Qr,Yr,Jr=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Wr(e,(e=>e(...n)))},Xr=()=>"undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Zr=null,ei=!1,ti=Br,ni=e=>{e.to&&(Yr=e.to),e.now&&(_r.now=e.now),void 0!==e.colors&&(Zr=e.colors),null!=e.skipAnimation&&(ei=e.skipAnimation),e.createStringInterpolator&&(Qr=e.createStringInterpolator),e.requestAnimationFrame&&_r.use(e.requestAnimationFrame),e.batchedUpdates&&(_r.batchedUpdates=e.batchedUpdates),e.willAdvance&&(ti=e.willAdvance),e.frameLoop&&(_r.frameLoop=e.frameLoop)},ri=new Set,ii=[],oi=[],ai=0,si={get idle(){return!ri.size&&!ii.length},start(e){ai>e.priority?(ri.add(e),_r.onStart(li)):(ci(e),_r(di))},advance:di,sort(e){if(ai)_r.onFrame((()=>si.sort(e)));else{const t=ii.indexOf(e);~t&&(ii.splice(t,1),ui(e))}},clear(){ii=[],ri.clear()}};function li(){ri.forEach(ci),ri.clear(),_r(di)}function ci(e){ii.includes(e)||ui(e)}function ui(e){ii.splice(function(e,t){const n=e.findIndex(t);return n<0?e.length:n}(ii,(t=>t.priority>e.priority)),0,e)}function di(e){const t=oi;for(let n=0;n<ii.length;n++){const r=ii[n];ai=r.priority,r.idle||(ti(r),r.advance(e),r.idle||t.push(r))}return ai=0,(oi=ii).length=0,(ii=t).length>0}var hi="[-+]?\\d*\\.?\\d+",fi=hi+"%";function pi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var gi=new RegExp("rgb"+pi(hi,hi,hi)),mi=new RegExp("rgba"+pi(hi,hi,hi,hi)),vi=new RegExp("hsl"+pi(hi,fi,fi)),yi=new RegExp("hsla"+pi(hi,fi,fi,hi)),bi=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,wi=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ki=/^#([0-9a-fA-F]{6})$/,xi=/^#([0-9a-fA-F]{8})$/;function _i(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Ii(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,o=_i(i,r,e+1/3),a=_i(i,r,e),s=_i(i,r,e-1/3);return Math.round(255*o)<<24|Math.round(255*a)<<16|Math.round(255*s)<<8}function Si(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function Ei(e){return(parseFloat(e)%360+360)%360/360}function Ci(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function Ti(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function Ni(e){let t=function(e){let t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=ki.exec(e))?parseInt(t[1]+"ff",16)>>>0:Zr&&void 0!==Zr[e]?Zr[e]:(t=gi.exec(e))?(Si(t[1])<<24|Si(t[2])<<16|Si(t[3])<<8|255)>>>0:(t=mi.exec(e))?(Si(t[1])<<24|Si(t[2])<<16|Si(t[3])<<8|Ci(t[4]))>>>0:(t=bi.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=xi.exec(e))?parseInt(t[1],16)>>>0:(t=wi.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=vi.exec(e))?(255|Ii(Ei(t[1]),Ti(t[2]),Ti(t[3])))>>>0:(t=yi.exec(e))?(Ii(Ei(t[1]),Ti(t[2]),Ti(t[3]))|Ci(t[4]))>>>0:null}(e);if(null===t)return e;t=t||0;return`rgba(${(4278190080&t)>>>24}, ${(16711680&t)>>>16}, ${(65280&t)>>>8}, ${(255&t)/255})`}var Ai=(e,t,n)=>{if(qr.fun(e))return e;if(qr.arr(e))return Ai({range:e,output:t,extrapolate:n});if(qr.str(e.output[0]))return Qr(e);const r=e,i=r.output,o=r.range||[0,1],a=r.extrapolateLeft||r.extrapolate||"extend",s=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(e=>e);return e=>{const t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,o);return function(e,t,n,r,i,o,a,s,l){let c=l?l(e):e;if(c<t){if("identity"===a)return c;"clamp"===a&&(c=t)}if(c>n){if("identity"===s)return c;"clamp"===s&&(c=n)}if(r===i)return r;if(t===n)return e<=t?r:i;t===-1/0?c=-c:n===1/0?c-=t:c=(c-t)/(n-t);c=o(c),r===-1/0?c=-c:i===1/0?c+=r:c=c*(i-r)+r;return c}(e,o[t],o[t+1],i[t],i[t+1],l,a,s,r.map)}};var Pi=1.70158,Ri=1.525*Pi,Oi=Pi+1,Di=2*Math.PI/3,Li=2*Math.PI/4.5,Mi=e=>{const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},ji={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>0===e?0:Math.pow(2,10*e-10),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>Oi*e*e*e-Pi*e*e,easeOutBack:e=>1+Oi*Math.pow(e-1,3)+Pi*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*(7.189819*e-Ri)/2:(Math.pow(2*e-2,2)*((Ri+1)*(2*e-2)+Ri)+2)/2,easeInElastic:e=>0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*Di),easeOutElastic:e=>0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*Di)+1,easeInOutElastic:e=>0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*Li)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*Li)/2+1,easeInBounce:e=>1-Mi(1-e),easeOutBounce:Mi,easeInOutBounce:e=>e<.5?(1-Mi(1-2*e))/2:(1+Mi(2*e-1))/2,steps:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";return n=>{const r=(n="end"===t?Math.min(n,.999):Math.max(n,.001))*e;return((e,t,n)=>Math.min(Math.max(n,e),t))(0,1,("end"===t?Math.floor(r):Math.ceil(r))/e)}}},Fi=Symbol.for("FluidValue.get"),Ui=Symbol.for("FluidValue.observers"),Vi=e=>Boolean(e&&e[Fi]),zi=e=>e&&e[Fi]?e[Fi]():e,Bi=e=>e[Ui]||null;function qi(e,t){const n=e[Ui];n&&n.forEach((e=>{!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)}))}var Gi=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");$i(this,e)}},$i=(e,t)=>Qi(e,Fi,t);function Ki(e,t){if(e[Fi]){let n=e[Ui];n||Qi(e,Ui,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function Hi(e,t){const n=e[Ui];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[Ui]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var Wi,Qi=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),Yi=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Ji=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Xi=new RegExp(`(${Yi.source})(%|[a-z]+)`,"i"),Zi=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,eo=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,to=e=>{const[t,n]=no(e);if(!t||Xr())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){const t=window.getComputedStyle(document.documentElement).getPropertyValue(n);return t||e}return n&&eo.test(n)?to(n):n||e},no=e=>{const t=eo.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]},ro=(e,t,n,r,i)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,io=e=>{Wi||(Wi=Zr?new RegExp(`(${Object.keys(Zr).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map((e=>zi(e).replace(eo,to).replace(Ji,Ni).replace(Wi,Ni))),n=t.map((e=>e.match(Yi).map(Number))),r=n[0].map(((e,t)=>n.map((e=>{if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]})))),i=r.map((t=>Ai({...e,output:t})));return e=>{const n=!Xi.test(t[0])&&t.find((e=>Xi.test(e)))?.replace(Yi,"");let r=0;return t[0].replace(Yi,(()=>`${i[r++](e)}${n||""}`)).replace(Zi,ro)}},oo="react-spring: ",ao=e=>{const t=e;let n=!1;if("function"!=typeof t)throw new TypeError(`${oo}once requires a function parameter`);return function(){n||(t(...arguments),n=!0)}},so=ao(console.warn);var lo=ao(console.warn);function co(e){return qr.str(e)&&("#"==e[0]||/\d/.test(e)||!Xr()&&eo.test(e)||e in(Zr||{}))}var uo=Xr()?t.useEffect:t.useLayoutEffect;function ho(){const e=(0,t.useState)()[1],n=(()=>{const e=(0,t.useRef)(!1);return uo((()=>(e.current=!0,()=>{e.current=!1})),[]),e})();return()=>{n.current&&e(Math.random())}}var fo=e=>(0,t.useEffect)(e,po),po=[];function go(e){const n=(0,t.useRef)();return(0,t.useEffect)((()=>{n.current=e})),n.current}var mo=Symbol.for("Animated:node"),vo=e=>e&&e[mo],yo=(e,t)=>{return n=e,r=mo,i=t,Object.defineProperty(n,r,{value:i,writable:!0,configurable:!0});var n,r,i},bo=e=>e&&e[mo]&&e[mo].getPayload(),wo=class{constructor(){yo(this,this)}getPayload(){return this.payload||[]}},ko=class extends wo{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,qr.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new ko(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return qr.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,qr.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},xo=class extends ko{constructor(e){super(0),this._string=null,this._toString=Ai({output:[e,e]})}static create(e){return new xo(e)}getValue(){const e=this._string;return null==e?this._string=this._toString(this._value):e}setValue(e){if(qr.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!super.setValue(e))return!1;this._string=null}return!0}reset(e){e&&(this._toString=Ai({output:[this.getValue(),e]})),this._value=0,super.reset()}},_o={dependencies:null},Io=class extends wo{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return Kr(this.source,((n,r)=>{var i;(i=n)&&i[mo]===i?t[r]=n.getValue(e):Vi(n)?t[r]=zi(n):e||(t[r]=n)})),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&$r(this.payload,(e=>e.reset()))}_makePayload(e){if(e){const t=new Set;return Kr(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){_o.dependencies&&Vi(e)&&_o.dependencies.add(e);const t=bo(e);t&&$r(t,(e=>this.add(e)))}},So=class extends Io{constructor(e){super(e)}static create(e){return new So(e)}getValue(){return this.source.map((e=>e.getValue()))}setValue(e){const t=this.getPayload();return e.length==t.length?t.map(((t,n)=>t.setValue(e[n]))).some(Boolean):(super.setValue(e.map(Eo)),!0)}};function Eo(e){return(co(e)?xo:ko).create(e)}function Co(e){const t=vo(e);return t?t.constructor:qr.arr(e)?So:co(e)?xo:ko}var To=(e,n)=>{const r=!qr.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,t.forwardRef)(((i,o)=>{const a=(0,t.useRef)(null),s=r&&(0,t.useCallback)((e=>{a.current=function(e,t){e&&(qr.fun(e)?e(t):e.current=t);return t}(o,e)}),[o]),[l,c]=function(e,t){const n=new Set;_o.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)});return e=new Io(e),_o.dependencies=null,[e,n]}(i,n),u=ho(),d=()=>{const e=a.current;if(r&&!e)return;!1===(!!e&&n.applyAnimatedValues(e,l.getValue(!0)))&&u()},h=new No(d,c),f=(0,t.useRef)();uo((()=>(f.current=h,$r(c,(e=>Ki(e,h))),()=>{f.current&&($r(f.current.deps,(e=>Hi(e,f.current))),_r.cancel(f.current.update))}))),(0,t.useEffect)(d,[]),fo((()=>()=>{const e=f.current;$r(e.deps,(t=>Hi(t,e)))}));const p=n.getComponentProps(l.getValue());return t.createElement(e,{...p,ref:s})}))},No=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){"change"==e.type&&_r.write(this.update)}};var Ao=Symbol.for("AnimatedComponent"),Po=e=>qr.str(e)?e:e&&qr.str(e.displayName)?e.displayName:qr.fun(e)&&e.name||null;function Ro(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return qr.fun(e)?e(...n):e}var Oo=(e,t)=>!0===e||!!(t&&e&&(qr.fun(e)?e(t):Hr(e).includes(t))),Do=(e,t)=>qr.obj(e)?t&&e[t]:e,Lo=(e,t)=>!0===e.default?e[t]:e.default?e.default[t]:void 0,Mo=e=>e,jo=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mo,n=Fo;e.default&&!0!==e.default&&(e=e.default,n=Object.keys(e));const r={};for(const i of n){const n=t(e[i],i);qr.und(n)||(r[i]=n)}return r},Fo=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Uo={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Vo(e){const t=function(e){const t={};let n=0;if(Kr(e,((e,r)=>{Uo[r]||(t[r]=e,n++)})),n)return t}(e);if(t){const n={to:t};return Kr(e,((e,r)=>r in t||(n[r]=e))),n}return{...e}}function zo(e){return e=zi(e),qr.arr(e)?e.map(zo):co(e)?zr.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function Bo(e){for(const t in e)return!0;return!1}function qo(e){return qr.fun(e)||qr.arr(e)&&qr.obj(e[0])}function Go(e,t){e.ref?.delete(e),t?.delete(e)}function $o(e,t){t&&e.ref!==t&&(e.ref?.delete(e),t.add(e),e.ref=t)}var Ko={tension:170,friction:26,mass:1,damping:1,easing:ji.linear,clamp:!1},Ho=class{constructor(){this.velocity=0,Object.assign(this,Ko)}};function Wo(e,t){if(qr.und(t.decay)){const n=!qr.und(t.tension)||!qr.und(t.friction);!n&&qr.und(t.frequency)&&qr.und(t.damping)&&qr.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}var Qo=[],Yo=class{constructor(){this.changed=!1,this.values=Qo,this.toValues=null,this.fromValues=Qo,this.config=new Ho,this.immediate=!1}};function Jo(e,t){let{key:n,props:r,defaultProps:i,state:o,actions:a}=t;return new Promise(((t,s)=>{let l,c,u=Oo(r.cancel??i?.cancel,n);if(u)f();else{qr.und(r.pause)||(o.paused=Oo(r.pause,n));let e=i?.pause;!0!==e&&(e=o.paused||Oo(e,n)),l=Ro(r.delay||0,n),e?(o.resumeQueue.add(h),a.pause()):(a.resume(),h())}function d(){o.resumeQueue.add(h),o.timeouts.delete(c),c.cancel(),l=c.time-_r.now()}function h(){l>0&&!zr.skipAnimation?(o.delayed=!0,c=_r.setTimeout(f,l),o.pauseQueue.add(d),o.timeouts.add(c)):f()}function f(){o.delayed&&(o.delayed=!1),o.pauseQueue.delete(d),o.timeouts.delete(c),e<=(o.cancelId||0)&&(u=!0);try{a.start({...r,callId:e,cancel:u},t)}catch(n){s(n)}}}))}var Xo=(e,t)=>1==t.length?t[0]:t.some((e=>e.cancelled))?ta(e.get()):t.every((e=>e.noop))?Zo(e.get()):ea(e.get(),t.every((e=>e.finished))),Zo=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),ea=function(e,t){return{value:e,finished:t,cancelled:arguments.length>2&&void 0!==arguments[2]&&arguments[2]}},ta=e=>({value:e,cancelled:!0,finished:!1});function na(e,t,n,r){const{callId:i,parentId:o,onRest:a}=t,{asyncTo:s,promise:l}=n;return o||e!==s||t.reset?n.promise=(async()=>{n.asyncId=i,n.asyncTo=e;const c=jo(t,((e,t)=>"onRest"===t?void 0:e));let u,d;const h=new Promise(((e,t)=>(u=e,d=t))),f=e=>{const t=i<=(n.cancelId||0)&&ta(r)||i!==n.asyncId&&ea(r,!1);if(t)throw e.result=t,d(e),e},p=(e,t)=>{const o=new ia,a=new oa;return(async()=>{if(zr.skipAnimation)throw ra(n),a.result=ea(r,!1),d(a),a;f(o);const s=qr.obj(e)?{...e}:{...t,to:e};s.parentId=i,Kr(c,((e,t)=>{qr.und(s[t])&&(s[t]=e)}));const l=await r.start(s);return f(o),n.paused&&await new Promise((e=>{n.resumeQueue.add(e)})),l})()};let g;if(zr.skipAnimation)return ra(n),ea(r,!1);try{let t;t=qr.arr(e)?(async e=>{for(const t of e)await p(t)})(e):Promise.resolve(e(p,r.stop.bind(r))),await Promise.all([t.then(u),h]),g=ea(r.get(),!0,!1)}catch(m){if(m instanceof ia)g=m.result;else{if(!(m instanceof oa))throw m;g=m.result}}finally{i==n.asyncId&&(n.asyncId=o,n.asyncTo=o?s:void 0,n.promise=o?l:void 0)}return qr.fun(a)&&_r.batchedUpdates((()=>{a(g,r,r.item)})),g})():l}function ra(e,t){Wr(e.timeouts,(e=>e.cancel())),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var ia=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},oa=class extends Error{constructor(){super("SkipAnimationSignal")}},aa=e=>e instanceof la,sa=1,la=class extends Gi{constructor(){super(...arguments),this.id=sa++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=vo(this);return e&&e.getValue()}to(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return zr.to(this,t)}interpolate(){so(`${oo}The "interpolate" function is deprecated in v9 (use "to" instead)`);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return zr.to(this,t)}toJSON(){return this.get()}observerAdded(e){1==e&&this._attach()}observerRemoved(e){0==e&&this._detach()}_attach(){}_detach(){}_onChange(e){qi(this,{type:"change",parent:this,value:e,idle:arguments.length>1&&void 0!==arguments[1]&&arguments[1]})}_onPriorityChange(e){this.idle||si.sort(this),qi(this,{type:"priority",parent:this,priority:e})}},ca=Symbol.for("SpringPhase"),ua=e=>(1&e[ca])>0,da=e=>(2&e[ca])>0,ha=e=>(4&e[ca])>0,fa=(e,t)=>t?e[ca]|=3:e[ca]&=-3,pa=(e,t)=>t?e[ca]|=4:e[ca]&=-5,ga=class extends la{constructor(e,t){if(super(),this.animation=new Yo,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!qr.und(e)||!qr.und(t)){const n=qr.obj(e)?{...e}:{...t,from:e};qr.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(da(this)||this._state.asyncTo)||ha(this)}get goal(){return zi(this.animation.to)}get velocity(){const e=vo(this);return e instanceof ko?e.lastVelocity||0:e.getPayload().map((e=>e.lastVelocity||0))}get hasAnimated(){return ua(this)}get isAnimating(){return da(this)}get isPaused(){return ha(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const r=this.animation;let{toValues:i}=r;const{config:o}=r,a=bo(r.to);!a&&Vi(r.to)&&(i=Hr(zi(r.to))),r.values.forEach(((s,l)=>{if(s.done)return;const c=s.constructor==xo?1:a?a[l].lastPosition:i[l];let u=r.immediate,d=c;if(!u){if(d=s.lastPosition,o.tension<=0)return void(s.done=!0);let t=s.elapsedTime+=e;const n=r.fromValues[l],i=null!=s.v0?s.v0:s.v0=qr.arr(o.velocity)?o.velocity[l]:o.velocity;let a;const h=o.precision||(n==c?.005:Math.min(1,.001*Math.abs(c-n)));if(qr.und(o.duration))if(o.decay){const e=!0===o.decay?.998:o.decay,r=Math.exp(-(1-e)*t);d=n+i/(1-e)*(1-r),u=Math.abs(s.lastPosition-d)<=h,a=i*r}else{a=null==s.lastVelocity?i:s.lastVelocity;const t=o.restVelocity||h/10,r=o.clamp?0:o.bounce,l=!qr.und(r),f=n==c?s.v0>0:n<c;let p,g=!1;const m=1,v=Math.ceil(e/m);for(let e=0;e<v&&(p=Math.abs(a)>t,p||(u=Math.abs(c-d)<=h,!u));++e){l&&(g=d==c||d>c==f,g&&(a=-a*r,d=c));a+=(1e-6*-o.tension*(d-c)+.001*-o.friction*a)/o.mass*m,d+=a*m}}else{let r=1;o.duration>0&&(this._memoizedDuration!==o.duration&&(this._memoizedDuration=o.duration,s.durationProgress>0&&(s.elapsedTime=o.duration*s.durationProgress,t=s.elapsedTime+=e)),r=(o.progress||0)+t/this._memoizedDuration,r=r>1?1:r<0?0:r,s.durationProgress=r),d=n+o.easing(r)*(c-n),a=(d-s.lastPosition)/e,u=1==r}s.lastVelocity=a,Number.isNaN(d)&&(console.warn("Got NaN while animating:",this),u=!0)}a&&!a[l].done&&(u=!1),u?s.done=!0:t=!1,s.setValue(d,o.round)&&(n=!0)}));const s=vo(this),l=s.getValue();if(t){const e=zi(r.to);l===e&&!n||o.decay?n&&o.decay&&this._onChange(l):(s.setValue(e),this._onChange(e)),this._stop()}else n&&this._onChange(l)}set(e){return _r.batchedUpdates((()=>{this._stop(),this._focus(e),this._set(e)})),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(da(this)){const{to:e,config:t}=this.animation;_r.batchedUpdates((()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()}))}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return qr.und(e)?(n=this.queue||[],this.queue=[]):n=[qr.obj(e)?e:{...t,to:e}],Promise.all(n.map((e=>this._update(e)))).then((e=>Xo(this,e)))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),ra(this._state,e&&this._lastCallId),_r.batchedUpdates((()=>this._stop(t,e))),this}reset(){this._update({reset:!0})}eventObserved(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:r}=e;n=qr.obj(n)?n[t]:n,(null==n||qo(n))&&(n=void 0),r=qr.obj(r)?r[t]:r,null==r&&(r=void 0);const i={to:n,from:r};return ua(this)||(e.reverse&&([n,r]=[r,n]),r=zi(r),qr.und(r)?vo(this)||this._set(n):this._set(r)),i}_update(e,t){let{...n}=e;const{key:r,defaultProps:i}=this;n.default&&Object.assign(i,jo(n,((e,t)=>/^on/.test(t)?Do(e,r):e))),xa(this,n,"onProps"),_a(this,"onProps",n,this);const o=this._prepareNode(n);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const a=this._state;return Jo(++this._lastCallId,{key:r,props:n,defaultProps:i,state:a,actions:{pause:()=>{ha(this)||(pa(this,!0),Jr(a.pauseQueue),_a(this,"onPause",ea(this,ma(this,this.animation.to)),this))},resume:()=>{ha(this)&&(pa(this,!1),da(this)&&this._resume(),Jr(a.resumeQueue),_a(this,"onResume",ea(this,ma(this,this.animation.to)),this))},start:this._merge.bind(this,o)}}).then((e=>{if(n.loop&&e.finished&&(!t||!e.noop)){const e=va(n);if(e)return this._update(e,!0)}return e}))}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(ta(this));const r=!qr.und(e.to),i=!qr.und(e.from);if(r||i){if(!(t.callId>this._lastToId))return n(ta(this));this._lastToId=t.callId}const{key:o,defaultProps:a,animation:s}=this,{to:l,from:c}=s;let{to:u=l,from:d=c}=e;!i||r||t.default&&!qr.und(u)||(u=d),t.reverse&&([u,d]=[d,u]);const h=!Gr(d,c);h&&(s.from=d),d=zi(d);const f=!Gr(u,l);f&&this._focus(u);const p=qo(t.to),{config:g}=s,{decay:m,velocity:v}=g;(r||i)&&(g.velocity=0),t.config&&!p&&function(e,t,n){n&&(Wo(n={...n},t),t={...n,...t}),Wo(e,t),Object.assign(e,t);for(const a in Ko)null==e[a]&&(e[a]=Ko[a]);let{frequency:r,damping:i}=e;const{mass:o}=e;qr.und(r)||(r<.01&&(r=.01),i<0&&(i=0),e.tension=Math.pow(2*Math.PI/r,2)*o,e.friction=4*Math.PI*i*o/r)}(g,Ro(t.config,o),t.config!==a.config?Ro(a.config,o):void 0);let y=vo(this);if(!y||qr.und(u))return n(ea(this,!0));const b=qr.und(t.reset)?i&&!t.default:!qr.und(d)&&Oo(t.reset,o),w=b?d:this.get(),k=zo(u),x=qr.num(k)||qr.arr(k)||co(k),_=!p&&(!x||Oo(a.immediate||t.immediate,o));if(f){const e=Co(u);if(e!==y.constructor){if(!_)throw Error(`Cannot animate between ${y.constructor.name} and ${e.name}, as the "to" prop suggests`);y=this._set(k)}}const I=y.constructor;let S=Vi(u),E=!1;if(!S){const e=b||!ua(this)&&h;(f||e)&&(E=Gr(zo(w),k),S=!E),(Gr(s.immediate,_)||_)&&Gr(g.decay,m)&&Gr(g.velocity,v)||(S=!0)}if(E&&da(this)&&(s.changed&&!b?S=!0:S||this._stop(l)),!p&&((S||Vi(l))&&(s.values=y.getPayload(),s.toValues=Vi(u)?null:I==xo?[1]:Hr(k)),s.immediate!=_&&(s.immediate=_,_||b||this._set(l)),S)){const{onRest:e}=s;$r(ka,(e=>xa(this,t,e)));const r=ea(this,ma(this,l));Jr(this._pendingCalls,r),this._pendingCalls.add(n),s.changed&&_r.batchedUpdates((()=>{s.changed=!b,e?.(r,this),b?Ro(a.onRest,r):s.onStart?.(r,this)}))}b&&this._set(w),p?n(na(t.to,t,this._state,this)):S?this._start():da(this)&&!f?this._pendingCalls.add(n):n(Zo(w))}_focus(e){const t=this.animation;e!==t.to&&(Bi(this)&&this._detach(),t.to=e,Bi(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;Vi(t)&&(Ki(t,this),aa(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;Vi(e)&&Hi(e,this)}_set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=zi(e);if(!qr.und(n)){const e=vo(this);if(!e||!Gr(n,e.getValue())){const r=Co(n);e&&e.constructor==r?e.setValue(n):yo(this,r.create(n)),e&&_r.batchedUpdates((()=>{this._onChange(n,t)}))}}return vo(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,_a(this,"onStart",ea(this,ma(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),Ro(this.animation.onChange,e,this)),Ro(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;vo(this).reset(zi(e.to)),e.immediate||(e.fromValues=e.values.map((e=>e.lastPosition))),da(this)||(fa(this,!0),ha(this)||this._resume())}_resume(){zr.skipAnimation?this.finish():si.start(this)}_stop(e,t){if(da(this)){fa(this,!1);const n=this.animation;$r(n.values,(e=>{e.done=!0})),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),qi(this,{type:"idle",parent:this});const r=t?ta(this.get()):ea(this.get(),ma(this,e??n.to));Jr(this._pendingCalls,r),n.changed&&(n.changed=!1,_a(this,"onRest",r,this))}}};function ma(e,t){const n=zo(t);return Gr(zo(e.get()),n)}function va(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.loop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.to;const r=Ro(t);if(r){const i=!0!==r&&Vo(r),o=(i||e).reverse,a=!i||i.reset;return ya({...e,loop:t,default:!1,pause:void 0,to:!o||qo(n)?n:void 0,from:a?e.from:void 0,reset:a,...i})}}function ya(e){const{to:t,from:n}=e=Vo(e),r=new Set;return qr.obj(t)&&wa(t,r),qr.obj(n)&&wa(n,r),e.keys=r.size?Array.from(r):null,e}function ba(e){const t=ya(e);return qr.und(t.default)&&(t.default=jo(t)),t}function wa(e,t){Kr(e,((e,n)=>null!=e&&t.add(n)))}var ka=["onStart","onRest","onChange","onPause","onResume"];function xa(e,t,n){e.animation[n]=t[n]!==Lo(t,n)?Do(t[n],e.key):void 0}function _a(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];e.animation[t]?.(...r),e.defaultProps[t]?.(...r)}var Ia=["onStart","onChange","onRest"],Sa=1,Ea=class{constructor(e,t){this.id=Sa++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every((e=>e.idle&&!e.isDelayed&&!e.isPaused))}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each(((t,n)=>e[n]=t.get())),e}set(e){for(const t in e){const n=e[t];qr.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(ya(e)),this}start(e){let{queue:t}=this;return e?t=Hr(e).map(ya):this.queue=[],this._flush?this._flush(this,t):(Oa(this,t),Ca(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;$r(Hr(t),(t=>n[t].stop(!!e)))}else ra(this._state,this._lastAsyncId),this.each((t=>t.stop(!!e)));return this}pause(e){if(qr.und(e))this.start({pause:!0});else{const t=this.springs;$r(Hr(e),(e=>t[e].pause()))}return this}resume(e){if(qr.und(e))this.start({pause:!1});else{const t=this.springs;$r(Hr(e),(e=>t[e].resume()))}return this}each(e){Kr(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,Wr(e,(e=>{let[t,n]=e;n.value=this.get(),t(n,this,this._item)})));const o=!r&&this._started,a=i||o&&n.size?this.get():null;i&&t.size&&Wr(t,(e=>{let[t,n]=e;n.value=a,t(n,this,this._item)})),o&&(this._started=!1,Wr(n,(e=>{let[t,n]=e;n.value=a,t(n,this,this._item)})))}eventObserved(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}_r.onFrame(this._onFrame)}};function Ca(e,t){return Promise.all(t.map((t=>Ta(e,t)))).then((t=>Xo(e,t)))}async function Ta(e,t,n){const{keys:r,to:i,from:o,loop:a,onRest:s,onResolve:l}=t,c=qr.obj(t.default)&&t.default;a&&(t.loop=!1),!1===i&&(t.to=null),!1===o&&(t.from=null);const u=qr.arr(i)||qr.fun(i)?i:void 0;u?(t.to=void 0,t.onRest=void 0,c&&(c.onRest=void 0)):$r(Ia,(n=>{const r=t[n];if(qr.fun(r)){const i=e._events[n];t[n]=e=>{let{finished:t,cancelled:n}=e;const o=i.get(r);o?(t||(o.finished=!1),n&&(o.cancelled=!0)):i.set(r,{value:null,finished:t||!1,cancelled:n||!1})},c&&(c[n]=t[n])}}));const d=e._state;t.pause===!d.paused?(d.paused=t.pause,Jr(t.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(t.pause=!0);const h=(r||Object.keys(e.springs)).map((n=>e.springs[n].start(t))),f=!0===t.cancel||!0===Lo(t,"cancel");(u||f&&d.asyncId)&&h.push(Jo(++e._lastAsyncId,{props:t,state:d,actions:{pause:Br,resume:Br,start(t,n){f?(ra(d,e._lastAsyncId),n(ta(e))):(t.onRest=s,n(na(u,t,d,e)))}}})),d.paused&&await new Promise((e=>{d.resumeQueue.add(e)}));const p=Xo(e,await Promise.all(h));if(a&&p.finished&&(!n||!p.noop)){const n=va(t,a,i);if(n)return Oa(e,[n]),Ta(e,n,!0)}return l&&_r.batchedUpdates((()=>l(p,e,e.item))),p}function Na(e,t){const n={...e.springs};return t&&$r(Hr(t),(e=>{qr.und(e.keys)&&(e=ya(e)),qr.obj(e.to)||(e={...e,to:void 0}),Ra(n,e,(e=>Pa(e)))})),Aa(e,n),n}function Aa(e,t){Kr(t,((t,n)=>{e.springs[n]||(e.springs[n]=t,Ki(t,e))}))}function Pa(e,t){const n=new ga;return n.key=e,t&&Ki(n,t),n}function Ra(e,t,n){t.keys&&$r(t.keys,(r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)}))}function Oa(e,t){$r(t,(t=>{Ra(e.springs,t,(t=>Pa(t,e)))}))}var Da,La,Ma=e=>{let{children:n,...r}=e;const i=(0,t.useContext)(ja),o=r.pause||!!i.pause,a=r.immediate||!!i.immediate;r=function(e,n){const[r]=(0,t.useState)((()=>({inputs:n,result:e()}))),i=(0,t.useRef)(),o=i.current;let a=o;if(a){const t=Boolean(n&&a.inputs&&function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(n,a.inputs));t||(a={inputs:n,result:e()})}else a=r;return(0,t.useEffect)((()=>{i.current=a,o==r&&(r.inputs=r.result=void 0)}),[a]),a.result}((()=>({pause:o,immediate:a})),[o,a]);const{Provider:s}=ja;return t.createElement(s,{value:r},n)},ja=(Da=Ma,La={},Object.assign(Da,t.createContext(La)),Da.Provider._context=Da,Da.Consumer._context=Da,Da);Ma.Provider=ja.Provider,Ma.Consumer=ja.Consumer;var Fa=()=>{const e=[],t=function(t){lo(`${oo}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`);const r=[];return $r(e,((e,i)=>{if(qr.und(t))r.push(e.start());else{const o=n(t,e,i);o&&r.push(e.start(o))}})),r};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){const n=e.indexOf(t);~n&&e.splice(n,1)},t.pause=function(){return $r(e,(e=>e.pause(...arguments))),this},t.resume=function(){return $r(e,(e=>e.resume(...arguments))),this},t.set=function(t){$r(e,((e,n)=>{const r=qr.fun(t)?t(n,e):t;r&&e.set(r)}))},t.start=function(t){const n=[];return $r(e,((e,r)=>{if(qr.und(t))n.push(e.start());else{const i=this._getProps(t,e,r);i&&n.push(e.start(i))}})),n},t.stop=function(){return $r(e,(e=>e.stop(...arguments))),this},t.update=function(t){return $r(e,((e,n)=>e.update(this._getProps(t,e,n)))),this};const n=function(e,t,n){return qr.fun(e)?e(n,t):e};return t._getProps=n,t};function Ua(e,n,r){const i=qr.fun(n)&&n;i&&!r&&(r=[]);const o=(0,t.useMemo)((()=>i||3==arguments.length?Fa():void 0),[]),a=(0,t.useRef)(0),s=ho(),l=(0,t.useMemo)((()=>({ctrls:[],queue:[],flush(e,t){const n=Na(e,t);return a.current>0&&!l.queue.length&&!Object.keys(n).some((t=>!e.springs[t]))?Ca(e,t):new Promise((r=>{Aa(e,n),l.queue.push((()=>{r(Ca(e,t))})),s()}))}})),[]),c=(0,t.useRef)([...l.ctrls]),u=[],d=go(e)||0;function h(e,t){for(let r=e;r<t;r++){const e=c.current[r]||(c.current[r]=new Ea(null,l.flush)),t=i?i(r,e):n[r];t&&(u[r]=ba(t))}}(0,t.useMemo)((()=>{$r(c.current.slice(e,d),(e=>{Go(e,o),e.stop(!0)})),c.current.length=e,h(d,e)}),[e]),(0,t.useMemo)((()=>{h(0,Math.min(d,e))}),r);const f=c.current.map(((e,t)=>Na(e,u[t]))),p=(0,t.useContext)(Ma),g=go(p),m=p!==g&&Bo(p);uo((()=>{a.current++,l.ctrls=c.current;const{queue:e}=l;e.length&&(l.queue=[],$r(e,(e=>e()))),$r(c.current,((e,t)=>{o?.add(e),m&&e.start({default:p});const n=u[t];n&&($o(e,n.ref),e.ref?e.queue.push(n):e.start(n))}))})),fo((()=>()=>{$r(l.ctrls,(e=>e.stop(!0)))}));const v=f.map((e=>({...e})));return o?[v,o]:v}function Va(e,t){const n=qr.fun(e),[[r],i]=Ua(1,n?e:[e],n?t||[]:t);return n||2==arguments.length?[r,i]:r}var za=class extends la{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=Ai(...t);const n=this._get(),r=Co(n);yo(this,r.create(n))}advance(e){const t=this._get();Gr(t,this.get())||(vo(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&qa(this._active)&&Ga(this)}_get(){const e=qr.arr(this.source)?this.source.map(zi):Hr(zi(this.source));return this.calc(...e)}_start(){this.idle&&!qa(this._active)&&(this.idle=!1,$r(bo(this),(e=>{e.done=!1})),zr.skipAnimation?(_r.batchedUpdates((()=>this.advance())),Ga(this)):si.start(this))}_attach(){let e=1;$r(Hr(this.source),(t=>{Vi(t)&&Ki(t,this),aa(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))})),this.priority=e,this._start()}_detach(){$r(Hr(this.source),(e=>{Vi(e)&&Hi(e,this)})),this._active.clear(),Ga(this)}eventObserved(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=Hr(this.source).reduce(((e,t)=>Math.max(e,(aa(t)?t.priority:0)+1)),0))}};function Ba(e){return!1!==e.idle}function qa(e){return!e.size||Array.from(e).every(Ba)}function Ga(e){e.idle||(e.idle=!0,$r(bo(e),(e=>{e.done=!0})),qi(e,{type:"idle",parent:e}))}zr.assign({createStringInterpolator:io,to:(e,t)=>new za(e,t)});si.advance;var $a=/^--/;function Ka(e,t){return null==t||"boolean"===typeof t||""===t?"":"number"!==typeof t||0===t||$a.test(e)||Wa.hasOwnProperty(e)&&Wa[e]?(""+t).trim():t+"px"}var Ha={};var Wa={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qa=["Webkit","Ms","Moz","O"];Wa=Object.keys(Wa).reduce(((e,t)=>(Qa.forEach((n=>e[((e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1))(n,t)]=e[t])),e)),Wa);var Ya=/^(matrix|translate|scale|rotate|skew)/,Ja=/^(translate)/,Xa=/^(rotate|skew)/,Za=(e,t)=>qr.num(e)&&0!==e?e+t:e,es=(e,t)=>qr.arr(e)?e.every((e=>es(e,t))):qr.num(e)?e===t:parseFloat(e)===t,ts=class extends Io{constructor(e){let{x:t,y:n,z:r,...i}=e;const o=[],a=[];(t||n||r)&&(o.push([t||0,n||0,r||0]),a.push((e=>[`translate3d(${e.map((e=>Za(e,"px"))).join(",")})`,es(e,0)]))),Kr(i,((e,t)=>{if("transform"===t)o.push([e||""]),a.push((e=>[e,""===e]));else if(Ya.test(t)){if(delete i[t],qr.und(e))return;const n=Ja.test(t)?"px":Xa.test(t)?"deg":"";o.push(Hr(e)),a.push("rotate3d"===t?e=>{let[t,r,i,o]=e;return[`rotate3d(${t},${r},${i},${Za(o,n)})`,es(o,0)]}:e=>[`${t}(${e.map((e=>Za(e,n))).join(",")})`,es(e,t.startsWith("scale")?1:0)])}})),o.length&&(i.transform=new ns(o,a)),super(i)}},ns=class extends Gi{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return $r(this.inputs,((n,r)=>{const i=zi(n[0]),[o,a]=this.transforms[r](qr.arr(i)?i:n.map(zi));e+=" "+o,t=t&&a})),t?"none":e}observerAdded(e){1==e&&$r(this.inputs,(e=>$r(e,(e=>Vi(e)&&Ki(e,this)))))}observerRemoved(e){0==e&&$r(this.inputs,(e=>$r(e,(e=>Vi(e)&&Hi(e,this)))))}eventObserved(e){"change"==e.type&&(this._value=null),qi(this,e)}};zr.assign({batchedUpdates:s.unstable_batchedUpdates,createStringInterpolator:io,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}});var rs=function(e){let{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=e=>new Io(e),getComponentProps:r=e=>e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},o=e=>{const t=Po(e)||"Anonymous";return(e=qr.str(e)?o[e]||(o[e]=To(e,i)):e[Ao]||(e[Ao]=To(e,i))).displayName=`Animated(${t})`,e};return Kr(e,((t,n)=>{qr.arr(e)&&(n=Po(t)),o[n]=o(t)})),{animated:o}}(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,{className:r,style:i,children:o,scrollTop:a,scrollLeft:s,viewBox:l,...c}=t,u=Object.values(c),d=Object.keys(c).map((t=>n||e.hasAttribute(t)?t:Ha[t]||(Ha[t]=t.replace(/([A-Z])/g,(e=>"-"+e.toLowerCase())))));void 0!==o&&(e.textContent=o);for(const h in i)if(i.hasOwnProperty(h)){const t=Ka(h,i[h]);$a.test(h)?e.style.setProperty(h,t):e.style[h]=t}d.forEach(((t,n)=>{e.setAttribute(t,u[n])})),void 0!==r&&(e.className=r),void 0!==a&&(e.scrollTop=a),void 0!==s&&(e.scrollLeft=s),void 0!==l&&e.setAttribute("viewBox",l)},createAnimatedStyle:e=>new ts(e),getComponentProps:e=>{let{scrollTop:t,scrollLeft:n,...r}=e;return r}}),is=rs.animated;const os=n.p+"static/media/card_flip.c45d9c5fc804dc7a8e75.mp3",as=e=>{const n=(0,t.useRef)(null),r=(0,t.useRef)(null),i=(0,t.useRef)(null),o=(0,t.useRef)(null),[a,s]=(0,t.useState)(new Image),[l,c]=(0,t.useState)(!1),[u,d]=Va((()=>({from:{skewX:0,rotateY:0,opacity:0}}))),[h]=me(os,{volume:.4});return(0,t.useEffect)((()=>{a.src=e.card.image;const t=t=>{var o,a;"opacity"===t.propertyName&&e.isThrown&&(null===(o=r.current)||void 0===o||o.classList.add("cardTextThrow"),null===(a=i.current)||void 0===a||a.classList.add("cardTextThrow"),c(!0),n.current&&(n.current.style.opacity="0",n.current.style.transform="none",n.current.style.transition="none"))},s=t=>{var s,l;"opacity"===t.propertyName&&e.isThrown&&(e.turnNextCard(),null===(s=r.current)||void 0===s||s.classList.remove("cardTextThrow"),null===(l=i.current)||void 0===l||l.classList.remove("cardTextThrow"),h(),o.current&&(o.current.style.backgroundImage=""),d.set({opacity:1}),d.start({from:{skewX:0,rotateY:0},to:{skewX:4,rotateY:90},onRest:()=>{o.current&&(o.current.style.backgroundImage=`url('${a.src}')`),d.start({from:{skewX:4,rotateY:90},to:{skewX:0,rotateY:0},onRest:()=>{n.current&&(n.current.style.opacity="",n.current.offsetHeight,n.current.style.transition="",n.current.style.transform=""),d.set({opacity:0}),c(!1)}})}}))},l=n.current,u=i.current;return l&&u&&(l.addEventListener("transitionend",t),u.addEventListener("transitionend",s)),()=>{l&&u&&(l.removeEventListener("transitionend",t),u.removeEventListener("transitionend",s))}}),[e,a,d,h]),(0,Zn.jsxs)("div",{className:"w-full grow-[9] gameSecondary p-2 flex flex-col justify-around items-center space-x-2 font-bold relative",children:[!e.isThrown&&!l&&(0,Zn.jsx)(kr,{onClick:e.GameControllerProps.onClick,onMouseMove:e.GameControllerProps.onMouseMove}),(0,Zn.jsx)("p",{ref:i,className:"cardText",children:e.card.text}),(0,Zn.jsx)("div",{className:"w-full relative flex justify-center items-center",children:(0,Zn.jsxs)("div",{className:"imageStack cardBack w-2/3 h-96 rounded-lg relative",children:[(0,Zn.jsx)(is.div,{ref:o,style:u,className:"rounded-lg shadow-lg shadow-black w-full h-full overflow-hidden absolute z-10 cardBack"}),(0,Zn.jsx)("div",{ref:n,className:`rounded-lg shadow-lg shadow-black w-full gameCard h-full bg-cover overflow-hidden relative ${(()=>{let t="";return e.isThrown&&(e.cardDeg<0?t+=" cardThrowLeft":t+=" cardThrowRight"),t})()}`,style:(()=>{const t={backgroundImage:`url('${a.src}')`};return e.isThrown||l||(t.transform=`rotate(${e.cardDeg}deg)`),t})(),children:!l&&(0,Zn.jsxs)(Zn.Fragment,{children:[(0,Zn.jsx)("div",{className:"bg-neutral-900/30 gameCardOverlay top-0 w-full h-full absolute z-10",style:0!==e.cardDeg?{transform:`rotate(${-e.cardDeg/2}deg) translateY(-75%) scaleX(10)`}:{}}),0!==e.cardDeg&&(0,Zn.jsx)("div",{className:"w-full py-4 text-white relative z-20 flex text-center "+(e.cardDeg>0?"justify-start":"justify-end"),children:(0,Zn.jsx)("div",{className:"w-1/4 flex justify-center items-center",children:(0,Zn.jsx)("p",{children:e.cardDeg>0?e.card.option1.text:e.card.option2.text})})})]})})]})}),(0,Zn.jsxs)("div",{ref:r,className:"flex flex-col text-center cardText",children:[(0,Zn.jsx)("p",{children:e.card.characterName}),(0,Zn.jsx)("p",{children:e.card.characterTitle})]})]})};function ss(e){return ar({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.243 12.993c-0.192 0-0.384-0.073-0.53-0.22-0.293-0.293-0.293-0.768 0-1.061 2.047-2.047 2.047-5.378 0-7.425-0.293-0.293-0.293-0.768 0-1.061s0.768-0.293 1.061 0c1.275 1.275 1.977 2.97 1.977 4.773s-0.702 3.498-1.977 4.773c-0.146 0.146-0.338 0.22-0.53 0.22v0zM8.578 11.578c-0.192 0-0.384-0.073-0.53-0.22-0.293-0.293-0.293-0.768 0-1.061 1.267-1.267 1.267-3.329 0-4.596-0.293-0.293-0.293-0.768 0-1.061s0.768-0.293 1.061 0c1.852 1.852 1.852 4.865 0 6.718-0.146 0.146-0.338 0.22-0.53 0.22z"}},{tag:"path",attr:{d:"M6.5 15c-0.13 0-0.258-0.051-0.354-0.146l-3.854-3.854h-1.793c-0.276 0-0.5-0.224-0.5-0.5v-5c0-0.276 0.224-0.5 0.5-0.5h1.793l3.854-3.854c0.143-0.143 0.358-0.186 0.545-0.108s0.309 0.26 0.309 0.462v13c0 0.202-0.122 0.385-0.309 0.462-0.062 0.026-0.127 0.038-0.191 0.038z"}}]})(e)}function ls(e){return ar({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15 9.674v1.326h-1.326l-1.674-1.674-1.674 1.674h-1.326v-1.326l1.674-1.674-1.674-1.674v-1.326h1.326l1.674 1.674 1.674-1.674h1.326v1.326l-1.674 1.674 1.674 1.674z"}},{tag:"path",attr:{d:"M6.5 15c-0.13 0-0.258-0.051-0.354-0.146l-3.854-3.854h-1.793c-0.276 0-0.5-0.224-0.5-0.5v-5c0-0.276 0.224-0.5 0.5-0.5h1.793l3.854-3.854c0.143-0.143 0.358-0.186 0.545-0.108s0.309 0.26 0.309 0.462v13c0 0.202-0.122 0.385-0.309 0.462-0.062 0.026-0.127 0.038-0.191 0.038z"}}]})(e)}const cs=n.p+"static/media/card_swipe.5998ca419cbf61111147.mp3",us=()=>(0,Zn.jsx)("div",{className:"text-center text-6xl font-bold p-2",children:(0,Zn.jsx)("p",{children:"Kingdoms"})}),ds=e=>(0,Zn.jsx)("div",{className:"h-full flex-1 hidden lg:flex",children:e.children}),hs=e=>(0,Zn.jsxs)("div",{className:"h-full flex-1 gamePrimary flex flex-col",children:[(e.hasTitle||void 0===e.hasTitle)&&(0,Zn.jsx)(us,{}),e.children]}),fs=e=>(0,Zn.jsx)("div",{className:"h-full flex-1 hidden lg:flex",children:e.children});let ps=function(e){return e.USER="user",e.MEMBER="member",e.ADMIN="admin",e}({});const gs=Nn({name:"user",initialState:{isDarkMode:!0,language:function(e){return e.ENGLISH="en",e.SPANISH="es",e.FRENCH="fr",e.GERMAN="de",e.ITALIAN="it",e.PORTUGUESE="pt",e.RUSSIAN="ru",e.CHINESE="zh",e.JAPANESE="ja",e.KOREAN="ko",e.VIETNAMESE="vi",e.THAI="th",e.TURKISH="tr",e.ARABIC="ar",e.BULGARIAN="bg",e.CZECH="cs",e.DANISH="da",e.DUTCH="nl",e.GREEK="el",e.HUNGARIAN="hu",e.INDONESIAN="id",e.IRISH="ga",e.LATVIAN="lv",e.LITHUANIAN="lt",e.MALAY="ms",e.NORWEGIAN="no",e.POLISH="pl",e.ROMANIAN="ro",e.SLOVAK="sk",e.SLOVENIAN="sl",e.SWEDISH="sv",e.UKRAINIAN="uk",e.ARMENIAN="hy",e.BOSNIAN="bs",e.CROATIAN="hr",e}({}).ENGLISH,musicEnabled:!0,sfxEnabled:!0},reducers:{setDarkMode:(e,t)=>{e.isDarkMode=t.payload},setLanguage:(e,t)=>{e.language=t.payload},setMusicEnabled:(e,t)=>{e.musicEnabled=t.payload},setSfxEnabled:(e,t)=>{e.sfxEnabled=t.payload}}}),{setDarkMode:ms,setLanguage:vs,setMusicEnabled:ys,setSfxEnabled:bs}=gs.actions,ws=gs.reducer;let ks=function(e){return e[e.Home=0]="Home",e[e.Settings=1]="Settings",e[e.Game=2]="Game",e[e.GameSaves=3]="GameSaves",e[e.NewGame=4]="NewGame",e}({});class xs{static buildOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"POST";const n={headers:{Accept:"application/json, text/plain, */*","content-type":arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/json"},body:JSON.stringify(e),method:t,mode:"cors",credentials:"include"};return"GET"===t&&delete n.body,n}static REQUEST(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t.hasOwnProperty("method")||(t=this.buildOptions({},"GET")),n&&(e="http://localhost:4000/"+e),new Promise(((n,r)=>{fetch(e,t).then((async e=>{let t={};try{t=await e.json()}catch(r){}n({response:e,data:t})})).catch((e=>r(e)))}))}}const _s=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Is={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,a=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;s||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(_s(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==a||null==s)throw new Ss;const l=t<<2|o>>4;if(r.push(l),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ss extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Es=function(e){return function(e){const t=_s(e);return Is.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Cs=function(e){try{return Is.decodeString(e,!0)}catch(Sj){console.error("base64Decode failed: ",Sj)}return null};function Ts(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Ts(e[n],t[n]));return e}function Ns(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const As=()=>{try{return Ns().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TITLE:"Kingdoms"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Sj){return}const t=e&&Cs(e[1]);return t&&JSON.parse(t)})()}catch(Sj){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Sj}`)}},Ps=e=>{const t=(e=>{var t,n;return null===(n=null===(t=As())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Rs=()=>{var e;return null===(e=As())||void 0===e?void 0:e.config};class Os{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Ds(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ls(){var e;const t=null===(e=As())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Sj){return!1}}function Ms(){return"undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof self&&self instanceof WorkerGlobalScope}function js(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Fs(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Us(){const e=Ds();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Vs(){return!Ls()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zs(){try{return"object"===typeof indexedDB}catch(Sj){return!1}}function Bs(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}class qs extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,qs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gs.prototype.create)}}class Gs{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace($s,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",o=`${this.serviceName}: ${i} (${n}).`;return new qs(n,o,t)}}const $s=/\{\$([^}]+)}/g;function Ks(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Hs(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Ws(n)&&Ws(o)){if(!Hs(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ws(e){return null!==e&&"object"===typeof e}function Qs(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Ys(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Js(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Xs(e,t){const n=new Zs(e,t);return n.subscribe.bind(n)}class Zs{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=el),void 0===r.error&&(r.error=el),void 0===r.complete&&(r.complete=el);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(Sj){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(Sj){"undefined"!==typeof console&&console.error&&console.error(Sj)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function el(){}function tl(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function nl(e){return e&&e._delegate?e._delegate:e}class rl{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const il="[DEFAULT]";class ol{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Os;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Sj){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Sj){if(r)return null;throw Sj}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:il})}catch(Sj){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Sj){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:il;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:il;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:il;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:al(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:il;return this.component?this.component.multipleInstances?e:il:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function al(e){return e===il?void 0:e}class sl{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ol(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const ll=[];var cl;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(cl||(cl={}));const ul={debug:cl.DEBUG,verbose:cl.VERBOSE,info:cl.INFO,warn:cl.WARN,error:cl.ERROR,silent:cl.SILENT},dl=cl.INFO,hl={[cl.DEBUG]:"log",[cl.VERBOSE]:"log",[cl.INFO]:"info",[cl.WARN]:"warn",[cl.ERROR]:"error"},fl=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=hl[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...o)};class pl{constructor(e){this.name=e,this._logLevel=dl,this._logHandler=fl,this._userLogHandler=null,ll.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in cl))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?ul[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,cl.DEBUG,...t),this._logHandler(this,cl.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,cl.VERBOSE,...t),this._logHandler(this,cl.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,cl.INFO,...t),this._logHandler(this,cl.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,cl.WARN,...t),this._logHandler(this,cl.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,cl.ERROR,...t),this._logHandler(this,cl.ERROR,...t)}}let gl,ml;const vl=new WeakMap,yl=new WeakMap,bl=new WeakMap,wl=new WeakMap,kl=new WeakMap;let xl={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return yl.get(e);if("objectStoreNames"===t)return e.objectStoreNames||bl.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sl(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function _l(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ml||(ml=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(El(this),n),Sl(vl.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Sl(e.apply(El(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(El(this),t,...r);return bl.set(o,t.sort?t.sort():[t]),Sl(o)}}function Il(e){return"function"===typeof e?_l(e):(e instanceof IDBTransaction&&function(e){if(yl.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));yl.set(e,t)}(e),t=e,(gl||(gl=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,xl):e);var t}function Sl(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Sl(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&vl.set(t,e)})).catch((()=>{})),kl.set(t,e),t}(e);if(wl.has(e))return wl.get(e);const t=Il(e);return t!==e&&(wl.set(e,t),kl.set(t,e)),t}const El=e=>kl.get(e);function Cl(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),s=Sl(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(Sl(a.result),e.oldVersion,e.newVersion,Sl(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}const Tl=["get","getKey","getAll","getAllKeys","count"],Nl=["put","add","delete","clear"],Al=new Map;function Pl(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Al.get(t))return Al.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Nl.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Tl.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return r&&(o=o.index(s.shift())),(await Promise.all([o[n](...s),i&&t.done]))[0]};return Al.set(t,o),o}var Rl;Rl=e=>({...e,get:(t,n,r)=>Pl(t,n)||e.get(t,n,r),has:(t,n)=>!!Pl(t,n)||e.has(t,n)}),xl=Rl(xl);class Ol{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Dl="@firebase/app",Ll="0.10.13",Ml=new pl("@firebase/app"),jl="@firebase/app-compat",Fl="@firebase/analytics-compat",Ul="@firebase/analytics",Vl="@firebase/app-check-compat",zl="@firebase/app-check",Bl="@firebase/auth",ql="@firebase/auth-compat",Gl="@firebase/database",$l="@firebase/data-connect",Kl="@firebase/database-compat",Hl="@firebase/functions",Wl="@firebase/functions-compat",Ql="@firebase/installations",Yl="@firebase/installations-compat",Jl="@firebase/messaging",Xl="@firebase/messaging-compat",Zl="@firebase/performance",ec="@firebase/performance-compat",tc="@firebase/remote-config",nc="@firebase/remote-config-compat",rc="@firebase/storage",ic="@firebase/storage-compat",oc="@firebase/firestore",ac="@firebase/vertexai-preview",sc="@firebase/firestore-compat",lc="firebase",cc="[DEFAULT]",uc={[Dl]:"fire-core",[jl]:"fire-core-compat",[Ul]:"fire-analytics",[Fl]:"fire-analytics-compat",[zl]:"fire-app-check",[Vl]:"fire-app-check-compat",[Bl]:"fire-auth",[ql]:"fire-auth-compat",[Gl]:"fire-rtdb",[$l]:"fire-data-connect",[Kl]:"fire-rtdb-compat",[Hl]:"fire-fn",[Wl]:"fire-fn-compat",[Ql]:"fire-iid",[Yl]:"fire-iid-compat",[Jl]:"fire-fcm",[Xl]:"fire-fcm-compat",[Zl]:"fire-perf",[ec]:"fire-perf-compat",[tc]:"fire-rc",[nc]:"fire-rc-compat",[rc]:"fire-gcs",[ic]:"fire-gcs-compat",[oc]:"fire-fst",[sc]:"fire-fst-compat",[ac]:"fire-vertex","fire-js":"fire-js",[lc]:"fire-js-all"},dc=new Map,hc=new Map,fc=new Map;function pc(e,t){try{e.container.addComponent(t)}catch(Sj){Ml.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,Sj)}}function gc(e,t){e.container.addOrOverwriteComponent(t)}function mc(e){const t=e.name;if(fc.has(t))return Ml.debug(`There were multiple attempts to register component ${t}.`),!1;fc.set(t,e);for(const n of dc.values())pc(n,e);for(const n of hc.values())pc(n,e);return!0}function vc(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function yc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cc;vc(e,t).clearInstance(n)}function bc(e){return void 0!==e.options}function wc(e){return void 0!==e.settings}function kc(){fc.clear()}const xc=new Gs("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class _c{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new rl("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xc.create("app-deleted",{appName:this._name})}}class Ic extends _c{constructor(e,t,n,r){const i=void 0!==t.automaticDataCollectionEnabled&&t.automaticDataCollectionEnabled,o={name:n,automaticDataCollectionEnabled:i};if(void 0!==e.apiKey)super(e,o,r);else{super(e.options,o,r)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:i},t),this._finalizationRegistry=null,"undefined"!==typeof FinalizationRegistry&&(this._finalizationRegistry=new FinalizationRegistry((()=>{this.automaticCleanup()}))),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,Pc(Dl,Ll,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Ac(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw xc.create("server-app-deleted")}}const Sc="10.14.1";function Ec(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:cc,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw xc.create("bad-app-name",{appName:String(i)});if(n||(n=Rs()),!n)throw xc.create("no-options");const o=dc.get(i);if(o){if(Hs(n,o.options)&&Hs(r,o.config))return o;throw xc.create("duplicate-app",{appName:i})}const a=new sl(i);for(const l of fc.values())a.addComponent(l);const s=new _c(n,r,a);return dc.set(i,s),s}function Cc(e,t){if(("undefined"!==typeof window||Ms())&&!Ms())throw xc.create("invalid-server-app-environment");let n;void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1),n=bc(e)?e.options:e;const r=Object.assign(Object.assign({},t),n);void 0!==r.releaseOnDeref&&delete r.releaseOnDeref;if(void 0!==t.releaseOnDeref&&"undefined"===typeof FinalizationRegistry)throw xc.create("finalization-registry-not-supported",{});const i=""+(e=>[...e].reduce(((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0),0))(JSON.stringify(r)),o=hc.get(i);if(o)return o.incRefCount(t.releaseOnDeref),o;const a=new sl(i);for(const l of fc.values())a.addComponent(l);const s=new Ic(n,t,i,a);return hc.set(i,s),s}function Tc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cc;const t=dc.get(e);if(!t&&e===cc&&Rs())return Ec();if(!t)throw xc.create("no-app",{appName:e});return t}function Nc(){return Array.from(dc.values())}async function Ac(e){let t=!1;const n=e.name;if(dc.has(n))t=!0,dc.delete(n);else if(hc.has(n)){e.decRefCount()<=0&&(hc.delete(n),t=!0)}t&&(await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Pc(e,t,n){var r;let i=null!==(r=uc[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Ml.warn(e.join(" "))}mc(new rl(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}function Rc(e,t){if(null!==e&&"function"!==typeof e)throw xc.create("invalid-log-argument");!function(e,t){for(const n of ll){let r=null;t&&t.level&&(r=ul[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];const s=o.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:cl[n].toLowerCase(),message:s,args:o,type:t.name})}}}(e,t)}function Oc(e){var t;t=e,ll.forEach((e=>{e.setLogLevel(t)}))}const Dc="firebase-heartbeat-store";let Lc=null;function Mc(){return Lc||(Lc=Cl("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Dc)}catch(Sj){console.warn(Sj)}}}).catch((e=>{throw xc.create("idb-open",{originalErrorMessage:e.message})}))),Lc}async function jc(e,t){try{const n=(await Mc()).transaction(Dc,"readwrite"),r=n.objectStore(Dc);await r.put(t,Fc(e)),await n.done}catch(Sj){if(Sj instanceof qs)Ml.warn(Sj.message);else{const t=xc.create("idb-set",{originalErrorMessage:null===Sj||void 0===Sj?void 0:Sj.message});Ml.warn(t.message)}}}function Fc(e){return`${e.name}!${e.options.appId}`}class Uc{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new zc(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Vc();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(Sj){Ml.warn(Sj)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Vc(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Bc(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Bc(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Es(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(Sj){return Ml.warn(Sj),""}}}function Vc(){return(new Date).toISOString().substring(0,10)}class zc{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!zs()&&Bs().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Mc()).transaction(Dc),n=await t.objectStore(Dc).get(Fc(e));return await t.done,n}catch(Sj){if(Sj instanceof qs)Ml.warn(Sj.message);else{const t=xc.create("idb-get",{originalErrorMessage:null===Sj||void 0===Sj?void 0:Sj.message});Ml.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return jc(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return jc(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Bc(e){return Es(JSON.stringify({version:2,heartbeats:e})).length}var qc;qc="",mc(new rl("platform-logger",(e=>new Ol(e)),"PRIVATE")),mc(new rl("heartbeat",(e=>new Uc(e)),"PRIVATE")),Pc(Dl,Ll,qc),Pc(Dl,Ll,"esm2017"),Pc("fire-js","");function Gc(e,t){const n={};for(const r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function $c(e){if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map((e=>$c(e)));if("function"===typeof e||"object"===typeof e)return Gc(e,(e=>$c(e)));throw new Error("Data cannot be encoded in JSON: "+e)}function Kc(e){if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((e=>Kc(e))):"function"===typeof e||"object"===typeof e?Gc(e,(e=>Kc(e))):e}const Hc="functions",Wc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Qc extends qs{constructor(e,t,n){super(`${Hc}/${e}`,t||""),this.details=n}}class Yc{constructor(e,t,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((e=>this.auth=e),(()=>{})),this.messaging||t.get().then((e=>this.messaging=e),(()=>{})),this.appCheck||n.get().then((e=>this.appCheck=e),(()=>{}))}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return null===e||void 0===e?void 0:e.accessToken}catch(Sj){return}}async getMessagingToken(){if(this.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return await this.messaging.getToken()}catch(Sj){return}}async getAppCheckToken(e){if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){return{authToken:await this.getAuthToken(),messagingToken:await this.getMessagingToken(),appCheckToken:await this.getAppCheckToken(e)}}}const Jc="us-central1";class Xc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Jc,o=arguments.length>5?arguments[5]:void 0;this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new Yc(t,n,r),this.cancelAllRequests=new Promise((e=>{this.deleteService=()=>Promise.resolve(e())}));try{const e=new URL(i);this.customDomain=e.origin+("/"===e.pathname?"":e.pathname),this.region=Jc}catch(Sj){this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;if(null!==this.emulatorOrigin){return`${this.emulatorOrigin}/${t}/${this.region}/${e}`}return null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function Zc(e,t,n){return r=>function(e,t,n,r){const i=e._url(t);return tu(e,i,n,r)}(e,t,r,n||{})}async function eu(e,t,n,r){let i;n["Content-Type"]="application/json";try{i=await r(e,{method:"POST",body:JSON.stringify(t),headers:n})}catch(Sj){return{status:0,json:null}}let o=null;try{o=await i.json()}catch(Sj){}return{status:i.status,json:o}}async function tu(e,t,n,r){const i={data:n=$c(n)},o={},a=await e.contextProvider.getContext(r.limitedUseAppCheckTokens);a.authToken&&(o.Authorization="Bearer "+a.authToken),a.messagingToken&&(o["Firebase-Instance-ID-Token"]=a.messagingToken),null!==a.appCheckToken&&(o["X-Firebase-AppCheck"]=a.appCheckToken);const s=function(e){let t=null;return{promise:new Promise(((n,r)=>{t=setTimeout((()=>{r(new Qc("deadline-exceeded","deadline-exceeded"))}),e)})),cancel:()=>{t&&clearTimeout(t)}}}(r.timeout||7e4),l=await Promise.race([eu(t,i,o,e.fetchImpl),s.promise,e.cancelAllRequests]);if(s.cancel(),!l)throw new Qc("cancelled","Firebase Functions instance was deleted.");const c=function(e,t){let n,r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r;try{const e=t&&t.error;if(e){const t=e.status;if("string"===typeof t){if(!Wc[t])return new Qc("internal","internal");r=Wc[t],i=t}const o=e.message;"string"===typeof o&&(i=o),n=e.details,void 0!==n&&(n=Kc(n))}}catch(Sj){}return"ok"===r?null:new Qc(r,i,n)}(l.status,l.json);if(c)throw c;if(!l.json)throw new Qc("internal","Response is not valid JSON object.");let u=l.json.data;if("undefined"===typeof u&&(u=l.json.result),"undefined"===typeof u)throw new Qc("internal","Response is missing data field.");return{data:Kc(u)}}const nu="@firebase/functions",ru="0.11.8";function iu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tc(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jc;const n=vc(nl(e),Hc).getImmediate({identifier:t}),r=Ps("functions");return r&&function(e,t,n){!function(e,t,n){e.emulatorOrigin=`http://${t}:${n}`}(nl(e),t,n)}(n,...r),n}!function(e,t){mc(new rl(Hc,((t,n)=>{let{instanceIdentifier:r}=n;const i=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),a=t.getProvider("messaging-internal"),s=t.getProvider("app-check-internal");return new Xc(i,o,a,s,r,e)}),"PUBLIC").setMultipleInstances(!0)),Pc(nu,ru,t),Pc(nu,ru,"esm2017")}(fetch.bind(self));class ou extends xs{static CreateGame(e){return this._callableFunction("createGame",e)}static UseCard(e){return this._callableFunction("useCard",e)}static DeleteGameSave(e){return this._callableFunction("deleteGameSave",{slot:e})}static _callableFunction(e,t){return new Promise(((n,r)=>{const i=iu();var o,a;(o=e,Zc(nl(i),o,a))(t).then((e=>{200===e.data.code?n(e.data.message):r(e.data)})).catch((e=>{r(e)}))}))}}const au=e=>{var n,r;const i=Be((e=>e.firestore.selectedGameSaveSlot)),o=Be((e=>e.firestore.gameSaves[null!==i&&void 0!==i?i:0])),a=(0,t.useMemo)((()=>{var e;return null!==(e=null===o||void 0===o?void 0:o.cardBuffer)&&void 0!==e?e:[]}),[o]),s=Be((e=>e.settings.musicEnabled)),[l,c]=(0,t.useState)(0),u=(0,t.useRef)(window.screen.availWidth/90),d=(0,t.useRef)(!1),[h,f]=(0,t.useState)(!1),[p,g]=(0,t.useState)(),[m]=me(cs),v=ze();(0,t.useEffect)((()=>{}),[]);return(0,Zn.jsxs)(Zn.Fragment,{children:[(0,Zn.jsx)(ds,{children:(0,Zn.jsx)("div",{className:"h-full w-full flex flex-col justify-end",children:(0,Zn.jsxs)("div",{className:"flex flex-col",children:[(0,Zn.jsx)("p",{className:"font-bold text-xl px-4 py-2",children:(null===o||void 0===o?void 0:o.playerName)||""}),(0,Zn.jsx)("p",{className:"font-bold text-xl px-4 py-2",children:(null===o||void 0===o?void 0:o.playerTitle)||""})]})})}),(0,Zn.jsx)(hs,{hasTitle:!1,children:o&&(0,Zn.jsxs)(Zn.Fragment,{children:[(0,Zn.jsx)(wr,{variables:o.variables,variableChanges:d.current?void 0:p}),a.length>0&&(0,Zn.jsx)(as,{GameControllerProps:{onClick:e=>{if(!d.current){switch(d.current=!0,g(void 0),e){case"left":v(Hn(a[0].option2.variableChanges));break;case"right":v(Hn(a[0].option1.variableChanges))}ou.UseCard({cardUID:a[0].uid,option:"left"===e?"option1":"option2",slot:o.slot}).then((e=>{v(Kn(e))})),f(!0),m()}},onMouseMove:e=>{e>u.current&&(e=u.current),e<-u.current&&(e=-u.current),c(-e),d.current||(e<0?p!==a[0].option1.variableChanges&&g(a[0].option1.variableChanges):e>0?p!==a[0].option2.variableChanges&&g(a[0].option2.variableChanges):g(void 0))}},cardDeg:l,card:a[0],isThrown:h,turnNextCard:()=>{c(0),f(!1),v(Yn()),d.current=!1}}),(0,Zn.jsx)("div",{className:"w-full flex-1",children:(0,Zn.jsxs)("div",{className:"w-full flex justify-center items-center p-2 relative space-x-2 text-lg",children:[(0,Zn.jsx)("div",{className:"hover:drop-shadow-md hover:scale-105 transition-all duration-100 ease-out cursor-pointer p-1 relative z-50",onClick:()=>{e.setPage(ks.Home)},children:(0,Zn.jsx)(fr,{})}),(0,Zn.jsx)("div",{className:"hover:drop-shadow-md hover:scale-105 transition-all duration-100 ease-out cursor-pointer p-1 relative z-50",onClick:()=>{e.setPage(ks.Settings)},children:(0,Zn.jsx)(br,{})}),(0,Zn.jsx)("div",{className:"hover:drop-shadow-md hover:scale-105 transition-all duration-100 ease-out cursor-pointer p-1 relative z-50",onClick:()=>{const t=!s;e.setMusic(t),v(ys(t))},children:s?(0,Zn.jsx)(ss,{}):(0,Zn.jsx)(ls,{})})]})})]})}),(0,Zn.jsx)(fs,{children:(0,Zn.jsxs)("div",{className:"flex flex-col",children:[(0,Zn.jsx)("p",{children:null!==(n=null===o||void 0===o?void 0:o.year)&&void 0!==n?n:""}),(0,Zn.jsx)("p",{children:null!==(r=null===o||void 0===o?void 0:o.season)&&void 0!==r?r:""})]})})]})},su={email:"",password:"",author_name:"",last_login_unix:0,role:ps.USER},lu=Nn({name:"user",initialState:su,reducers:{login:(e,t)=>{const n=t.payload;return console.log(n),{...e,...n,last_login_unix:(new Date).getTime()}},logout:e=>{let t=e.last_login_unix;return{...su,last_login_unix:t}},setAuthor:(e,t)=>(e.author_name=t.payload,e)}}),{login:cu,logout:uu,setAuthor:du}=lu.actions,hu=lu.reducer,fu=Nn({name:"auth",initialState:{isAuthenticated:!1,lastAuthenticatedUnix:0,hasAuthenticated:!1},reducers:{auth:e=>{e.isAuthenticated=!0,e.lastAuthenticatedUnix=(new Date).getTime(),e.hasAuthenticated=!0},unauth:e=>{e.isAuthenticated=!1}}}),{auth:pu,unauth:gu}=fu.actions,mu=fu.reducer,vu=()=>(0,Zn.jsxs)(Zn.Fragment,{children:[(0,Zn.jsx)(ds,{}),(0,Zn.jsx)(hs,{children:(0,Zn.jsx)("div",{className:"flex flex-col w-full p-2 h-full",children:(0,Zn.jsx)("div",{className:"flex-1 flex items-center",id:"firebaseui-auth-container"})})}),(0,Zn.jsx)(fs,{})]});class yu{constructor(e,t){this._delegate=e,this.firebase=t,pc(e,new rl("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Ac(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cc;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cc;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){pc(this._delegate,e)}_addOrOverwriteComponent(e){gc(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const bu=new Gs("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const wu=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=Ec(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Ks(n,i.name))return n[i.name];const o=new t(i,r);return n[i.name]=o,o},app:i,registerVersion:Pc,setLogLevel:Oc,onLog:Rc,apps:null,SDK_VERSION:Sc,INTERNAL:{registerComponent:function(e){const n=e.name,o=n.replace("-compat","");if(mc(e)&&"PUBLIC"===e.type){const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[o])throw bu.create("invalid-app-argument",{appName:n});return e[o]()};void 0!==e.serviceProps&&Ts(a,e.serviceProps),r[o]=a,t.prototype[o]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[o]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Ks(n,e=e||cc))throw bu.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(yu);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Ts(n,e)},createSubscribe:Xs,ErrorFactory:Gs,deepExtend:Ts}),n}(),ku=new pl("@firebase/app-compat");try{const e=Ns();if(void 0!==e.firebase){ku.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const t=e.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&ku.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch(Ej){}const xu=wu;!function(e){Pc("@firebase/app-compat","0.2.43",e)}();function _u(e){return ar({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"}}]})(e)}function Iu(e){return ar({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"}}]})(e)}function Su(e){return ar({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"}}]})(e)}function Eu(e){return ar({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"}}]})(e)}function Cu(e){return ar({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"}}]})(e)}function Tu(e){return ar({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"}}]})(e)}function Nu(e){return ar({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"}}]})(e)}function Au(e){return ar({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"}}]})(e)}function Pu(e){return ar({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"}}]})(e)}function Ru(e){return ar({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}}]})(e)}xu.registerVersion("firebase","10.14.1","app-compat");function Ou(e){var t=function(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},i=function(e,t){if(!t)return e;return e.map((function(e){return[e[0],e[1].map((function(e){return"string"===typeof e?t+e:"object"===typeof e?Object.fromEntries(Object.entries(e).map((function(e){var n=e[0],r=e[1];return[t+n,r]}))):e}))]}))}(Object.entries(e.classGroups),n);return i.forEach((function(e){var n=e[0];Mu(e[1],r,n,t)})),r}(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,i=void 0===r?{}:r;return{getClassGroupId:function(e){var n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),Du(n,t)||function(e){if(Lu.test(e)){var t=Lu.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}(e)},getConflictingClassGroupIds:function(e,t){var r=n[e]||[];return t&&i[e]?[].concat(r,i[e]):r}}}function Du(e,t){if(0===e.length)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),i=r?Du(e.slice(1),r):void 0;if(i)return i;if(0!==t.validators.length){var o=e.join("-");return t.validators.find((function(e){return(0,e.validator)(o)}))?.classGroupId}}var Lu=/^\[(.+)\]$/;function Mu(e,t,n,r){e.forEach((function(e){if("string"!==typeof e){if("function"===typeof e)return e.isThemeGetter?void Mu(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach((function(e){var i=e[0];Mu(e[1],ju(t,i),n,r)}))}else{(""===e?t:ju(t,e)).classGroupId=n}}))}function ju(e,t){var n=e;return t.split("-").forEach((function(e){n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)})),n}function Fu(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function i(i,o){n.set(i,o),++t>e&&(t=0,r=n,n=new Map)}return{get:function(e){var t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(i(e,t),t):void 0},set:function(e,t){n.has(e)?n.set(e,t):i(e,t)}}}function Uu(e){var t=e.separator||":",n=1===t.length,r=t[0],i=t.length;return function(e){for(var o,a=[],s=0,l=0,c=0;c<e.length;c++){var u=e[c];if(0===s){if(u===r&&(n||e.slice(c,c+i)===t)){a.push(e.slice(l,c)),l=c+i;continue}if("/"===u){o=c;continue}}"["===u?s++:"]"===u&&s--}var d=0===a.length?e:e.substring(l),h=d.startsWith("!");return{modifiers:a,hasImportantModifier:h,baseClassName:h?d.substring(1):d,maybePostfixModifierPosition:o&&o>l?o-l:void 0}}}var Vu=/\s+/;function zu(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Bu(e))&&(r&&(r+=" "),r+=t);return r}function Bu(e){if("string"===typeof e)return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=Bu(e[r]))&&(n&&(n+=" "),n+=t);return n}function qu(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i,o,a=function(e){var n=t[0],l=t.slice(1).reduce((function(e,t){return t(e)}),n());return r=function(e){return{cache:Fu(e.cacheSize),splitModifiers:Uu(e),...Ou(e)}}(l),i=r.cache.get,o=r.cache.set,a=s,s(e)};function s(e){var t=i(e);if(t)return t;var n=function(e,t){var n=t.splitModifiers,r=t.getClassGroupId,i=t.getConflictingClassGroupIds,o=new Set;return e.trim().split(Vu).map((function(e){var t=n(e),i=t.modifiers,o=t.hasImportantModifier,a=t.baseClassName,s=t.maybePostfixModifierPosition,l=r(s?a.substring(0,s):a),c=Boolean(s);if(!l){if(!s)return{isTailwindClass:!1,originalClassName:e};if(!(l=r(a)))return{isTailwindClass:!1,originalClassName:e};c=!1}var u=function(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach((function(e){"["===e[0]?(t.push.apply(t,n.sort().concat([e])),n=[]):n.push(e)})),t.push.apply(t,n.sort()),t}(i).join(":");return{isTailwindClass:!0,modifierId:o?u+"!":u,classGroupId:l,originalClassName:e,hasPostfixModifier:c}})).reverse().filter((function(e){if(!e.isTailwindClass)return!0;var t=e.modifierId,n=e.classGroupId,r=e.hasPostfixModifier,a=t+n;return!o.has(a)&&(o.add(a),i(n,r).forEach((function(e){return o.add(t+e)})),!0)})).reverse().map((function(e){return e.originalClassName})).join(" ")}(e,r);return o(e,n),n}return function(){return a(zu.apply(null,arguments))}}function Gu(e){var t=function(t){return t[e]||[]};return t.isThemeGetter=!0,t}var $u=/^\[(?:([a-z-]+):)?(.+)\]$/i,Ku=/^\d+\/\d+$/,Hu=new Set(["px","full","screen"]),Wu=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Qu=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Yu=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Ju(e){return rd(e)||Hu.has(e)||Ku.test(e)||Xu(e)}function Xu(e){return ud(e,"length",dd)}function Zu(e){return ud(e,"size",hd)}function ed(e){return ud(e,"position",hd)}function td(e){return ud(e,"url",fd)}function nd(e){return ud(e,"number",rd)}function rd(e){return!Number.isNaN(Number(e))}function id(e){return e.endsWith("%")&&rd(e.slice(0,-1))}function od(e){return pd(e)||ud(e,"number",pd)}function ad(e){return $u.test(e)}function sd(){return!0}function ld(e){return Wu.test(e)}function cd(e){return ud(e,"",gd)}function ud(e,t,n){var r=$u.exec(e);return!!r&&(r[1]?r[1]===t:n(r[2]))}function dd(e){return Qu.test(e)}function hd(){return!1}function fd(e){return e.startsWith("url(")}function pd(e){return Number.isInteger(Number(e))}function gd(e){return Yu.test(e)}function md(){var e=Gu("colors"),t=Gu("spacing"),n=Gu("blur"),r=Gu("brightness"),i=Gu("borderColor"),o=Gu("borderRadius"),a=Gu("borderSpacing"),s=Gu("borderWidth"),l=Gu("contrast"),c=Gu("grayscale"),u=Gu("hueRotate"),d=Gu("invert"),h=Gu("gap"),f=Gu("gradientColorStops"),p=Gu("gradientColorStopPositions"),g=Gu("inset"),m=Gu("margin"),v=Gu("opacity"),y=Gu("padding"),b=Gu("saturate"),w=Gu("scale"),k=Gu("sepia"),x=Gu("skew"),_=Gu("space"),I=Gu("translate"),S=function(){return["auto",ad,t]},E=function(){return[ad,t]},C=function(){return["",Ju]},T=function(){return["auto",rd,ad]},N=function(){return["","0",ad]},A=function(){return[rd,nd]},P=function(){return[rd,ad]};return{cacheSize:500,theme:{colors:[sd],spacing:[Ju],blur:["none","",ld,ad],brightness:A(),borderColor:[e],borderRadius:["none","","full",ld,ad],borderSpacing:E(),borderWidth:C(),contrast:A(),grayscale:N(),hueRotate:P(),invert:N(),gap:E(),gradientColorStops:[e],gradientColorStopPositions:[id,Xu],inset:S(),margin:S(),opacity:A(),padding:E(),saturate:A(),scale:A(),sepia:N(),skew:P(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",ad]}],container:["container"],columns:[{columns:[ld]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],[ad])}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",od]}],basis:[{basis:S()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ad]}],grow:[{grow:N()}],shrink:[{shrink:N()}],order:[{order:["first","last","none",od]}],"grid-cols":[{"grid-cols":[sd]}],"col-start-end":[{col:["auto",{span:["full",od]},ad]}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":[sd]}],"row-start-end":[{row:["auto",{span:[od]},ad]}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ad]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ad]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat(["start","end","center","between","around","evenly","stretch"])}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(["start","end","center","between","around","evenly","stretch"],["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(["start","end","center","between","around","evenly","stretch"],["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",ad,t]}],"min-w":[{"min-w":["min","max","fit",ad,Ju]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[ld]},ld,ad]}],h:[{h:[ad,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",ad,Ju]}],"max-h":[{"max-h":[ad,t,"min","max","fit"]}],"font-size":[{text:["base",ld,Xu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",nd]}],"font-family":[{font:[sd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ad]}],"line-clamp":[{"line-clamp":["none",rd,nd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ad,Ju]}],"list-image":[{"list-image":["none",ad]}],"list-style-type":[{list:["none","disc","decimal",ad]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(["solid","dashed","dotted","double","none"],["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Ju]}],"underline-offset":[{"underline-offset":["auto",ad,Ju]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ad]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ad]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],[ed])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Zu]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},td]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[].concat(["solid","dashed","dotted","double","none"],["hidden"])}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(["solid","dashed","dotted","double","none"])}],"outline-offset":[{"outline-offset":[ad,Ju]}],"outline-w":[{outline:[Ju]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:C()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Ju]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ld,cd]}],"shadow-color":[{shadow:[sd]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ld,ad]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ad]}],duration:[{duration:P()}],ease:[{ease:["linear","in","out","in-out",ad]}],delay:[{delay:P()}],animate:[{animate:["none","spin","ping","pulse","bounce",ad]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[od,ad]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[x]}],"skew-y":[{"skew-y":[x]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ad]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ad]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ad]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ju,nd]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var vd=qu(md);function yd(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function bd(e){if(!yd(e))return e;const t={...e};return Object.keys(e).forEach((n=>{t[n]=bd(e[n])})),t}function wd(e,t){if(yd(t)&&0===Object.keys(t).length)return bd({...e,...t});const n={...e,...t};return yd(t)&&yd(e)&&Object.keys(t).forEach((r=>{yd(t[r])&&r in e&&yd(e[r])?n[r]=wd(e[r],t[r]):n[r]=yd(t[r])?bd(t[r]):t[r]})),n}const kd=(0,t.createContext)(void 0);function xd(){const e=(0,t.useContext)(kd);if(!e)throw new Error("useAccordionContext should be used within the AccordionPanelContext provider!");return e}const _d=e=>{let{children:t,className:n,theme:r={},...i}=e;const{isOpen:o}=xd(),a=wd(Xd().theme.accordion.content,r);return(0,Zn.jsx)("div",{className:vd(a.base,n),"data-testid":"flowbite-accordion-content",hidden:!o,...i,children:t})},Id=e=>{let{children:n,...r}=e;const{alwaysOpen:i}=r,[o,a]=(0,t.useState)(r.isOpen),s=i?{...r,isOpen:o,setOpen:()=>a(!o)}:r;return(0,Zn.jsx)(kd.Provider,{value:s,children:n})},Sd=e=>{let{as:t="h2",children:n,className:r,theme:i={},...o}=e;const{arrowIcon:a,flush:s,isOpen:l,setOpen:c}=xd(),u=wd(Xd().theme.accordion.title,i);return(0,Zn.jsxs)("button",{className:vd(u.base,u.flush[s?"on":"off"],u.open[l?"on":"off"],r),onClick:()=>"undefined"!==typeof c&&c(),type:"button",...o,children:[(0,Zn.jsx)(t,{className:u.heading,"data-testid":"flowbite-accordion-heading",children:n}),a&&(0,Zn.jsx)(a,{"aria-hidden":!0,className:vd(u.arrow.base,u.arrow.open[l?"on":"off"]),"data-testid":"flowbite-accordion-arrow"})]})},Ed=e=>{let{alwaysOpen:n=!1,arrowIcon:r=_u,children:i,flush:o=!1,collapseAll:a=!1,className:s,theme:l={},...c}=e;const[u,d]=(0,t.useState)(a?-1:0),h=(0,t.useMemo)((()=>t.Children.map(i,((e,i)=>(0,t.cloneElement)(e,{alwaysOpen:n,arrowIcon:r,flush:o,isOpen:u===i,setOpen:()=>d(u===i?-1:i)})))),[n,r,i,o,u]),f=wd(Xd().theme.accordion.root,l);return(0,Zn.jsx)("div",{className:vd(f.base,f.flush[o?"on":"off"],s),"data-testid":"flowbite-accordion",...c,children:h})};Ed.displayName="Accordion",Id.displayName="Accordion.Panel",Sd.displayName="Accordion.Title",_d.displayName="Accordion.Content";Object.assign(Ed,{Panel:Id,Title:Sd,Content:_d});const Cd=e=>{let{additionalContent:t,children:n,className:r,color:i="info",icon:o,onDismiss:a,rounded:s=!0,theme:l={},withBorderAccent:c,...u}=e;const d=wd(Xd().theme.alert,l);return(0,Zn.jsxs)("div",{className:vd(d.base,d.color[i],s&&d.rounded,c&&d.borderAccent,r),role:"alert",...u,children:[(0,Zn.jsxs)("div",{className:d.wrapper,"data-testid":"flowbite-alert-wrapper",children:[o&&(0,Zn.jsx)(o,{className:d.icon,"data-testid":"flowbite-alert-icon"}),(0,Zn.jsx)("div",{children:n}),"function"===typeof a&&(0,Zn.jsx)("button",{"aria-label":"Dismiss",className:vd(d.closeButton.base,d.closeButton.color[i]),onClick:a,type:"button",children:(0,Zn.jsx)(Tu,{"aria-hidden":!0,className:d.closeButton.icon})})]}),t&&(0,Zn.jsx)("div",{children:t})]})};Cd.displayName="Alert";const Td=e=>{let{children:t,className:n,theme:r={},...i}=e;const o=wd(Xd().theme.avatar.group,r);return(0,Zn.jsx)("div",{"data-testid":"avatar-group-element",className:vd(o.base,n),...i,children:t})};Td.displayName="Avatar.Group";const Nd=e=>{let{className:t,href:n,theme:r={},total:i,...o}=e;const a=wd(Xd().theme.avatar.groupCounter,r);return(0,Zn.jsxs)("a",{href:n,className:vd(a.base,t),...o,children:["+",i]})};Nd.displayName="Avatar.GroupCounter";const Ad=e=>{let{alt:t="",bordered:n=!1,children:r,className:i,color:o="light",img:a,placeholderInitials:s="",rounded:l=!1,size:c="md",stacked:u=!1,status:d,statusPosition:h="top-left",theme:f={},...p}=e;const g=wd(Xd().theme.avatar,f),m=vd(g.root.img.base,n&&g.root.bordered,n&&g.root.color[o],l&&g.root.rounded,u&&g.root.stacked,g.root.img.on,g.root.size[c]),v={className:vd(m,g.root.img.on),"data-testid":"flowbite-avatar-img"};return(0,Zn.jsxs)("div",{className:vd(g.root.base,i),"data-testid":"flowbite-avatar",...p,children:[(0,Zn.jsxs)("div",{className:"relative",children:[a?"string"===typeof a?(0,Zn.jsx)("img",{alt:t,src:a,...v}):a({alt:t,...v}):s?(0,Zn.jsx)("div",{className:vd(g.root.img.off,g.root.initials.base,u&&g.root.stacked,n&&g.root.bordered,n&&g.root.color[o],g.root.size[c],l&&g.root.rounded),"data-testid":"flowbite-avatar-initials-placeholder",children:(0,Zn.jsx)("span",{className:vd(g.root.initials.text),"data-testid":"flowbite-avatar-initials-placeholder-text",children:s})}):(0,Zn.jsx)("div",{className:vd(m,g.root.img.off),"data-testid":"flowbite-avatar-img",children:(0,Zn.jsx)("svg",{className:g.root.img.placeholder,fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,Zn.jsx)("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),d&&(0,Zn.jsx)("span",{"data-testid":"flowbite-avatar-status",className:vd(g.root.status.base,g.root.status[d],g.root.statusPosition[h])})]}),r&&(0,Zn.jsx)("div",{children:r})]})};Ad.displayName="Avatar";Object.assign(Ad,{Group:Td,Counter:Nd});const Pd=e=>{let{children:t,color:n="info",href:r,icon:i,size:o="xs",className:a,theme:s={},...l}=e;const c=wd(Xd().theme.badge,s),u=()=>(0,Zn.jsxs)("span",{className:vd(c.root.base,c.root.color[n],c.icon[i?"on":"off"],c.root.size[o],a),"data-testid":"flowbite-badge",...l,children:[i&&(0,Zn.jsx)(i,{"aria-hidden":!0,className:c.icon.size[o],"data-testid":"flowbite-badge-icon"}),t&&(0,Zn.jsx)("span",{children:t})]});return r?(0,Zn.jsx)("a",{className:c.root.href,href:r,children:(0,Zn.jsx)(u,{})}):(0,Zn.jsx)(u,{})};Pd.displayName="Badge";const Rd=(0,t.forwardRef)(((e,t)=>{let{children:n,className:r,href:i,icon:o,theme:a={},...s}=e;const l="undefined"!==typeof i,c=l?"a":"span",u=wd(Xd().theme.breadcrumb.item,a);return(0,Zn.jsxs)("li",{className:vd(u.base,r),...s,children:[(0,Zn.jsx)(Pu,{"aria-hidden":!0,className:u.chevron,"data-testid":"flowbite-breadcrumb-separator"}),(0,Zn.jsxs)(c,{ref:t,className:u.href[l?"on":"off"],"data-testid":"flowbite-breadcrumb-item",href:i,children:[o&&(0,Zn.jsx)(o,{"aria-hidden":!0,className:u.icon}),n]})]})}));Rd.displayName="Breadcrumb.Item";const Od=e=>{let{children:t,className:n,theme:r={},...i}=e;const o=wd(Xd().theme.breadcrumb.root,r);return(0,Zn.jsx)("nav",{"aria-label":"Breadcrumb",className:vd(o.base,n),...i,children:(0,Zn.jsx)("ol",{className:o.list,children:t})})};Od.displayName="Breadcrumb";Object.assign(Od,{Item:Rd});const Dd=(0,t.forwardRef)(((e,n)=>{let{children:r,as:i="button",href:o,...a}=e;const s=o?"a":i??"button",l="button"===i?"button":void 0;return(0,t.createElement)(s,{ref:n,href:o,type:l,...a},r)}));Dd.displayName="Button";const Ld=e=>{let{children:n,className:r,outline:i,pill:o,theme:a={},...s}=e;const l=(0,t.useMemo)((()=>t.Children.map(n,((e,r)=>(0,t.cloneElement)(e,{outline:i,pill:o,positionInGroup:0===r?"start":r===n.length-1?"end":"middle"})))),[n,i,o]),c=wd(Xd().theme.buttonGroup,a);return(0,Zn.jsx)("div",{className:vd(c.base,r),role:"group",...s,children:l})};Ld.displayName="Button.Group";const Md=Ld,jd=(0,t.forwardRef)(((e,t)=>{let{children:n,className:r,color:i="info",disabled:o=!1,fullSized:a,isProcessing:s=!1,processingLabel:l="Loading...",processingSpinner:c,gradientDuoTone:u,gradientMonochrome:d,label:h,outline:f=!1,pill:p=!1,positionInGroup:g="none",size:m="md",theme:v={},...y}=e;const{buttonGroup:b,button:w}=Xd().theme,k=wd(w,v),x=y;return(0,Zn.jsx)(Dd,{disabled:o,ref:t,className:vd(k.base,o&&k.disabled,!u&&!d&&k.color[i],u&&!d&&k.gradientDuoTone[u],!u&&d&&k.gradient[d],f&&(k.outline.color[i]??k.outline.color.default),k.pill[p?"on":"off"],a&&k.fullSized,b.position[g],r),...x,children:(0,Zn.jsx)("span",{className:vd(k.inner.base,k.outline[f?"on":"off"],k.outline.pill[f&&p?"on":"off"],k.size[m],f&&!k.outline.color[i]&&k.inner.outline,s&&k.isProcessing,s&&k.inner.isProcessingPadding[m],k.inner.position[g]),children:(0,Zn.jsxs)(Zn.Fragment,{children:[s&&(0,Zn.jsx)("span",{className:vd(k.spinnerSlot,k.spinnerLeftPosition[m]),children:c||(0,Zn.jsx)(Rm,{size:m})}),"undefined"!==typeof n?n:(0,Zn.jsx)("span",{"data-testid":"flowbite-button-label",className:vd(k.label),children:s?l:h})]})})})}));jd.displayName="ButtonComponent";const Fd=Object.assign(jd,{Group:Md}),Ud=e=>{const{children:t,className:n,horizontal:r,href:i,theme:o={}}=e,a="undefined"===typeof i?"div":"a",s=zd(e),l=wd(Xd().theme.card,o);return(0,Zn.jsxs)(a,{"data-testid":"flowbite-card",href:i,className:vd(l.root.base,l.root.horizontal[r?"on":"off"],i&&l.root.href,n),...s,children:[(0,Zn.jsx)(Vd,{...e}),(0,Zn.jsx)("div",{className:l.root.children,children:t})]})},Vd=e=>{let{theme:t={},...n}=e;const r=wd(Xd().theme.card,t);return n.renderImage?n.renderImage(r,n.horizontal??!1):n.imgSrc?(0,Zn.jsx)("img",{"data-testid":"flowbite-card-image",alt:n.imgAlt??"",src:n.imgSrc,className:vd(r.img.base,r.img.horizontal[n.horizontal?"on":"off"])}):null},zd=(Bd=["renderImage","imgSrc","imgAlt","children","className","horizontal","href","theme"],e=>{const t={};return Object.keys(e).forEach((n=>{Bd.includes(n)||(t[n]=e[n])})),t});var Bd,qd,Gd=function(e,t){return(Gd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},$d=(function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var o=typeof i;if("string"===o||"number"===o)e.push(i);else if(Array.isArray(i)&&i.length){var a=n.apply(null,i);a&&e.push(a)}else if("object"===o)for(var s in i)t.call(i,s)&&i[s]&&e.push(s)}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n}()}(qd={path:undefined,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&qd.path)}},qd.exports),qd.exports);function Kd(e,t,n){var r,i,o,a,s;function l(){var c=Date.now()-a;c<t&&c>=0?r=setTimeout(l,t-c):(r=null,n||(s=e.apply(o,i),o=i=null))}null==t&&(t=100);var c=function(){o=this,i=arguments,a=Date.now();var c=n&&!r;return r||(r=setTimeout(l,t)),c&&(s=e.apply(o,i),o=i=null),s};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(s=e.apply(o,i),o=i=null,clearTimeout(r),r=null)},c}Kd.debounce=Kd;var Hd=Kd;!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".indiana-scroll-container {\n  overflow: auto; }\n  .indiana-scroll-container--dragging {\n    scroll-behavior: auto !important; }\n    .indiana-scroll-container--dragging > * {\n      pointer-events: none;\n      cursor: -webkit-grab;\n      cursor: grab; }\n  .indiana-scroll-container--hide-scrollbars {\n    overflow: hidden;\n    overflow: -moz-scrollbars-none;\n    -ms-overflow-style: none;\n    scrollbar-width: none; }\n    .indiana-scroll-container--hide-scrollbars::-webkit-scrollbar {\n      display: none !important;\n      height: 0 !important;\n      width: 0 !important;\n      background: transparent !important;\n      -webkit-appearance: none !important; }\n  .indiana-scroll-container--native-scroll {\n    overflow: auto; }\n\n.indiana-dragging {\n  cursor: -webkit-grab;\n  cursor: grab; }\n");var Wd,Qd=(Wd="indiana-scroll-container",function(e,t){if(!e)return Wd;var n;"string"==typeof e?n=e:t=e;var r=Wd;return n&&(r+="__"+n),r+(t?Object.keys(t).reduce((function(e,n){var i=t[n];return i&&(e+=" "+("boolean"==typeof i?r+"--"+n:r+"--"+n+"_"+i)),e}),""):"")});!function(e){function n(n){var r=e.call(this,n)||this;return r.onEndScroll=function(){r.scrolling=!1,!r.pressed&&r.started&&r.processEnd()},r.onScroll=function(e){var t=r.container.current;t.scrollLeft===r.scrollLeft&&t.scrollTop===r.scrollTop||(r.scrolling=!0,r.processScroll(e),r.onEndScroll())},r.onTouchStart=function(e){var t=r.props.nativeMobileScroll;if(r.isDraggable(e.target))if(r.internal=!0,t&&r.scrolling)r.pressed=!0;else{var n=e.touches[0];r.processClick(e,n.clientX,n.clientY),!t&&r.props.stopPropagation&&e.stopPropagation()}},r.onTouchEnd=function(e){var t=r.props.nativeMobileScroll;r.pressed&&(!r.started||r.scrolling&&t?r.pressed=!1:r.processEnd(),r.forceUpdate())},r.onTouchMove=function(e){var t=r.props.nativeMobileScroll;if(r.pressed&&(!t||!r.isMobile)){var n=e.touches[0];n&&r.processMove(e,n.clientX,n.clientY),e.preventDefault(),r.props.stopPropagation&&e.stopPropagation()}},r.onMouseDown=function(e){r.isDraggable(e.target)&&r.isScrollable()&&(r.internal=!0,-1!==r.props.buttons.indexOf(e.button)&&(r.processClick(e,e.clientX,e.clientY),e.preventDefault(),r.props.stopPropagation&&e.stopPropagation()))},r.onMouseMove=function(e){r.pressed&&(r.processMove(e,e.clientX,e.clientY),e.preventDefault(),r.props.stopPropagation&&e.stopPropagation())},r.onMouseUp=function(e){r.pressed&&(r.started?r.processEnd():(r.internal=!1,r.pressed=!1,r.forceUpdate(),r.props.onClick&&r.props.onClick(e)),e.preventDefault(),r.props.stopPropagation&&e.stopPropagation())},r.container=t.createRef(),r.onEndScroll=Hd(r.onEndScroll,300),r.scrolling=!1,r.started=!1,r.pressed=!1,r.internal=!1,r.getRef=r.getRef.bind(r),r}(function(e,t){function n(){this.constructor=e}Gd(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(n,e),n.prototype.componentDidMount=function(){var e=this.props.nativeMobileScroll,t=this.container.current;window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd),t.addEventListener("touchstart",this.onTouchStart,{passive:!1}),t.addEventListener("mousedown",this.onMouseDown,{passive:!1}),e&&(this.isMobile=this.isMobileDevice(),this.isMobile&&this.forceUpdate())},n.prototype.componentWillUnmount=function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},n.prototype.getElement=function(){return this.container.current},n.prototype.isMobileDevice=function(){return void 0!==window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")},n.prototype.isDraggable=function(e){var t=this.props.ignoreElements;if(t){var n=e.closest(t);return null===n||n.contains(this.getElement())}return!0},n.prototype.isScrollable=function(){var e=this.container.current;return e&&(e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight)},n.prototype.processClick=function(e,t,n){var r=this.container.current;this.scrollLeft=r.scrollLeft,this.scrollTop=r.scrollTop,this.clientX=t,this.clientY=n,this.pressed=!0},n.prototype.processStart=function(e){void 0===e&&(e=!0);var t=this.props.onStartScroll;this.started=!0,e&&document.body.classList.add("indiana-dragging"),t&&t({external:!this.internal}),this.forceUpdate()},n.prototype.processScroll=function(e){if(this.started){var t=this.props.onScroll;t&&t({external:!this.internal})}else this.processStart(!1)},n.prototype.processMove=function(e,t,n){var r=this.props,i=r.horizontal,o=r.vertical,a=r.activationDistance,s=r.onScroll,l=this.container.current;this.started?(i&&(l.scrollLeft-=t-this.clientX),o&&(l.scrollTop-=n-this.clientY),s&&s({external:!this.internal}),this.clientX=t,this.clientY=n,this.scrollLeft=l.scrollLeft,this.scrollTop=l.scrollTop):(i&&Math.abs(t-this.clientX)>a||o&&Math.abs(n-this.clientY)>a)&&(this.clientX=t,this.clientY=n,this.processStart())},n.prototype.processEnd=function(){var e=this.props.onEndScroll;this.container.current&&e&&e({external:!this.internal}),this.pressed=!1,this.started=!1,this.scrolling=!1,this.internal=!1,document.body.classList.remove("indiana-dragging"),this.forceUpdate()},n.prototype.getRef=function(e){[this.container,this.props.innerRef].forEach((function(t){t&&("function"==typeof t?t(e):t.current=e)}))},n.prototype.render=function(){var e=this.props,n=e.children,r=e.draggingClassName,i=e.className,o=e.style,a=e.hideScrollbars,s=e.component;return t.createElement(s,{className:$d(i,this.pressed&&r,Qd({dragging:this.pressed,"hide-scrollbars":a,"native-scroll":this.isMobile})),style:o,ref:this.getRef,onScroll:this.onScroll},n)},n.defaultProps={nativeMobileScroll:!0,hideScrollbars:!0,activationDistance:10,vertical:!0,horizontal:!0,stopPropagation:!1,style:{},component:"div",buttons:[0]}}(t.PureComponent);(0,t.forwardRef)(((e,t)=>{let{className:n,theme:r={},...i}=e;const o=wd(Xd().theme.checkbox,r);return(0,Zn.jsx)("input",{ref:t,type:"checkbox",className:vd(o.root.base,n),...i})})).displayName="Checkbox";const Yd={accordion:{root:{base:"divide-y divide-gray-200 border-gray-200 dark:divide-gray-700 dark:border-gray-700",flush:{off:"rounded-lg border",on:"border-b"}},content:{base:"py-5 px-5 last:rounded-b-lg dark:bg-gray-900 first:rounded-t-lg"},title:{arrow:{base:"h-6 w-6 shrink-0",open:{off:"",on:"rotate-180"}},base:"flex w-full items-center justify-between first:rounded-t-lg last:rounded-b-lg py-5 px-5 text-left font-medium text-gray-500 dark:text-gray-400",flush:{off:"hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 dark:hover:bg-gray-800 dark:focus:ring-gray-800",on:"bg-transparent dark:bg-transparent"},heading:"",open:{off:"",on:"text-gray-900 bg-gray-100 dark:bg-gray-800 dark:text-white"}}},alert:{base:"flex flex-col gap-2 p-4 text-sm",borderAccent:"border-t-4",closeButton:{base:"-mx-1.5 -my-1.5 ml-auto inline-flex h-8 w-8 rounded-lg p-1.5 focus:ring-2",icon:"w-5 h-5",color:{info:"bg-cyan-100 text-cyan-500 hover:bg-cyan-200 focus:ring-cyan-400 dark:bg-cyan-200 dark:text-cyan-600 dark:hover:bg-cyan-300",gray:"bg-gray-100 text-gray-500 hover:bg-gray-200 focus:ring-gray-400 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-800 dark:hover:text-white",failure:"bg-red-100 text-red-500 hover:bg-red-200 focus:ring-red-400 dark:bg-red-200 dark:text-red-600 dark:hover:bg-red-300",success:"bg-green-100 text-green-500 hover:bg-green-200 focus:ring-green-400 dark:bg-green-200 dark:text-green-600 dark:hover:bg-green-300",warning:"bg-yellow-100 text-yellow-500 hover:bg-yellow-200 focus:ring-yellow-400 dark:bg-yellow-200 dark:text-yellow-600 dark:hover:bg-yellow-300",red:"bg-red-100 text-red-500 hover:bg-red-200 focus:ring-red-400 dark:bg-red-200 dark:text-red-600 dark:hover:bg-red-300",green:"bg-green-100 text-green-500 hover:bg-green-200 focus:ring-green-400 dark:bg-green-200 dark:text-green-600 dark:hover:bg-green-300",yellow:"bg-yellow-100 text-yellow-500 hover:bg-yellow-200 focus:ring-yellow-400 dark:bg-yellow-200 dark:text-yellow-600 dark:hover:bg-yellow-300",blue:"bg-cyan-100 text-cyan-500 hover:bg-cyan-200 focus:ring-cyan-400 dark:bg-cyan-200 dark:text-cyan-600 dark:hover:bg-cyan-300",cyan:"bg-cyan-100 text-cyan-500 hover:bg-cyan-200 focus:ring-cyan-400 dark:bg-cyan-200 dark:text-cyan-600 dark:hover:bg-cyan-300",pink:"bg-pink-100 text-pink-500 hover:bg-pink-200 focus:ring-pink-400 dark:bg-pink-200 dark:text-pink-600 dark:hover:bg-pink-300",lime:"bg-lime-100 text-lime-500 hover:bg-lime-200 focus:ring-lime-400 dark:bg-lime-200 dark:text-lime-600 dark:hover:bg-lime-300",dark:"bg-gray-100 text-gray-500 hover:bg-gray-200 focus:ring-gray-400 dark:bg-gray-200 dark:text-gray-600 dark:hover:bg-gray-300",indigo:"bg-indigo-100 text-indigo-500 hover:bg-indigo-200 focus:ring-indigo-400 dark:bg-indigo-200 dark:text-indigo-600 dark:hover:bg-indigo-300",purple:"bg-purple-100 text-purple-500 hover:bg-purple-200 focus:ring-purple-400 dark:bg-purple-200 dark:text-purple-600 dark:hover:bg-purple-300",teal:"bg-teal-100 text-teal-500 hover:bg-teal-200 focus:ring-teal-400 dark:bg-teal-200 dark:text-teal-600 dark:hover:bg-teal-300",light:"bg-gray-50 text-gray-500 hover:bg-gray-100 focus:ring-gray-200 dark:bg-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 dark:hover:text-white"}},color:{info:"text-cyan-700 bg-cyan-100 border-cyan-500 dark:bg-cyan-200 dark:text-cyan-800",gray:"text-gray-700 bg-gray-100 border-gray-500 dark:bg-gray-700 dark:text-gray-300",failure:"text-red-700 bg-red-100 border-red-500 dark:bg-red-200 dark:text-red-800",success:"text-green-700 bg-green-100 border-green-500 dark:bg-green-200 dark:text-green-800",warning:"text-yellow-700 bg-yellow-100 border-yellow-500 dark:bg-yellow-200 dark:text-yellow-800",red:"text-red-700 bg-red-100 border-red-500 dark:bg-red-200 dark:text-red-800",green:"text-green-700 bg-green-100 border-green-500 dark:bg-green-200 dark:text-green-800",yellow:"text-yellow-700 bg-yellow-100 border-yellow-500 dark:bg-yellow-200 dark:text-yellow-800",blue:"text-cyan-700 bg-cyan-100 border-cyan-500 dark:bg-cyan-200 dark:text-cyan-800",cyan:"text-cyan-700 bg-cyan-100 border-cyan-500 dark:bg-cyan-200 dark:text-cyan-800",pink:"text-pink-700 bg-pink-100 border-pink-500 dark:bg-pink-200 dark:text-pink-800",lime:"text-lime-700 bg-lime-100 border-lime-500 dark:bg-lime-200 dark:text-lime-800",dark:"text-gray-200 bg-gray-800 border-gray-600 dark:bg-gray-900 dark:text-gray-300",indigo:"text-indigo-700 bg-indigo-100 border-indigo-500 dark:bg-indigo-200 dark:text-indigo-800",purple:"text-purple-700 bg-purple-100 border-purple-500 dark:bg-purple-200 dark:text-purple-800",teal:"text-teal-700 bg-teal-100 border-teal-500 dark:bg-teal-200 dark:text-teal-800",light:"text-gray-600 bg-gray-50 border-gray-400 dark:bg-gray-500 dark:text-gray-200"},icon:"mr-3 inline h-5 w-5 flex-shrink-0",rounded:"rounded-lg",wrapper:"flex items-center"},avatar:{root:{base:"flex justify-center items-center space-x-4 rounded",bordered:"p-1 ring-2",rounded:"rounded-full",color:{dark:"ring-gray-800 dark:ring-gray-800",failure:"ring-red-500 dark:ring-red-700",gray:"ring-gray-500 dark:ring-gray-400",info:"ring-cyan-400 dark:ring-cyan-800",light:"ring-gray-300 dark:ring-gray-500",purple:"ring-purple-500 dark:ring-purple-600",success:"ring-green-500 dark:ring-green-500",warning:"ring-yellow-300 dark:ring-yellow-500",pink:"ring-pink-500 dark:ring-pink-500"},img:{base:"rounded",off:"relative overflow-hidden bg-gray-100 dark:bg-gray-600",on:"",placeholder:"absolute w-auto h-auto text-gray-400 -bottom-1"},size:{xs:"w-6 h-6",sm:"w-8 h-8",md:"w-10 h-10",lg:"w-20 h-20",xl:"w-36 h-36"},stacked:"ring-2 ring-gray-300 dark:ring-gray-500",statusPosition:{"bottom-left":"-bottom-1 -left-1","bottom-center":"-bottom-1 center","bottom-right":"-bottom-1 -right-1","top-left":"-top-1 -left-1","top-center":"-top-1 center","top-right":"-top-1 -right-1","center-right":"center -right-1",center:"center center","center-left":"center -left-1"},status:{away:"bg-yellow-400",base:"absolute h-3.5 w-3.5 rounded-full border-2 border-white dark:border-gray-800",busy:"bg-red-400",offline:"bg-gray-400",online:"bg-green-400"},initials:{text:"font-medium text-gray-600 dark:text-gray-300",base:"inline-flex overflow-hidden relative justify-center items-center bg-gray-100 dark:bg-gray-600"}},group:{base:"flex -space-x-4"},groupCounter:{base:"relative flex items-center justify-center w-10 h-10 text-xs font-medium text-white bg-gray-700 rounded-full ring-2 ring-gray-300 hover:bg-gray-600 dark:ring-gray-500"}},badge:{root:{base:"flex h-fit items-center gap-1 font-semibold",color:{info:"bg-cyan-100 text-cyan-800 dark:bg-cyan-200 dark:text-cyan-800 group-hover:bg-cyan-200 dark:group-hover:bg-cyan-300",gray:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300 group-hover:bg-gray-200 dark:group-hover:bg-gray-600",failure:"bg-red-100 text-red-800 dark:bg-red-200 dark:text-red-900 group-hover:bg-red-200 dark:group-hover:bg-red-300",success:"bg-green-100 text-green-800 dark:bg-green-200 dark:text-green-900 group-hover:bg-green-200 dark:group-hover:bg-green-300",warning:"bg-yellow-100 text-yellow-800 dark:bg-yellow-200 dark:text-yellow-900 group-hover:bg-yellow-200 dark:group-hover:bg-yellow-300",indigo:"bg-indigo-100 text-indigo-800 dark:bg-indigo-200 dark:text-indigo-900 group-hover:bg-indigo-200 dark:group-hover:bg-indigo-300",purple:"bg-purple-100 text-purple-800 dark:bg-purple-200 dark:text-purple-900 group-hover:bg-purple-200 dark:group-hover:bg-purple-300",pink:"bg-pink-100 text-pink-800 dark:bg-pink-200 dark:text-pink-900 group-hover:bg-pink-200 dark:group-hover:bg-pink-300",blue:"bg-cyan-100 text-cyan-800 dark:bg-cyan-200 dark:text-cyan-900 group-hover:bg-cyan-200 dark:group-hover:bg-cyan-300",cyan:"bg-cyan-100 text-cyan-800 dark:bg-cyan-200 dark:text-cyan-900 group-hover:bg-cyan-200 dark:group-hover:bg-cyan-300",dark:"bg-gray-600 text-gray-100 dark:bg-gray-900 dark:text-gray-200 group-hover:bg-gray-500 dark:group-hover:bg-gray-700",light:"bg-gray-200 text-gray-800 dark:bg-gray-400 dark:text-gray-900 group-hover:bg-gray-300 dark:group-hover:bg-gray-500",green:"bg-green-100 text-green-800 dark:bg-green-200 dark:text-green-900 group-hover:bg-green-200 dark:group-hover:bg-green-300",lime:"bg-lime-100 text-lime-800 dark:bg-lime-200 dark:text-lime-900 group-hover:bg-lime-200 dark:group-hover:bg-lime-300",red:"bg-red-100 text-red-800 dark:bg-red-200 dark:text-red-900 group-hover:bg-red-200 dark:group-hover:bg-red-300",teal:"bg-teal-100 text-teal-800 dark:bg-teal-200 dark:text-teal-900 group-hover:bg-teal-200 dark:group-hover:bg-teal-300",yellow:"bg-yellow-100 text-yellow-800 dark:bg-yellow-200 dark:text-yellow-900 group-hover:bg-yellow-200 dark:group-hover:bg-yellow-300"},href:"group",size:{xs:"p-1 text-xs",sm:"p-1.5 text-sm"}},icon:{off:"rounded px-2 py-0.5",on:"rounded-full p-1.5",size:{xs:"w-3 h-3",sm:"w-3.5 h-3.5"}}},breadcrumb:{root:{base:"",list:"flex items-center"},item:{base:"group flex items-center",chevron:"mx-1 h-6 w-6 text-gray-400 group-first:hidden md:mx-2",href:{off:"flex items-center text-sm font-medium text-gray-500 dark:text-gray-400",on:"flex items-center text-sm font-medium text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white"},icon:"mr-2 h-4 w-4"}},button:{base:"group flex h-min items-center justify-center p-0.5 text-center font-medium relative focus:z-10 focus:outline-none",fullSized:"w-full",color:{dark:"text-white bg-gray-800 border border-transparent enabled:hover:bg-gray-900 focus:ring-4 focus:ring-gray-300 dark:bg-gray-800 dark:enabled:hover:bg-gray-700 dark:focus:ring-gray-800 dark:border-gray-700",failure:"text-white bg-red-700 border border-transparent enabled:hover:bg-red-800 focus:ring-4 focus:ring-red-300 dark:bg-red-600 dark:enabled:hover:bg-red-700 dark:focus:ring-red-900",gray:"text-gray-900 bg-white border border-gray-200 enabled:hover:bg-gray-100 enabled:hover:text-cyan-700 :ring-cyan-700 focus:text-cyan-700 dark:bg-transparent dark:text-gray-400 dark:border-gray-600 dark:enabled:hover:text-white dark:enabled:hover:bg-gray-700 focus:ring-2",info:"text-white bg-cyan-700 border border-transparent enabled:hover:bg-cyan-800 focus:ring-4 focus:ring-cyan-300 dark:bg-cyan-600 dark:enabled:hover:bg-cyan-700 dark:focus:ring-cyan-800",light:"text-gray-900 bg-white border border-gray-300 enabled:hover:bg-gray-100 focus:ring-4 focus:ring-cyan-300 :bg-gray-600 dark:text-white dark:border-gray-600 dark:enabled:hover:bg-gray-700 dark:enabled:hover:border-gray-700 dark:focus:ring-gray-700",purple:"text-white bg-purple-700 border border-transparent enabled:hover:bg-purple-800 focus:ring-4 focus:ring-purple-300 dark:bg-purple-600 dark:enabled:hover:bg-purple-700 dark:focus:ring-purple-900",success:"text-white bg-green-700 border border-transparent enabled:hover:bg-green-800 focus:ring-4 focus:ring-green-300 dark:bg-green-600 dark:enabled:hover:bg-green-700 dark:focus:ring-green-800",warning:"text-white bg-yellow-400 border border-transparent enabled:hover:bg-yellow-500 focus:ring-4 focus:ring-yellow-300 dark:focus:ring-yellow-900",blue:"text-cyan-900 bg-white border border-cyan-300 enabled:hover:bg-cyan-100 focus:ring-4 focus:ring-cyan-300 :bg-cyan-600 dark:text-white dark:border-cyan-600 dark:enabled:hover:bg-cyan-700 dark:enabled:hover:border-cyan-700 dark:focus:ring-cyan-700",cyan:"text-cyan-900 bg-white border border-cyan-300 enabled:hover:bg-cyan-100 focus:ring-4 focus:ring-cyan-300 :bg-cyan-600 dark:text-white dark:border-cyan-600 dark:enabled:hover:bg-cyan-700 dark:enabled:hover:border-cyan-700 dark:focus:ring-cyan-700",green:"text-green-900 bg-white border border-green-300 enabled:hover:bg-green-100 focus:ring-4 focus:ring-green-300 :bg-green-600 dark:text-white dark:border-green-600 dark:enabled:hover:bg-green-700 dark:enabled:hover:border-green-700 dark:focus:ring-green-700",indigo:"text-indigo-900 bg-white border border-indigo-300 enabled:hover:bg-indigo-100 focus:ring-4 focus:ring-indigo-300 :bg-indigo-600 dark:text-white dark:border-indigo-600 dark:enabled:hover:bg-indigo-700 dark:enabled:hover:border-indigo-700 dark:focus:ring-indigo-700",lime:"text-lime-900 bg-white border border-lime-300 enabled:hover:bg-lime-100 focus:ring-4 focus:ring-lime-300 :bg-lime-600 dark:text-white dark:border-lime-600 dark:enabled:hover:bg-lime-700 dark:enabled:hover:border-lime-700 dark:focus:ring-lime-700",pink:"text-pink-900 bg-white border border-pink-300 enabled:hover:bg-pink-100 focus:ring-4 focus:ring-pink-300 :bg-pink-600 dark:text-white dark:border-pink-600 dark:enabled:hover:bg-pink-700 dark:enabled:hover:border-pink-700 dark:focus:ring-pink-700",red:"text-red-900 bg-white border border-red-300 enabled:hover:bg-red-100 focus:ring-4 focus:ring-red-300 :bg-red-600 dark:text-white dark:border-red-600 dark:enabled:hover:bg-red-700 dark:enabled:hover:border-red-700 dark:focus:ring-red-700",teal:"text-teal-900 bg-white border border-teal-300 enabled:hover:bg-teal-100 focus:ring-4 focus:ring-teal-300 :bg-teal-600 dark:text-white dark:border-teal-600 dark:enabled:hover:bg-teal-700 dark:enabled:hover:border-teal-700 dark:focus:ring-teal-700",yellow:"text-yellow-900 bg-white border border-yellow-300 enabled:hover:bg-yellow-100 focus:ring-4 focus:ring-yellow-300 :bg-yellow-600 dark:text-white dark:border-yellow-600 dark:enabled:hover:bg-yellow-700 dark:enabled:hover:border-yellow-700 dark:focus:ring-yellow-700"},disabled:"cursor-not-allowed opacity-50",isProcessing:"cursor-wait",spinnerSlot:"absolute h-full top-0 flex items-center animate-fade-in",spinnerLeftPosition:{xs:"left-2",sm:"left-3",md:"left-4",lg:"left-5",xl:"left-6"},gradient:{cyan:"text-white bg-gradient-to-r from-cyan-400 via-cyan-500 to-cyan-600 enabled:hover:bg-gradient-to-br focus:ring-4 focus:ring-cyan-300 dark:focus:ring-cyan-800",failure:"text-white bg-gradient-to-r from-red-400 via-red-500 to-red-600 enabled:hover:bg-gradient-to-br focus:ring-4 focus:ring-red-300 dark:focus:ring-red-800",info:"text-white bg-gradient-to-r from-cyan-500 via-cyan-600 to-cyan-700 enabled:hover:bg-gradient-to-br focus:ring-4 focus:ring-cyan-300 dark:focus:ring-cyan-800 ",lime:"text-gray-900 bg-gradient-to-r from-lime-200 via-lime-400 to-lime-500 enabled:hover:bg-gradient-to-br focus:ring-4 focus:ring-lime-300 dark:focus:ring-lime-800",pink:"text-white bg-gradient-to-r from-pink-400 via-pink-500 to-pink-600 enabled:hover:bg-gradient-to-br focus:ring-4 focus:ring-pink-300 dark:focus:ring-pink-800",purple:"text-white bg-gradient-to-r from-purple-500 via-purple-600 to-purple-700 enabled:hover:bg-gradient-to-br focus:ring-4 focus:ring-purple-300 dark:focus:ring-purple-800",success:"text-white bg-gradient-to-r from-green-400 via-green-500 to-green-600 enabled:hover:bg-gradient-to-br focus:ring-4 focus:ring-green-300 dark:focus:ring-green-800",teal:"text-white bg-gradient-to-r from-teal-400 via-teal-500 to-teal-600 enabled:hover:bg-gradient-to-br focus:ring-4 focus:ring-teal-300 dark:focus:ring-teal-800"},gradientDuoTone:{cyanToBlue:"text-white bg-gradient-to-r from-cyan-500 to-cyan-500 enabled:hover:bg-gradient-to-bl focus:ring-4 focus:ring-cyan-300 dark:focus:ring-cyan-800",greenToBlue:"text-white bg-gradient-to-br from-green-400 to-cyan-600 enabled:hover:bg-gradient-to-bl focus:ring-4 focus:ring-green-200 dark:focus:ring-green-800",pinkToOrange:"text-white bg-gradient-to-br from-pink-500 to-orange-400 enabled:hover:bg-gradient-to-bl focus:ring-4 focus:ring-pink-200 dark:focus:ring-pink-800",purpleToBlue:"text-white bg-gradient-to-br from-purple-600 to-cyan-500 enabled:hover:bg-gradient-to-bl focus:ring-4 focus:ring-cyan-300 dark:focus:ring-cyan-800",purpleToPink:"text-white bg-gradient-to-r from-purple-500 to-pink-500 enabled:hover:bg-gradient-to-l focus:ring-4 focus:ring-purple-200 dark:focus:ring-purple-800",redToYellow:"text-gray-900 bg-gradient-to-r from-red-200 via-red-300 to-yellow-200 enabled:hover:bg-gradient-to-bl focus:ring-4 focus:ring-red-100 dark:focus:ring-red-400",tealToLime:"text-gray-900 bg-gradient-to-r from-teal-200 to-lime-200 enabled:hover:bg-gradient-to-l enabled:hover:from-teal-200 enabled:hover:to-lime-200 enabled:hover:text-gray-900 focus:ring-4 focus:ring-lime-200 dark:focus:ring-teal-700"},inner:{base:"flex items-stretch transition-all duration-200",position:{none:"",start:"rounded-r-none",middle:"rounded-none",end:"rounded-l-none"},outline:"border border-transparent",isProcessingPadding:{xs:"pl-8",sm:"pl-10",md:"pl-12",lg:"pl-16",xl:"pl-20"}},label:"ml-2 inline-flex h-4 w-4 items-center justify-center rounded-full bg-cyan-200 text-xs font-semibold text-cyan-800",outline:{color:{gray:"border border-gray-900 dark:border-white",default:"border-0",light:""},off:"",on:"flex justify-center bg-white text-gray-900 transition-all duration-75 ease-in group-enabled:group-hover:bg-opacity-0 group-enabled:group-hover:text-inherit dark:bg-gray-900 dark:text-white w-full",pill:{off:"rounded-md",on:"rounded-full"}},pill:{off:"rounded-lg",on:"rounded-full"},size:{xs:"text-xs px-2 py-1",sm:"text-sm px-3 py-1.5",md:"text-sm px-4 py-2",lg:"text-base px-5 py-2.5",xl:"text-base px-6 py-3"}},buttonGroup:{base:"inline-flex",position:{none:"focus:ring-2",start:"rounded-r-none",middle:"rounded-none border-l-0 pl-0",end:"rounded-l-none border-l-0 pl-0"}},card:{root:{base:"flex rounded-lg border border-gray-200 bg-white shadow-md dark:border-gray-700 dark:bg-gray-800",children:"flex h-full flex-col justify-center gap-4 p-6",horizontal:{off:"flex-col",on:"flex-col md:max-w-xl md:flex-row"},href:"hover:bg-gray-100 dark:hover:bg-gray-700"},img:{base:"",horizontal:{off:"rounded-t-lg",on:"h-96 w-full rounded-t-lg object-cover md:h-auto md:w-48 md:rounded-none md:rounded-l-lg"}}},carousel:{root:{base:"relative h-full w-full",leftControl:"absolute top-0 left-0 flex h-full items-center justify-center px-4 focus:outline-none",rightControl:"absolute top-0 right-0 flex h-full items-center justify-center px-4 focus:outline-none"},indicators:{active:{off:"bg-white/50 hover:bg-white dark:bg-gray-800/50 dark:hover:bg-gray-800",on:"bg-white dark:bg-gray-800"},base:"h-3 w-3 rounded-full",wrapper:"absolute bottom-5 left-1/2 flex -translate-x-1/2 space-x-3"},item:{base:"absolute top-1/2 left-1/2 block w-full -translate-x-1/2 -translate-y-1/2",wrapper:"w-full flex-shrink-0 transform cursor-grab snap-center"},control:{base:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-white/30 group-hover:bg-white/50 group-focus:outline-none group-focus:ring-4 group-focus:ring-white dark:bg-gray-800/30 dark:group-hover:bg-gray-800/60 dark:group-focus:ring-gray-800/70 sm:h-10 sm:w-10",icon:"h-5 w-5 text-white dark:text-gray-800 sm:h-6 sm:w-6"},scrollContainer:{base:"flex h-full snap-mandatory overflow-y-hidden overflow-x-scroll scroll-smooth rounded-lg",snap:"snap-x"}},checkbox:{root:{base:"h-4 w-4 rounded border border-gray-300 bg-gray-100 focus:ring-2 focus:ring-cyan-500 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 dark:focus:ring-cyan-600 text-cyan-600"}},darkThemeToggle:{root:{base:"rounded-lg p-2.5 text-sm text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-700",icon:"h-5 w-5"}},dropdown:{arrowIcon:"ml-2 h-4 w-4",content:"py-1 focus:outline-none",floating:{animation:"transition-opacity",arrow:{base:"absolute z-10 h-2 w-2 rotate-45",style:{dark:"bg-gray-900 dark:bg-gray-700",light:"bg-white",auto:"bg-white dark:bg-gray-700"},placement:"-4px"},base:"z-10 w-fit rounded divide-y divide-gray-100 shadow focus:outline-none",content:"py-1 text-sm text-gray-700 dark:text-gray-200",divider:"my-1 h-px bg-gray-100 dark:bg-gray-600",header:"block py-2 px-4 text-sm text-gray-700 dark:text-gray-200",hidden:"invisible opacity-0",item:{container:"",base:"flex items-center justify-start py-2 px-4 text-sm text-gray-700 cursor-pointer w-full hover:bg-gray-100 focus:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-600 focus:outline-none dark:hover:text-white dark:focus:bg-gray-600 dark:focus:text-white",icon:"mr-2 h-4 w-4"},style:{dark:"bg-gray-900 text-white dark:bg-gray-700",light:"border border-gray-200 bg-white text-gray-900",auto:"border border-gray-200 bg-white text-gray-900 dark:border-none dark:bg-gray-700 dark:text-white"},target:"w-fit"},inlineWrapper:"flex items-center"},fileInput:{root:{base:"flex"},field:{base:"relative w-full",input:{base:"rounded-lg overflow-hidden block w-full border disabled:cursor-not-allowed disabled:opacity-50",sizes:{sm:"sm:text-xs",md:"text-sm",lg:"sm:text-md"},colors:{gray:"bg-gray-50 border-gray-300 text-gray-900 focus:border-cyan-500 focus:ring-cyan-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",info:"border-cyan-500 bg-cyan-50 text-cyan-900 placeholder-cyan-700 focus:border-cyan-500 focus:ring-cyan-500 dark:border-cyan-400 dark:bg-cyan-100 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"}}}},footer:{root:{base:"w-full rounded-lg bg-white shadow dark:bg-gray-800 md:flex md:items-center md:justify-between",container:"w-full p-6",bgDark:"bg-gray-800"},groupLink:{base:"flex flex-wrap text-sm text-gray-500 dark:text-white",link:{base:"last:mr-0 md:mr-6",href:"hover:underline"},col:"flex-col space-y-4"},icon:{base:"text-gray-500 dark:hover:text-white",size:"h-5 w-5"},title:{base:"mb-6 text-sm font-semibold uppercase text-gray-500 dark:text-white"},divider:{base:"w-full my-6 border-gray-200 sm:mx-auto dark:border-gray-700 lg:my-8"},copyright:{base:"text-sm text-gray-500 dark:text-gray-400 sm:text-center",href:"ml-1 hover:underline",span:"ml-1"},brand:{base:"mb-4 flex items-center sm:mb-0",img:"mr-3 h-8",span:"self-center whitespace-nowrap text-2xl font-semibold text-gray-800 dark:text-white"}},helperText:{root:{base:"mt-2 text-sm",colors:{gray:"text-gray-500 dark:text-gray-400",info:"text-cyan-700 dark:text-cyan-800",success:"text-green-600 dark:text-green-500",failure:"text-red-600 dark:text-red-500",warning:"text-yellow-500 dark:text-yellow-600"}}},label:{root:{base:"text-sm font-medium",disabled:"opacity-50",colors:{default:"text-gray-900 dark:text-gray-300",info:"text-cyan-500 dark:text-cyan-600",failure:"text-red-700 dark:text-red-500",warning:"text-yellow-500 dark:text-yellow-600",success:"text-green-700 dark:text-green-500"}}},listGroup:{root:{base:"list-none rounded-lg border border-gray-200 bg-white text-sm font-medium text-gray-900 dark:border-gray-600 dark:bg-gray-700 dark:text-white text-left"},item:{base:"[&>*]:first:rounded-t-lg [&>*]:last:rounded-b-lg [&>*]:last:border-b-0",link:{base:"flex w-full border-b border-gray-200 py-2 px-4 dark:border-gray-600",active:{off:"hover:bg-gray-100 hover:text-cyan-700 focus:text-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-700 dark:border-gray-600 dark:hover:bg-gray-600 dark:hover:text-white dark:focus:text-white dark:focus:ring-gray-500",on:"bg-cyan-700 text-white dark:bg-gray-800"},href:{off:"",on:""},icon:"mr-2 h-4 w-4 fill-current"}}},modal:{root:{base:"fixed top-0 right-0 left-0 z-50 h-modal h-screen overflow-y-auto overflow-x-hidden md:inset-0 md:h-full",show:{on:"flex bg-gray-900 bg-opacity-50 dark:bg-opacity-80",off:"hidden"},sizes:{sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl","4xl":"max-w-4xl","5xl":"max-w-5xl","6xl":"max-w-6xl","7xl":"max-w-7xl"},positions:{"top-left":"items-start justify-start","top-center":"items-start justify-center","top-right":"items-start justify-end","center-left":"items-center justify-start",center:"items-center justify-center","center-right":"items-center justify-end","bottom-right":"items-end justify-end","bottom-center":"items-end justify-center","bottom-left":"items-end justify-start"}},content:{base:"relative h-full w-full p-4 md:h-auto",inner:"relative rounded-lg bg-white shadow dark:bg-gray-700 flex flex-col max-h-[90vh]"},body:{base:"p-6 flex-1 overflow-auto",popup:"pt-0"},header:{base:"flex items-start justify-between rounded-t dark:border-gray-600 border-b p-5",popup:"p-2 border-b-0",title:"text-xl font-medium text-gray-900 dark:text-white",close:{base:"ml-auto inline-flex items-center rounded-lg bg-transparent p-1.5 text-sm text-gray-400 hover:bg-gray-200 hover:text-gray-900 dark:hover:bg-gray-600 dark:hover:text-white",icon:"h-5 w-5"}},footer:{base:"flex items-center space-x-2 rounded-b border-gray-200 p-6 dark:border-gray-600",popup:"border-t"}},navbar:{root:{base:"bg-white px-2 py-2.5 dark:border-gray-700 dark:bg-gray-800 sm:px-4",rounded:{on:"rounded",off:""},bordered:{on:"border",off:""},inner:{base:"mx-auto flex flex-wrap items-center justify-between",fluid:{on:"",off:"container"}}},brand:{base:"flex items-center"},collapse:{base:"w-full md:block md:w-auto",list:"mt-4 flex flex-col md:mt-0 md:flex-row md:space-x-8 md:text-sm md:font-medium",hidden:{on:"hidden",off:""}},link:{base:"block py-2 pr-4 pl-3 md:p-0",active:{on:"bg-cyan-700 text-white dark:text-white md:bg-transparent md:text-cyan-700",off:"border-b border-gray-100  text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white md:border-0 md:hover:bg-transparent md:hover:text-cyan-700 md:dark:hover:bg-transparent md:dark:hover:text-white"},disabled:{on:"text-gray-400 hover:cursor-not-allowed dark:text-gray-600",off:""}},toggle:{base:"inline-flex items-center rounded-lg p-2 text-sm text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600 md:hidden",icon:"h-6 w-6 shrink-0"}},pagination:{base:"",layout:{table:{base:"text-sm text-gray-700 dark:text-gray-400",span:"font-semibold text-gray-900 dark:text-white"}},pages:{base:"xs:mt-0 mt-2 inline-flex items-center -space-x-px",showIcon:"inline-flex",previous:{base:"ml-0 rounded-l-lg border border-gray-300 bg-white py-2 px-3 leading-tight text-gray-500 enabled:hover:bg-gray-100 enabled:hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 enabled:dark:hover:bg-gray-700 enabled:dark:hover:text-white",icon:"h-5 w-5"},next:{base:"rounded-r-lg border border-gray-300 bg-white py-2 px-3 leading-tight text-gray-500 enabled:hover:bg-gray-100 enabled:hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 enabled:dark:hover:bg-gray-700 enabled:dark:hover:text-white",icon:"h-5 w-5"},selector:{base:"w-12 border border-gray-300 bg-white py-2 leading-tight text-gray-500 enabled:hover:bg-gray-100 enabled:hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 enabled:dark:hover:bg-gray-700 enabled:dark:hover:text-white",active:"bg-cyan-50 text-cyan-600 hover:bg-cyan-100 hover:text-cyan-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white",disabled:"opacity-50 cursor-normal"}}},progress:{base:"w-full overflow-hidden rounded-full bg-gray-200 dark:bg-gray-700",label:"mb-1 flex justify-between font-medium dark:text-white",bar:"rounded-full text-center font-medium leading-none text-cyan-300 dark:text-cyan-100 space-x-2",color:{dark:"bg-gray-600 dark:bg-gray-300",blue:"bg-cyan-600",red:"bg-red-600 dark:bg-red-500",green:"bg-green-600 dark:bg-green-500",yellow:"bg-yellow-400",indigo:"bg-indigo-600 dark:bg-indigo-500",purple:"bg-purple-600 dark:bg-purple-500"},size:{sm:"h-1.5",md:"h-2.5",lg:"h-4",xl:"h-6"}},radio:{root:{base:"h-4 w-4 border border-gray-300 focus:ring-2 focus:ring-cyan-500 dark:border-gray-600 dark:bg-gray-700 dark:focus:bg-cyan-600 dark:focus:ring-cyan-600 text-cyan-600"}},rangeSlider:{root:{base:"flex"},field:{base:"relative w-full",input:{base:"w-full bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700",sizes:{sm:"h-1 range-sm",md:"h-2",lg:"h-3 range-lg"}}}},rating:{root:{base:"flex items-center"},advanced:{base:"flex items-center",label:"text-sm font-medium text-cyan-600 dark:text-cyan-500",progress:{base:"mx-4 h-5 w-2/4 rounded bg-gray-200 dark:bg-gray-700",fill:"h-5 rounded bg-yellow-400",label:"text-sm font-medium text-cyan-600 dark:text-cyan-500"}},star:{empty:"text-gray-300 dark:text-gray-500",filled:"text-yellow-400",sizes:{sm:"w-5 h-5",md:"w-7 h-7",lg:"w-10 h-10"}}},select:{base:"flex",addon:"inline-flex items-center rounded-l-md border border-r-0 border-gray-300 bg-gray-200 px-3 text-sm text-gray-900 dark:border-gray-600 dark:bg-gray-600 dark:text-gray-400",field:{base:"relative w-full",icon:{base:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",svg:"h-5 w-5 text-gray-500 dark:text-gray-400"},select:{base:"block w-full border disabled:cursor-not-allowed disabled:opacity-50",withIcon:{on:"pl-10",off:""},withAddon:{on:"rounded-r-lg",off:"rounded-lg"},withShadow:{on:"shadow-sm dark:shadow-sm-light",off:""},sizes:{sm:"p-2 sm:text-xs",md:"p-2.5 text-sm",lg:"sm:text-md p-4"},colors:{gray:"bg-gray-50 border-gray-300 text-gray-900 focus:border-cyan-500 focus:ring-cyan-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",info:"border-cyan-500 bg-cyan-50 text-cyan-900 placeholder-cyan-700 focus:border-cyan-500 focus:ring-cyan-500 dark:border-cyan-400 dark:bg-cyan-100 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"}}}},textInput:{base:"flex",addon:"inline-flex items-center rounded-l-md border border-r-0 border-gray-300 bg-gray-200 px-3 text-sm text-gray-900 dark:border-gray-600 dark:bg-gray-600 dark:text-gray-400",field:{base:"relative w-full",icon:{base:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",svg:"h-5 w-5 text-gray-500 dark:text-gray-400"},rightIcon:{base:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",svg:"h-5 w-5 text-gray-500 dark:text-gray-400"},input:{base:"block w-full border disabled:cursor-not-allowed disabled:opacity-50",sizes:{sm:"p-2 sm:text-xs",md:"p-2.5 text-sm",lg:"sm:text-md p-4"},colors:{gray:"bg-gray-50 border-gray-300 text-gray-900 focus:border-cyan-500 focus:ring-cyan-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",info:"border-cyan-500 bg-cyan-50 text-cyan-900 placeholder-cyan-700 focus:border-cyan-500 focus:ring-cyan-500 dark:border-cyan-400 dark:bg-cyan-100 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"},withRightIcon:{on:"pr-10",off:""},withIcon:{on:"pl-10",off:""},withAddon:{on:"rounded-r-lg",off:"rounded-lg"},withShadow:{on:"shadow-sm dark:shadow-sm-light",off:""}}}},textarea:{base:"block w-full rounded-lg border disabled:cursor-not-allowed disabled:opacity-50",colors:{gray:"bg-gray-50 border-gray-300 text-gray-900 focus:border-cyan-500 focus:ring-cyan-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",info:"border-cyan-500 bg-cyan-50 text-cyan-900 placeholder-cyan-700 focus:border-cyan-500 focus:ring-cyan-500 dark:border-cyan-400 dark:bg-cyan-100 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"},withShadow:{on:"shadow-sm dark:shadow-sm-light",off:""}},toggleSwitch:{root:{base:"group relative flex items-center rounded-lg focus:outline-none",active:{on:"cursor-pointer",off:"cursor-not-allowed opacity-50"},label:"ml-3 text-sm font-medium text-gray-900 dark:text-gray-300"},toggle:{base:"toggle-bg h-6 w-11 rounded-full border group-focus:ring-4 group-focus:ring-cyan-500/25",checked:{on:"after:translate-x-full after:border-white",off:"border-gray-200 bg-gray-200 dark:border-gray-600 dark:bg-gray-700",color:{blue:" bg-cyan-700 border-cyan-700",dark:"bg-dark-700 border-dark-900",failure:"bg-red-700 border-red-900",gray:"bg-gray-500 border-gray-600",green:"bg-green-600 border-green-700",light:"bg-light-700 border-light-900",red:"bg-red-700 border-red-900",purple:"bg-purple-700 border-purple-900",success:"bg-green-500 border-green-500",yellow:"bg-yellow-400 border-yellow-400",warning:"bg-yellow-600 border-yellow-600",cyan:"bg-cyan-500 border-cyan-500",lime:"bg-lime-400 border-lime-400",indigo:"bg-indigo-400 border-indigo-400",teal:"bg-gradient-to-r from-teal-400 via-teal-500 to-teal-600 hover:bg-gradient-to-br focus:ring-4",info:"bg-cyan-600 border-cyan-600",pink:"bg-pink-600 border-pink-600"}}}},sidebar:{root:{base:"h-full",collapsed:{on:"w-16",off:"w-64"},inner:"h-full overflow-y-auto overflow-x-hidden rounded bg-gray-50 py-4 px-3 dark:bg-gray-800"},collapse:{button:"group flex w-full items-center rounded-lg p-2 text-base font-normal text-gray-900 transition duration-75 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700",icon:{base:"h-6 w-6 text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white",open:{off:"",on:"text-gray-900"}},label:{base:"ml-3 flex-1 whitespace-nowrap text-left",icon:"h-6 w-6"},list:"space-y-2 py-2"},cta:{base:"mt-6 rounded-lg p-4 bg-gray-100 dark:bg-gray-700",color:{blue:"bg-cyan-50 dark:bg-cyan-900",dark:"bg-dark-50 dark:bg-dark-900",failure:"bg-red-50 dark:bg-red-900",gray:"bg-alternative-50 dark:bg-alternative-900",green:"bg-green-50 dark:bg-green-900",light:"bg-light-50 dark:bg-light-900",red:"bg-red-50 dark:bg-red-900",purple:"bg-purple-50 dark:bg-purple-900",success:"bg-green-50 dark:bg-green-900",yellow:"bg-yellow-50 dark:bg-yellow-900",warning:"bg-yellow-50 dark:bg-yellow-900"}},item:{base:"flex items-center justify-center rounded-lg p-2 text-base font-normal text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700",active:"bg-gray-100 dark:bg-gray-700",collapsed:{insideCollapse:"group w-full pl-8 transition duration-75",noIcon:"font-bold"},content:{base:"px-3 flex-1 whitespace-nowrap"},icon:{base:"h-6 w-6 flex-shrink-0 text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white",active:"text-gray-700 dark:text-gray-100"},label:"",listItem:""},items:"",itemGroup:"mt-4 space-y-2 border-t border-gray-200 pt-4 first:mt-0 first:border-t-0 first:pt-0 dark:border-gray-700",logo:{base:"mb-5 flex items-center pl-2.5",collapsed:{on:"hidden",off:"self-center whitespace-nowrap text-xl font-semibold dark:text-white"},img:"mr-3 h-6 sm:h-7"}},spinner:{base:"inline animate-spin text-gray-200",color:{failure:"fill-red-600",gray:"fill-gray-600",info:"fill-cyan-600",pink:"fill-pink-600",purple:"fill-purple-600",success:"fill-green-500",warning:"fill-yellow-400"},light:{off:{base:"dark:text-gray-600",color:{failure:"",gray:"dark:fill-gray-300",info:"",pink:"",purple:"",success:"",warning:""}},on:{base:"",color:{failure:"",gray:"",info:"",pink:"",purple:"",success:"",warning:""}}},size:{xs:"w-3 h-3",sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-10 h-10"}},tab:{base:"flex flex-col gap-2",tablist:{base:"flex text-center",styles:{default:"flex-wrap border-b border-gray-200 dark:border-gray-700",underline:"flex-wrap -mb-px border-b border-gray-200 dark:border-gray-700",pills:"flex-wrap font-medium text-sm text-gray-500 dark:text-gray-400 space-x-2",fullWidth:"w-full text-sm font-medium divide-x divide-gray-200 shadow grid grid-flow-col dark:divide-gray-700 dark:text-gray-400 rounded-none"},tabitem:{base:"flex items-center justify-center p-4 rounded-t-lg text-sm font-medium first:ml-0 disabled:cursor-not-allowed disabled:text-gray-400 disabled:dark:text-gray-500 focus:ring-4 focus:ring-cyan-300 focus:outline-none",styles:{default:{base:"rounded-t-lg",active:{on:"bg-gray-100 text-cyan-600 dark:bg-gray-800 dark:text-cyan-500",off:"text-gray-500 hover:bg-gray-50 hover:text-gray-600 dark:text-gray-400 dark:hover:bg-gray-800  dark:hover:text-gray-300"}},underline:{base:"rounded-t-lg",active:{on:"text-cyan-600 rounded-t-lg border-b-2 border-cyan-600 active dark:text-cyan-500 dark:border-cyan-500",off:"border-b-2 border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-600 dark:text-gray-400 dark:hover:text-gray-300"}},pills:{base:"",active:{on:"rounded-lg bg-cyan-600 text-white",off:"rounded-lg hover:text-gray-900 hover:bg-gray-100 dark:hover:bg-gray-800 dark:hover:text-white"}},fullWidth:{base:"ml-0 first:ml-0 w-full rounded-none flex",active:{on:"p-4 text-gray-900 bg-gray-100 active dark:bg-gray-700 dark:text-white rounded-none",off:"bg-white hover:text-gray-700 hover:bg-gray-50 dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700 rounded-none"}}},icon:"mr-2 h-5 w-5"}},tabpanel:"py-3"},table:{root:{base:"w-full text-left text-sm text-gray-500 dark:text-gray-400",shadow:"absolute bg-white dark:bg-black w-full h-full top-0 left-0 rounded-lg drop-shadow-md -z-10",wrapper:"relative"},body:{base:"group/body",cell:{base:"group-first/body:group-first/row:first:rounded-tl-lg group-first/body:group-first/row:last:rounded-tr-lg group-last/body:group-last/row:first:rounded-bl-lg group-last/body:group-last/row:last:rounded-br-lg px-6 py-4"}},head:{base:"group/head text-xs uppercase text-gray-700 dark:text-gray-400",cell:{base:"group-first/head:first:rounded-tl-lg group-first/head:last:rounded-tr-lg bg-gray-50 dark:bg-gray-700 px-6 py-3"}},row:{base:"group/row",hovered:"hover:bg-gray-50 dark:hover:bg-gray-600",striped:"odd:bg-white even:bg-gray-50 odd:dark:bg-gray-800 even:dark:bg-gray-700"}},timeline:{root:{direction:{horizontal:"items-base sm:flex",vertical:"relative border-l border-gray-200 dark:border-gray-700"}},item:{root:{horizontal:"relative mb-6 sm:mb-0",vertical:"mb-10 ml-6"},content:{root:{base:"mt-3 sm:pr-8"},body:"mb-4 text-base font-normal text-gray-500 dark:text-gray-400",time:"mb-1 text-sm font-normal leading-none text-gray-400 dark:text-gray-500",title:"text-lg font-semibold text-gray-900 dark:text-white"},point:{horizontal:"flex items-center",line:"hidden h-0.5 w-full bg-gray-200 dark:bg-gray-700 sm:flex",marker:{base:{horizontal:"absolute -left-1.5 h-3 w-3 rounded-full border border-white bg-gray-200 dark:border-gray-900 dark:bg-gray-700",vertical:"absolute -left-1.5 mt-1.5 h-3 w-3 rounded-full border border-white bg-gray-200 dark:border-gray-900 dark:bg-gray-700"},icon:{base:"h-3 w-3 text-cyan-600 dark:text-cyan-300",wrapper:"absolute -left-3 flex h-6 w-6 items-center justify-center rounded-full bg-cyan-200 ring-8 ring-white dark:bg-cyan-900 dark:ring-gray-900"}},vertical:""}}},toast:{root:{base:"flex w-full max-w-xs items-center rounded-lg bg-white p-4 text-gray-500 shadow dark:bg-gray-800 dark:text-gray-400",closed:"opacity-0 ease-out"},toggle:{base:"-mx-1.5 -my-1.5 ml-auto inline-flex h-8 w-8 rounded-lg bg-white p-1.5 text-gray-400 hover:bg-gray-100 hover:text-gray-900 focus:ring-2 focus:ring-gray-300 dark:bg-gray-800 dark:text-gray-500 dark:hover:bg-gray-700 dark:hover:text-white",icon:"h-5 w-5 shrink-0"}},tooltip:{target:"w-fit",animation:"transition-opacity",arrow:{base:"absolute z-10 h-2 w-2 rotate-45",style:{dark:"bg-gray-900 dark:bg-gray-700",light:"bg-white",auto:"bg-white dark:bg-gray-700"},placement:"-4px"},base:"absolute inline-block z-10 rounded-lg py-2 px-3 text-sm font-medium shadow-sm",hidden:"invisible opacity-0",style:{dark:"bg-gray-900 text-white dark:bg-gray-700",light:"border border-gray-200 bg-white text-gray-900",auto:"border border-gray-200 bg-white text-gray-900 dark:border-none dark:bg-gray-700 dark:text-white"},content:"relative z-20"}},Jd=(0,t.createContext)({theme:Yd}),Xd=()=>(0,t.useContext)(Jd);function Zd(){return"undefined"!==typeof window}function eh(e){return rh(e)?(e.nodeName||"").toLowerCase():"#document"}function th(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function nh(e){var t;return null==(t=(rh(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function rh(e){return!!Zd()&&(e instanceof Node||e instanceof th(e).Node)}function ih(e){return!!Zd()&&(e instanceof Element||e instanceof th(e).Element)}function oh(e){return!!Zd()&&(e instanceof HTMLElement||e instanceof th(e).HTMLElement)}function ah(e){return!(!Zd()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof th(e).ShadowRoot)}function sh(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=fh(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function lh(e){return["table","td","th"].includes(eh(e))}function ch(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(Sj){return!1}}))}function uh(e){const t=dh(),n=ih(e)?fh(e):e;return["transform","translate","scale","rotate","perspective"].some((e=>!!n[e]&&"none"!==n[e]))||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","translate","scale","rotate","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function dh(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function hh(e){return["html","body","#document"].includes(eh(e))}function fh(e){return th(e).getComputedStyle(e)}function ph(e){return ih(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function gh(e){if("html"===eh(e))return e;const t=e.assignedSlot||e.parentNode||ah(e)&&e.host||nh(e);return ah(t)?t.host:t}function mh(e){const t=gh(e);return hh(t)?e.ownerDocument?e.ownerDocument.body:e.body:oh(t)&&sh(t)?t:mh(t)}function vh(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=mh(e),o=i===(null==(r=e.ownerDocument)?void 0:r.body),a=th(i);if(o){const e=yh(a);return t.concat(a,a.visualViewport||[],sh(i)?i:[],e&&n?vh(e):[])}return t.concat(i,vh(i,[],n))}function yh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const bh=["start","end"],wh=["top","right","bottom","left"].reduce(((e,t)=>e.concat(t,t+"-"+bh[0],t+"-"+bh[1])),[]),kh=Math.min,xh=Math.max,_h=Math.round,Ih=Math.floor,Sh=e=>({x:e,y:e}),Eh={left:"right",right:"left",bottom:"top",top:"bottom"},Ch={start:"end",end:"start"};function Th(e,t,n){return xh(e,kh(t,n))}function Nh(e,t){return"function"===typeof e?e(t):e}function Ah(e){return e.split("-")[0]}function Ph(e){return e.split("-")[1]}function Rh(e){return"x"===e?"y":"x"}function Oh(e){return"y"===e?"height":"width"}function Dh(e){return["top","bottom"].includes(Ah(e))?"y":"x"}function Lh(e){return Rh(Dh(e))}function Mh(e,t,n){void 0===n&&(n=!1);const r=Ph(e),i=Lh(e),o=Oh(i);let a="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=Fh(a)),[a,Fh(a)]}function jh(e){return e.replace(/start|end/g,(e=>Ch[e]))}function Fh(e){return e.replace(/left|right|bottom|top/g,(e=>Eh[e]))}function Uh(e){return"number"!==typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function Vh(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function zh(e,t,n){let{reference:r,floating:i}=e;const o=Dh(t),a=Lh(t),s=Oh(a),l=Ah(t),c="y"===o,u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[s]/2-i[s]/2;let f;switch(l){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-i.width,y:d};break;default:f={x:r.x,y:r.y}}switch(Ph(t)){case"start":f[a]-=h*(n&&c?-1:1);break;case"end":f[a]+=h*(n&&c?-1:1)}return f}async function Bh(e,t){var n;void 0===t&&(t={});const{x:r,y:i,platform:o,rects:a,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=Nh(t,e),p=Uh(f),g=s[h?"floating"===d?"reference":"floating":d],m=Vh(await o.getClippingRect({element:null==(n=await(null==o.isElement?void 0:o.isElement(g)))||n?g:g.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),v="floating"===d?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,y=await(null==o.getOffsetParent?void 0:o.getOffsetParent(s.floating)),b=await(null==o.isElement?void 0:o.isElement(y))&&await(null==o.getScale?void 0:o.getScale(y))||{x:1,y:1},w=Vh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:v,offsetParent:y,strategy:l}):v);return{top:(m.top-w.top+p.top)/b.y,bottom:(w.bottom-m.bottom+p.bottom)/b.y,left:(m.left-w.left+p.left)/b.x,right:(w.right-m.right+p.right)/b.x}}function qh(e){const t=fh(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=oh(e),o=i?e.offsetWidth:n,a=i?e.offsetHeight:r,s=_h(n)!==o||_h(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}function Gh(e){return ih(e)?e:e.contextElement}function $h(e){const t=Gh(e);if(!oh(t))return Sh(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=qh(t);let a=(o?_h(n.width):n.width)/r,s=(o?_h(n.height):n.height)/i;return a&&Number.isFinite(a)||(a=1),s&&Number.isFinite(s)||(s=1),{x:a,y:s}}const Kh=Sh(0);function Hh(e){const t=th(e);return dh()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Kh}function Wh(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),o=Gh(e);let a=Sh(1);t&&(r?ih(r)&&(a=$h(r)):a=$h(e));const s=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==th(e))&&t}(o,n,r)?Hh(o):Sh(0);let l=(i.left+s.x)/a.x,c=(i.top+s.y)/a.y,u=i.width/a.x,d=i.height/a.y;if(o){const e=th(o),t=r&&ih(r)?th(r):r;let n=e,i=yh(n);for(;i&&r&&t!==n;){const e=$h(i),t=i.getBoundingClientRect(),r=fh(i),o=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,a=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=o,c+=a,n=th(i),i=yh(n)}}return Vh({width:u,height:d,x:l,y:c})}function Qh(e,t){const n=ph(e).scrollLeft;return t?t.left+n:Wh(nh(e)).left+n}function Yh(e,t,n){void 0===n&&(n=!1);const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:Qh(e,r)),y:r.top+t.scrollTop}}function Jh(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=th(e),r=nh(e),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const e=dh();(!e||e&&"fixed"===t)&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s,y:l}}(e,n);else if("document"===t)r=function(e){const t=nh(e),n=ph(e),r=e.ownerDocument.body,i=xh(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=xh(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Qh(e);const s=-n.scrollTop;return"rtl"===fh(r).direction&&(a+=xh(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}(nh(e));else if(ih(t))r=function(e,t){const n=Wh(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=oh(e)?$h(e):Sh(1);return{width:e.clientWidth*o.x,height:e.clientHeight*o.y,x:i*o.x,y:r*o.y}}(t,n);else{const n=Hh(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return Vh(r)}function Xh(e,t){const n=gh(e);return!(n===t||!ih(n)||hh(n))&&("fixed"===fh(n).position||Xh(n,t))}function Zh(e,t,n){const r=oh(t),i=nh(t),o="fixed"===n,a=Wh(e,!0,o,t);let s={scrollLeft:0,scrollTop:0};const l=Sh(0);if(r||!r&&!o)if(("body"!==eh(t)||sh(i))&&(s=ph(t)),r){const e=Wh(t,!0,o,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&(l.x=Qh(i));const c=!i||r||o?Sh(0):Yh(i,s);return{x:a.left+s.scrollLeft-l.x-c.x,y:a.top+s.scrollTop-l.y-c.y,width:a.width,height:a.height}}function ef(e){return"static"===fh(e).position}function tf(e,t){if(!oh(e)||"fixed"===fh(e).position)return null;if(t)return t(e);let n=e.offsetParent;return nh(e)===n&&(n=n.ownerDocument.body),n}function nf(e,t){const n=th(e);if(ch(e))return n;if(!oh(e)){let t=gh(e);for(;t&&!hh(t);){if(ih(t)&&!ef(t))return t;t=gh(t)}return n}let r=tf(e,t);for(;r&&lh(r)&&ef(r);)r=tf(r,t);return r&&hh(r)&&ef(r)&&!uh(r)?n:r||function(e){let t=gh(e);for(;oh(t)&&!hh(t);){if(uh(t))return t;if(ch(t))return null;t=gh(t)}return null}(e)||n}const rf={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o="fixed"===i,a=nh(r),s=!!t&&ch(t.floating);if(r===a||s&&o)return n;let l={scrollLeft:0,scrollTop:0},c=Sh(1);const u=Sh(0),d=oh(r);if((d||!d&&!o)&&(("body"!==eh(r)||sh(a))&&(l=ph(r)),oh(r))){const e=Wh(r);c=$h(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}const h=!a||d||o?Sh(0):Yh(a,l,!0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}},getDocumentElement:nh,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[..."clippingAncestors"===n?ch(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=vh(e,[],!1).filter((e=>ih(e)&&"body"!==eh(e))),i=null;const o="fixed"===fh(e).position;let a=o?gh(e):e;for(;ih(a)&&!hh(a);){const t=fh(a),n=uh(a);n||"fixed"!==t.position||(i=null),(o?!n&&!i:!n&&"static"===t.position&&i&&["absolute","fixed"].includes(i.position)||sh(a)&&!n&&Xh(e,a))?r=r.filter((e=>e!==a)):i=t,a=gh(a)}return t.set(e,r),r}(t,this._c):[].concat(n),r],a=o[0],s=o.reduce(((e,n)=>{const r=Jh(t,n,i);return e.top=xh(r.top,e.top),e.right=kh(r.right,e.right),e.bottom=kh(r.bottom,e.bottom),e.left=xh(r.left,e.left),e}),Jh(t,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:nf,getElementRects:async function(e){const t=this.getOffsetParent||nf,n=this.getDimensions,r=await n(e.floating);return{reference:Zh(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=qh(e);return{width:t,height:n}},getScale:$h,isElement:ih,isRTL:function(e){return"rtl"===fh(e).direction}};function of(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function af(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a="function"===typeof ResizeObserver,layoutShift:s="function"===typeof IntersectionObserver,animationFrame:l=!1}=r,c=Gh(e),u=i||o?[...c?vh(c):[],...vh(t)]:[];u.forEach((e=>{i&&e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)}));const d=c&&s?function(e,t){let n,r=null;const i=nh(e);function o(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function a(s,l){void 0===s&&(s=!1),void 0===l&&(l=1),o();const c=e.getBoundingClientRect(),{left:u,top:d,width:h,height:f}=c;if(s||t(),!h||!f)return;const p={rootMargin:-Ih(d)+"px "+-Ih(i.clientWidth-(u+h))+"px "+-Ih(i.clientHeight-(d+f))+"px "+-Ih(u)+"px",threshold:xh(0,kh(1,l))||1};let g=!0;function m(t){const r=t[0].intersectionRatio;if(r!==l){if(!g)return a();r?a(!1,r):n=setTimeout((()=>{a(!1,1e-7)}),1e3)}1!==r||of(c,e.getBoundingClientRect())||a(),g=!1}try{r=new IntersectionObserver(m,{...p,root:i.ownerDocument})}catch(Sj){r=new IntersectionObserver(m,p)}r.observe(e)}(!0),o}(c,n):null;let h,f=-1,p=null;a&&(p=new ResizeObserver((e=>{let[r]=e;r&&r.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame((()=>{var e;null==(e=p)||e.observe(t)}))),n()})),c&&!l&&p.observe(c),p.observe(t));let g=l?Wh(e):null;return l&&function t(){const r=Wh(e);g&&!of(g,r)&&n();g=r,h=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach((e=>{i&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)})),null==d||d(),null==(e=p)||e.disconnect(),p=null,l&&cancelAnimationFrame(h)}}const sf=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:a,middlewareData:s}=t,l=await async function(e,t){const{placement:n,platform:r,elements:i}=e,o=await(null==r.isRTL?void 0:r.isRTL(i.floating)),a=Ah(n),s=Ph(n),l="y"===Dh(n),c=["left","top"].includes(a)?-1:1,u=o&&l?-1:1,d=Nh(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:p}="number"===typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&"number"===typeof p&&(f="end"===s?-1*p:p),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}(t,e);return a===(null==(n=s.offset)?void 0:n.placement)&&null!=(r=s.arrow)&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}},lf=function(e){return void 0===e&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,r,i;const{rects:o,middlewareData:a,placement:s,platform:l,elements:c}=t,{crossAxis:u=!1,alignment:d,allowedPlacements:h=wh,autoAlignment:f=!0,...p}=Nh(e,t),g=void 0!==d||h===wh?function(e,t,n){return(e?[...n.filter((t=>Ph(t)===e)),...n.filter((t=>Ph(t)!==e))]:n.filter((e=>Ah(e)===e))).filter((n=>!e||Ph(n)===e||!!t&&jh(n)!==n))}(d||null,f,h):h,m=await Bh(t,p),v=(null==(n=a.autoPlacement)?void 0:n.index)||0,y=g[v];if(null==y)return{};const b=Mh(y,o,await(null==l.isRTL?void 0:l.isRTL(c.floating)));if(s!==y)return{reset:{placement:g[0]}};const w=[m[Ah(y)],m[b[0]],m[b[1]]],k=[...(null==(r=a.autoPlacement)?void 0:r.overflows)||[],{placement:y,overflows:w}],x=g[v+1];if(x)return{data:{index:v+1,overflows:k},reset:{placement:x}};const _=k.map((e=>{const t=Ph(e.placement);return[e.placement,t&&u?e.overflows.slice(0,2).reduce(((e,t)=>e+t),0):e.overflows[0],e.overflows]})).sort(((e,t)=>e[1]-t[1])),I=_.filter((e=>e[2].slice(0,Ph(e[0])?2:3).every((e=>e<=0)))),S=(null==(i=I[0])?void 0:i[0])||_[0][0];return S!==s?{data:{index:v+1,overflows:k},reset:{placement:S}}:{}}}},cf=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=Nh(e,t),c={x:n,y:r},u=await Bh(t,l),d=Dh(Ah(i)),h=Rh(d);let f=c[h],p=c[d];if(o){const e="y"===h?"bottom":"right";f=Th(f+u["y"===h?"top":"left"],f,f-u[e])}if(a){const e="y"===d?"bottom":"right";p=Th(p+u["y"===d?"top":"left"],p,p-u[e])}const g=s.fn({...t,[h]:f,[d]:p});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:o,[d]:a}}}}}},uf=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...m}=Nh(e,t);if(null!=(n=o.arrow)&&n.alignmentOffset)return{};const v=Ah(i),y=Dh(s),b=Ah(s)===s,w=await(null==l.isRTL?void 0:l.isRTL(c.floating)),k=h||(b||!g?[Fh(s)]:function(e){const t=Fh(e);return[jh(e),t,jh(t)]}(s)),x="none"!==p;!h&&x&&k.push(...function(e,t,n,r){const i=Ph(e);let o=function(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:a;default:return[]}}(Ah(e),"start"===n,r);return i&&(o=o.map((e=>e+"-"+i)),t&&(o=o.concat(o.map(jh)))),o}(s,g,p,w));const _=[s,...k],I=await Bh(t,m),S=[];let E=(null==(r=o.flip)?void 0:r.overflows)||[];if(u&&S.push(I[v]),d){const e=Mh(i,a,w);S.push(I[e[0]],I[e[1]])}if(E=[...E,{placement:i,overflows:S}],!S.every((e=>e<=0))){var C,T;const e=((null==(C=o.flip)?void 0:C.index)||0)+1,t=_[e];if(t)return{data:{index:e,overflows:E},reset:{placement:t}};let n=null==(T=E.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:T.placement;if(!n)switch(f){case"bestFit":{var N;const e=null==(N=E.filter((e=>{if(x){const t=Dh(e.placement);return t===y||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:N[0];e&&(n=e);break}case"initialPlacement":n=s}if(i!==n)return{reset:{placement:n}}}return{}}}},df=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=t,{element:c,padding:u=0}=Nh(e,t)||{};if(null==c)return{};const d=Uh(u),h={x:n,y:r},f=Lh(i),p=Oh(f),g=await a.getDimensions(c),m="y"===f,v=m?"top":"left",y=m?"bottom":"right",b=m?"clientHeight":"clientWidth",w=o.reference[p]+o.reference[f]-h[f]-o.floating[p],k=h[f]-o.reference[f],x=await(null==a.getOffsetParent?void 0:a.getOffsetParent(c));let _=x?x[b]:0;_&&await(null==a.isElement?void 0:a.isElement(x))||(_=s.floating[b]||o.floating[p]);const I=w/2-k/2,S=_/2-g[p]/2-1,E=kh(d[v],S),C=kh(d[y],S),T=E,N=_-g[p]-C,A=_/2-g[p]/2+I,P=Th(T,A,N),R=!l.arrow&&null!=Ph(i)&&A!==P&&o.reference[p]/2-(A<T?E:C)-g[p]/2<0,O=R?A<T?A-T:A-N:0;return{[f]:h[f]+O,data:{[f]:P,centerOffset:A-P-O,...R&&{alignmentOffset:O}},reset:R}}}),hf=(e,t,n)=>{const r=new Map,i={platform:rf,...n},o={...i.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,s=o.filter(Boolean),l=await(null==a.isRTL?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=zh(c,r,l),h=r,f={},p=0;for(let g=0;g<s.length;g++){const{name:n,fn:o}=s[g],{x:m,y:v,data:y,reset:b}=await o({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:f,rects:c,platform:a,elements:{reference:e,floating:t}});u=null!=m?m:u,d=null!=v?v:d,f={...f,[n]:{...f[n],...y}},b&&p<=50&&(p++,"object"===typeof b&&(b.placement&&(h=b.placement),b.rects&&(c=!0===b.rects?await a.getElementRects({reference:e,floating:t,strategy:i}):b.rects),({x:u,y:d}=zh(c,h,l))),g=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:f}})(e,t,{...i,platform:o})};var ff="undefined"!==typeof document?t.useLayoutEffect:t.useEffect;function pf(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!pf(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!==r--;){const n=i[r];if(("_owner"!==n||!e.$$typeof)&&!pf(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function gf(e){if("undefined"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function mf(e,t){const n=gf(e);return Math.round(t*n)/n}function vf(e){const n=t.useRef(e);return ff((()=>{n.current=e})),n}const yf=e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"===typeof e?e(t):e;return n&&(i=n,{}.hasOwnProperty.call(i,"current"))?null!=n.current?df({element:n.current,padding:r}).fn(t):{}:n?df({element:n,padding:r}).fn(t):{};var i}});var bf=function(e){return"undefined"===typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},wf=new WeakMap,kf=new WeakMap,xf={},_f=0,If=function(e){return e&&(e.host||If(e.parentNode))},Sf=function(e,t,n,r){var i=function(e,t){return t.map((function(t){if(e.contains(t))return t;var n=If(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)})).filter((function(e){return Boolean(e)}))}(t,Array.isArray(e)?e:[e]);xf[n]||(xf[n]=new WeakMap);var o=xf[n],a=[],s=new Set,l=new Set(i),c=function(e){e&&!s.has(e)&&(s.add(e),c(e.parentNode))};i.forEach(c);var u=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,(function(e){if(s.has(e))u(e);else try{var t=e.getAttribute(r),i=null!==t&&"false"!==t,l=(wf.get(e)||0)+1,c=(o.get(e)||0)+1;wf.set(e,l),o.set(e,c),a.push(e),1===l&&i&&kf.set(e,!0),1===c&&e.setAttribute(n,"true"),i||e.setAttribute(r,"true")}catch(Sj){console.error("aria-hidden: cannot operate on ",e,Sj)}}))};return u(t),s.clear(),_f++,function(){a.forEach((function(e){var t=wf.get(e)-1,i=o.get(e)-1;wf.set(e,t),o.set(e,i),t||(kf.has(e)||e.removeAttribute(r),kf.delete(e)),i||e.removeAttribute(n)})),--_f||(wf=new WeakMap,wf=new WeakMap,kf=new WeakMap,xf={})}},Ef=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=t||bf(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),Sf(r,i,n,"aria-hidden")):function(){return null}},Cf=function(e,t,n){void 0===n&&(n="data-inert-ed");var r=t||bf(e);return r?Sf(e,r,n,"inert"):function(){return null}},Tf=function(){return"undefined"!==typeof HTMLElement&&HTMLElement.prototype.hasOwnProperty("inert")},Nf=function(e,t,n){return void 0===n&&(n="data-suppressed"),(Tf()?Cf:Ef)(e,t,n)},Af=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Pf=Af.join(","),Rf="undefined"===typeof Element,Of=Rf?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Df=!Rf&&Element.prototype.getRootNode?function(e){var t;return null===e||void 0===e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null===e||void 0===e?void 0:e.ownerDocument},Lf=function e(t,n){var r;void 0===n&&(n=!0);var i=null===t||void 0===t||null===(r=t.getAttribute)||void 0===r?void 0:r.call(t,"inert");return""===i||"true"===i||n&&t&&e(t.parentNode)},Mf=function(e,t,n){if(Lf(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(Pf));return t&&Of.call(e,Pf)&&r.unshift(e),r=r.filter(n)},jf=function e(t,n,r){for(var i=[],o=Array.from(t);o.length;){var a=o.shift();if(!Lf(a,!1))if("SLOT"===a.tagName){var s=a.assignedElements(),l=e(s.length?s:a.children,!0,r);r.flatten?i.push.apply(i,l):i.push({scopeParent:a,candidates:l})}else{Of.call(a,Pf)&&r.filter(a)&&(n||!t.includes(a))&&i.push(a);var c=a.shadowRoot||"function"===typeof r.getShadowRoot&&r.getShadowRoot(a),u=!Lf(c,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(c&&u){var d=e(!0===c?a.children:c.children,!0,r);r.flatten?i.push.apply(i,d):i.push({scopeParent:a,candidates:d})}else o.unshift.apply(o,a.children)}}return i},Ff=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Uf=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(e){var t,n=null===e||void 0===e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===n||"true"===n}(e))&&!Ff(e)?0:e.tabIndex},Vf=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},zf=function(e){return"INPUT"===e.tagName},Bf=function(e){return function(e){return zf(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||Df(e),r=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!==typeof window&&"undefined"!==typeof window.CSS&&"function"===typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var i=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!i||i===e}(e)},qf=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return 0===n&&0===r},Gf=function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var i=Of.call(e,"details>summary:first-of-type")?e.parentElement:e;if(Of.call(i,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return qf(e)}else{if("function"===typeof r){for(var o=e;e;){var a=e.parentElement,s=Df(e);if(a&&!a.shadowRoot&&!0===r(a))return qf(e);e=e.assignedSlot?e.assignedSlot:a||s===e.ownerDocument?a:s.host}e=o}if(function(e){var t,n,r,i,o=e&&Df(e),a=null===(t=o)||void 0===t?void 0:t.host,s=!1;if(o&&o!==e)for(s=!!(null!==(n=a)&&void 0!==n&&null!==(r=n.ownerDocument)&&void 0!==r&&r.contains(a)||null!==e&&void 0!==e&&null!==(i=e.ownerDocument)&&void 0!==i&&i.contains(e));!s&&a;){var l,c,u;s=!(null===(c=a=null===(l=o=Df(a))||void 0===l?void 0:l.host)||void 0===c||null===(u=c.ownerDocument)||void 0===u||!u.contains(a))}return s}(e))return!e.getClientRects().length;if("legacy-full"!==n)return!0}return!1},$f=function(e,t){return!(t.disabled||Lf(t)||function(e){return zf(e)&&"hidden"===e.type}(t)||Gf(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!!Of.call(t,"fieldset[disabled] *")||!r.contains(e)}return!0}t=t.parentElement}return!1}(t))},Kf=function(e,t){return!(Bf(t)||Uf(t)<0||!$f(e,t))},Hf=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},Wf=function e(t){var n=[],r=[];return t.forEach((function(t,i){var o=!!t.scopeParent,a=o?t.scopeParent:t,s=function(e,t){var n=Uf(e);return n<0&&t&&!Ff(e)?0:n}(a,o),l=o?e(t.candidates):a;0===s?o?n.push.apply(n,l):n.push(a):r.push({documentOrder:i,tabIndex:s,item:t,isScope:o,content:l})})),r.sort(Vf).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(n)},Qf=function(e,t){var n;return n=(t=t||{}).getShadowRoot?jf([e],t.includeContainer,{filter:Kf.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Hf}):Mf(e,t.includeContainer,Kf.bind(null,t)),Wf(n)};function Yf(){return Yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yf.apply(this,arguments)}var Jf="undefined"!==typeof document?t.useLayoutEffect:t.useEffect;let Xf=!1,Zf=0;const ep=()=>"floating-ui-"+Zf++;const tp=r["useId".toString()]||function(){const[e,n]=t.useState((()=>Xf?ep():void 0));return Jf((()=>{null==e&&n(ep())}),[]),t.useEffect((()=>{Xf||(Xf=!0)}),[]),e};function np(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach((e=>e(n)))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,(null==(r=e.get(t))?void 0:r.filter((e=>e!==n)))||[])}}}const rp=t.createContext(null),ip=t.createContext(null),op=()=>{var e;return(null==(e=t.useContext(rp))?void 0:e.id)||null},ap=()=>t.useContext(ip);function sp(e){return(null==e?void 0:e.ownerDocument)||document}function lp(){const e=navigator.userAgentData;return null!=e&&e.platform?e.platform:navigator.platform}function cp(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map((e=>{let{brand:t,version:n}=e;return t+"/"+n})).join(" "):navigator.userAgent}function up(e){return sp(e).defaultView||window}function dp(e){return!!e&&(e instanceof Element||e instanceof up(e).Element)}function hp(e){return!!e&&(e instanceof HTMLElement||e instanceof up(e).HTMLElement)}function fp(e){if(0===e.mozInputSource&&e.isTrusted)return!0;const t=/Android/i;return(t.test(lp())||t.test(cp()))&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType}function pp(e){return 0===e.width&&0===e.height||1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"!==e.pointerType||e.width<1&&e.height<1&&0===e.pressure&&0===e.detail}function gp(){return/apple/i.test(navigator.vendor)}function mp(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function vp(e,t){if(!e||!t)return!1;const n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&(r=n,"undefined"!==typeof ShadowRoot&&(r instanceof up(r).ShadowRoot||r instanceof ShadowRoot))){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}var r;return!1}function yp(e){return"data-floating-ui-"+e}function bp(e){const n=(0,t.useRef)(e);return Jf((()=>{n.current=e})),n}const wp=yp("safe-polygon");function kp(e,t,n){return n&&!mp(n)?0:"number"===typeof e?e:null==e?void 0:e[t]}function xp(e,n){void 0===n&&(n={});const{open:r,onOpenChange:i,dataRef:o,events:a,elements:{domReference:s,floating:l},refs:c}=e,{enabled:u=!0,delay:d=0,handleClose:h=null,mouseOnly:f=!1,restMs:p=0,move:g=!0}=n,m=ap(),v=op(),y=bp(h),b=bp(d),w=t.useRef(),k=t.useRef(),x=t.useRef(),_=t.useRef(),I=t.useRef(!0),S=t.useRef(!1),E=t.useRef((()=>{})),C=t.useCallback((()=>{var e;const t=null==(e=o.current.openEvent)?void 0:e.type;return(null==t?void 0:t.includes("mouse"))&&"mousedown"!==t}),[o]);t.useEffect((()=>{if(u)return a.on("dismiss",e),()=>{a.off("dismiss",e)};function e(){clearTimeout(k.current),clearTimeout(_.current),I.current=!0}}),[u,a]),t.useEffect((()=>{if(!u||!y.current||!r)return;function e(e){C()&&i(!1,e)}const t=sp(l).documentElement;return t.addEventListener("mouseleave",e),()=>{t.removeEventListener("mouseleave",e)}}),[l,r,i,u,y,o,C]);const T=t.useCallback((function(e,t){void 0===t&&(t=!0);const n=kp(b.current,"close",w.current);n&&!x.current?(clearTimeout(k.current),k.current=setTimeout((()=>i(!1,e)),n)):t&&(clearTimeout(k.current),i(!1,e))}),[b,i]),N=t.useCallback((()=>{E.current(),x.current=void 0}),[]),A=t.useCallback((()=>{if(S.current){const e=sp(c.floating.current).body;e.style.pointerEvents="",e.removeAttribute(wp),S.current=!1}}),[c]);return t.useEffect((()=>{if(u&&dp(s)){const e=s;return r&&e.addEventListener("mouseleave",c),null==l||l.addEventListener("mouseleave",c),g&&e.addEventListener("mousemove",n,{once:!0}),e.addEventListener("mouseenter",n),e.addEventListener("mouseleave",a),()=>{r&&e.removeEventListener("mouseleave",c),null==l||l.removeEventListener("mouseleave",c),g&&e.removeEventListener("mousemove",n),e.removeEventListener("mouseenter",n),e.removeEventListener("mouseleave",a)}}function t(){return!!o.current.openEvent&&["click","mousedown"].includes(o.current.openEvent.type)}function n(e){if(clearTimeout(k.current),I.current=!1,f&&!mp(w.current)||p>0&&0===kp(b.current,"open"))return;const t=kp(b.current,"open",w.current);t?k.current=setTimeout((()=>{i(!0,e)}),t):i(!0,e)}function a(n){if(t())return;E.current();const i=sp(l);if(clearTimeout(_.current),y.current){r||clearTimeout(k.current),x.current=y.current({...e,tree:m,x:n.clientX,y:n.clientY,onClose(){A(),N(),T(n)}});const t=x.current;return i.addEventListener("mousemove",t),void(E.current=()=>{i.removeEventListener("mousemove",t)})}("touch"!==w.current||!vp(l,n.relatedTarget))&&T(n)}function c(n){t()||null==y.current||y.current({...e,tree:m,x:n.clientX,y:n.clientY,onClose(){A(),N(),T(n)}})(n)}}),[s,l,u,e,f,p,g,T,N,A,i,r,m,b,y,o]),Jf((()=>{var e;if(u&&r&&null!=(e=y.current)&&e.__options.blockPointerEvents&&C()){const e=sp(l).body;if(e.setAttribute(wp,""),e.style.pointerEvents="none",S.current=!0,dp(s)&&l){var t,n;const e=s,r=null==m||null==(t=m.nodesRef.current.find((e=>e.id===v)))||null==(n=t.context)?void 0:n.elements.floating;return r&&(r.style.pointerEvents=""),e.style.pointerEvents="auto",l.style.pointerEvents="auto",()=>{e.style.pointerEvents="",l.style.pointerEvents=""}}}}),[u,r,v,l,s,m,y,o,C]),Jf((()=>{r||(w.current=void 0,N(),A())}),[r,N,A]),t.useEffect((()=>()=>{N(),clearTimeout(k.current),clearTimeout(_.current),A()}),[u,N,A]),t.useMemo((()=>{if(!u)return{};function e(e){w.current=e.pointerType}return{reference:{onPointerDown:e,onPointerEnter:e,onMouseMove(e){r||0===p||(clearTimeout(_.current),_.current=setTimeout((()=>{I.current||i(!0,e.nativeEvent)}),p))}},floating:{onMouseEnter(){clearTimeout(k.current)},onMouseLeave(e){a.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),T(e.nativeEvent,!1)}}}}),[a,u,p,r,i,T])}function _p(e){let t=e.activeElement;for(;null!=(null==(n=t)||null==(r=n.shadowRoot)?void 0:r.activeElement);){var n,r;t=t.shadowRoot.activeElement}return t}let Ip=0;function Sp(e,t){void 0===t&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:i=!1}=t;r&&cancelAnimationFrame(Ip);const o=()=>null==e?void 0:e.focus({preventScroll:n});i?o():Ip=requestAnimationFrame(o)}function Ep(e,t){let n=e.filter((e=>{var n;return e.parentId===t&&(null==(n=e.context)?void 0:n.open)})),r=n;for(;r.length;)r=e.filter((e=>{var t;return null==(t=r)?void 0:t.some((t=>{var n;return e.parentId===t.id&&(null==(n=e.context)?void 0:n.open)}))})),n=n.concat(r);return n}function Cp(e){return"composedPath"in e?e.composedPath()[0]:e.target}function Tp(e){return hp(e)&&e.matches("input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])")}function Np(e){e.preventDefault(),e.stopPropagation()}const Ap=()=>({getShadowRoot:!0,displayCheck:"function"===typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Pp(e,t){const n=Qf(e,Ap());"prev"===t&&n.reverse();const r=n.indexOf(_p(sp(e)));return n.slice(r+1)[0]}function Rp(){return Pp(document.body,"next")}function Op(){return Pp(document.body,"prev")}function Dp(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!vp(n,r)}function Lp(e){Qf(e,Ap()).forEach((e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}))}function Mp(e){e.querySelectorAll("[data-tabindex]").forEach((e=>{const t=e.dataset.tabindex;delete e.dataset.tabindex,t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")}))}const jp={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};function Fp(e){"Tab"===e.key&&(e.target,clearTimeout(undefined))}const Up=t.forwardRef((function(e,n){const[r,i]=t.useState();Jf((()=>(gp()&&i("button"),document.addEventListener("keydown",Fp),()=>{document.removeEventListener("keydown",Fp)})),[]);const o={ref:n,tabIndex:0,role:r,"aria-hidden":!r||void 0,[yp("focus-guard")]:"",style:jp};return t.createElement("span",Yf({},e,o))})),Vp=t.createContext(null);function zp(e){let{children:n,id:r,root:i=null,preserveTabOrder:o=!0}=e;const a=function(e){let{id:n,root:r}=void 0===e?{}:e;const[i,o]=t.useState(null),a=tp(),s=Bp(),l=t.useMemo((()=>({id:n,root:r,portalContext:s,uniqueId:a})),[n,r,s,a]),c=t.useRef();return Jf((()=>()=>{null==i||i.remove()}),[i,l]),Jf((()=>{if(c.current===l)return;c.current=l;const{id:e,root:t,portalContext:n,uniqueId:r}=l,i=e?document.getElementById(e):null,a=yp("portal");if(i){const e=document.createElement("div");e.id=r,e.setAttribute(a,""),i.appendChild(e),o(e)}else{let i=t||(null==n?void 0:n.portalNode);i&&!dp(i)&&(i=i.current),i=i||document.body;let s=null;e&&(s=document.createElement("div"),s.id=e,i.appendChild(s));const l=document.createElement("div");l.id=r,l.setAttribute(a,""),i=s||i,i.appendChild(l),o(l)}}),[l]),i}({id:r,root:i}),[l,c]=t.useState(null),u=t.useRef(null),d=t.useRef(null),h=t.useRef(null),f=t.useRef(null),p=!!l&&!l.modal&&l.open&&o&&!(!i&&!a);return t.useEffect((()=>{if(a&&o&&(null==l||!l.modal))return a.addEventListener("focusin",e,!0),a.addEventListener("focusout",e,!0),()=>{a.removeEventListener("focusin",e,!0),a.removeEventListener("focusout",e,!0)};function e(e){if(a&&Dp(e)){("focusin"===e.type?Mp:Lp)(a)}}}),[a,o,null==l?void 0:l.modal]),t.createElement(Vp.Provider,{value:t.useMemo((()=>({preserveTabOrder:o,beforeOutsideRef:u,afterOutsideRef:d,beforeInsideRef:h,afterInsideRef:f,portalNode:a,setFocusManagerState:c})),[o,a])},p&&a&&t.createElement(Up,{"data-type":"outside",ref:u,onFocus:e=>{if(Dp(e,a)){var t;null==(t=h.current)||t.focus()}else{const e=Op()||(null==l?void 0:l.refs.domReference.current);null==e||e.focus()}}}),p&&a&&t.createElement("span",{"aria-owns":a.id,style:jp}),a&&(0,s.createPortal)(n,a),p&&a&&t.createElement(Up,{"data-type":"outside",ref:d,onFocus:e=>{if(Dp(e,a)){var t;null==(t=f.current)||t.focus()}else{const t=Rp()||(null==l?void 0:l.refs.domReference.current);null==t||t.focus(),(null==l?void 0:l.closeOnFocusOut)&&(null==l||l.onOpenChange(!1,e.nativeEvent))}}}))}const Bp=()=>t.useContext(Vp),qp=t.forwardRef((function(e,n){return t.createElement("button",Yf({},e,{type:"button",ref:n,tabIndex:-1,style:jp}))}));function Gp(e){const{context:n,children:r,disabled:i=!1,order:o=["content"],guards:a=!0,initialFocus:s=0,returnFocus:l=!0,modal:c=!0,visuallyHiddenDismiss:u=!1,closeOnFocusOut:d=!0}=e,{open:h,refs:f,nodeId:p,onOpenChange:g,events:m,dataRef:v,elements:{domReference:y,floating:b}}=n,w=!Tf()||a,k=bp(o),x=bp(s),_=bp(l),I=ap(),S=Bp(),E="number"===typeof s&&s<0,C=t.useRef(null),T=t.useRef(null),N=t.useRef(!1),A=t.useRef(null),P=t.useRef(!1),R=null!=S,O=y&&"combobox"===y.getAttribute("role")&&Tp(y),D=t.useCallback((function(e){return void 0===e&&(e=b),e?Qf(e,Ap()):[]}),[b]),L=t.useCallback((e=>{const t=D(e);return k.current.map((e=>y&&"reference"===e?y:b&&"floating"===e?b:t)).filter(Boolean).flat()}),[y,b,k,D]);function M(e){return!i&&u&&c?t.createElement(qp,{ref:"start"===e?C:T,onClick:e=>g(!1,e.nativeEvent)},"string"===typeof u?u:"Dismiss"):null}t.useEffect((()=>{if(i||!c)return;function e(e){if("Tab"===e.key){vp(b,_p(sp(b)))&&0===D().length&&!O&&Np(e);const t=L(),n=Cp(e);"reference"===k.current[0]&&n===y&&(Np(e),e.shiftKey?Sp(t[t.length-1]):Sp(t[1])),"floating"===k.current[1]&&n===b&&e.shiftKey&&(Np(e),Sp(t[0]))}}const t=sp(b);return t.addEventListener("keydown",e),()=>{t.removeEventListener("keydown",e)}}),[i,y,b,c,k,f,O,D,L]),t.useEffect((()=>{if(!i&&d)return b&&hp(y)?(y.addEventListener("focusout",t),y.addEventListener("pointerdown",e),!c&&b.addEventListener("focusout",t),()=>{y.removeEventListener("focusout",t),y.removeEventListener("pointerdown",e),!c&&b.removeEventListener("focusout",t)}):void 0;function e(){P.current=!0,setTimeout((()=>{P.current=!1}))}function t(e){const t=e.relatedTarget;queueMicrotask((()=>{const n=!(vp(y,t)||vp(b,t)||vp(t,b)||vp(null==S?void 0:S.portalNode,t)||null!=t&&t.hasAttribute(yp("focus-guard"))||I&&(Ep(I.nodesRef.current,p).find((e=>{var n,r;return vp(null==(n=e.context)?void 0:n.elements.floating,t)||vp(null==(r=e.context)?void 0:r.elements.domReference,t)}))||function(e,t){var n;let r=[],i=null==(n=e.find((e=>e.id===t)))?void 0:n.parentId;for(;i;){const t=e.find((e=>e.id===i));i=null==t?void 0:t.parentId,t&&(r=r.concat(t))}return r}(I.nodesRef.current,p).find((e=>{var n,r;return(null==(n=e.context)?void 0:n.elements.floating)===t||(null==(r=e.context)?void 0:r.elements.domReference)===t}))));t&&n&&!P.current&&t!==A.current&&(N.current=!0,g(!1,e))}))}}),[i,y,b,c,p,I,S,g,d]),t.useEffect((()=>{var e;if(i)return;const t=Array.from((null==S||null==(e=S.portalNode)?void 0:e.querySelectorAll("["+yp("portal")+"]"))||[]);if(b&&c){const e=[b,...t,C.current,T.current].filter((e=>null!=e)),n=(w?Ef:Nf)(k.current.includes("reference")||O?e.concat(y||[]):e,void 0,yp("inert"));return()=>{n()}}}),[i,y,b,c,k,S,O,w]),Jf((()=>{if(i||!b)return;const e=_p(sp(b));queueMicrotask((()=>{const t=L(b),n=x.current,r=("number"===typeof n?t[n]:n.current)||b,i=vp(b,e);E||i||!h||Sp(r,{preventScroll:r===b})}))}),[i,h,b,E,L,x]),Jf((()=>{if(i||!b)return;let e=!1;const t=sp(b),n=_p(t),r=v.current;function o(t){if("escapeKey"===t.type&&f.domReference.current&&(A.current=f.domReference.current),["referencePress","escapeKey"].includes(t.type))return;const n=t.data.returnFocus;"object"===typeof n?(N.current=!1,e=n.preventScroll):N.current=!n}return A.current=n,m.on("dismiss",o),()=>{m.off("dismiss",o);const n=_p(t);(vp(b,n)||I&&Ep(I.nodesRef.current,p).some((e=>{var t;return vp(null==(t=e.context)?void 0:t.elements.floating,n)}))||r.openEvent&&["click","mousedown"].includes(r.openEvent.type))&&f.domReference.current&&(A.current=f.domReference.current),_.current&&hp(A.current)&&!N.current&&Sp(A.current,{cancelPrevious:!1,preventScroll:e})}}),[i,b,_,v,f,m,I,p]),Jf((()=>{if(!i&&S)return S.setFocusManagerState({...n,modal:c,closeOnFocusOut:d,open:h}),()=>{S.setFocusManagerState(null)}}),[i,S,c,h,d,n]),Jf((()=>{if(!i&&b&&"function"===typeof MutationObserver){const e=()=>{const e=b.getAttribute("tabindex");k.current.includes("floating")||_p(sp(b))!==f.domReference.current&&0===D().length?"0"!==e&&b.setAttribute("tabindex","0"):"-1"!==e&&b.setAttribute("tabindex","-1")};e();const t=new MutationObserver(e);return t.observe(b,{childList:!0,subtree:!0,attributes:!0}),()=>{t.disconnect()}}}),[i,b,f,k,D]);const j=!i&&w&&!O&&(R||c);return t.createElement(t.Fragment,null,j&&t.createElement(Up,{"data-type":"inside",ref:null==S?void 0:S.beforeInsideRef,onFocus:e=>{if(c){const e=L();Sp("reference"===o[0]?e[0]:e[e.length-1])}else if(null!=S&&S.preserveTabOrder&&S.portalNode)if(N.current=!1,Dp(e,S.portalNode)){const e=Rp()||y;null==e||e.focus()}else{var t;null==(t=S.beforeOutsideRef.current)||t.focus()}}}),!O&&M("start"),r,M("end"),j&&t.createElement(Up,{"data-type":"inside",ref:null==S?void 0:S.afterInsideRef,onFocus:e=>{if(c)Sp(L()[0]);else if(null!=S&&S.preserveTabOrder&&S.portalNode)if(d&&(N.current=!0),Dp(e,S.portalNode)){const e=Op()||y;null==e||e.focus()}else{var t;null==(t=S.afterOutsideRef.current)||t.focus()}}}))}function $p(e,t){const n=e.compareDocumentPosition(t);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0}const Kp=t.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function Hp(e){let{children:n,elementsRef:r,labelsRef:i}=e;const[o,a]=t.useState((()=>new Map)),s=t.useCallback((e=>{a((t=>new Map(t).set(e,null)))}),[]),l=t.useCallback((e=>{a((t=>{const n=new Map(t);return n.delete(e),n}))}),[]);return Jf((()=>{const e=new Map(o);Array.from(e.keys()).sort($p).forEach(((t,n)=>{e.set(t,n)})),function(e,t){if(e.size!==t.size)return!1;for(const[n,r]of e.entries())if(r!==t.get(n))return!1;return!0}(o,e)||a(e)}),[o]),t.createElement(Kp.Provider,{value:t.useMemo((()=>({register:s,unregister:l,map:o,elementsRef:r,labelsRef:i})),[s,l,o,r,i])},n)}const Wp=yp("scroll-lock"),Qp=t.forwardRef((function(e,n){let{lockScroll:r=!1,...i}=e;return Jf((()=>{var e,t;if(!r)return;if(document.body.hasAttribute(Wp))return;document.body.setAttribute(Wp,"");const n=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",i=window.innerWidth-document.documentElement.clientWidth;if(!/iP(hone|ad|od)|iOS/.test(lp()))return Object.assign(document.body.style,{overflow:"hidden",[n]:i+"px"}),()=>{document.body.removeAttribute(Wp),Object.assign(document.body.style,{overflow:"",[n]:""})};const o=(null==(e=window.visualViewport)?void 0:e.offsetLeft)||0,a=(null==(t=window.visualViewport)?void 0:t.offsetTop)||0,s=window.pageXOffset,l=window.pageYOffset;return Object.assign(document.body.style,{position:"fixed",overflow:"hidden",top:-(l-Math.floor(a))+"px",left:-(s-Math.floor(o))+"px",right:"0",[n]:i+"px"}),()=>{Object.assign(document.body.style,{position:"",overflow:"",top:"",left:"",right:"",[n]:""}),document.body.removeAttribute(Wp),window.scrollTo(s,l)}}),[r]),t.createElement("div",Yf({ref:n},i,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...i.style}}))}));function Yp(e){return hp(e.target)&&"BUTTON"===e.target.tagName}function Jp(e){return Tp(e)}function Xp(e,n){void 0===n&&(n={});const{open:r,onOpenChange:i,dataRef:o,elements:{domReference:a}}=e,{enabled:s=!0,event:l="click",toggle:c=!0,ignoreMouse:u=!1,keyboardHandlers:d=!0}=n,h=t.useRef(),f=t.useRef(!1);return t.useMemo((()=>s?{reference:{onPointerDown(e){h.current=e.pointerType},onMouseDown(e){0===e.button&&(mp(h.current,!0)&&u||"click"!==l&&(!r||!c||o.current.openEvent&&"mousedown"!==o.current.openEvent.type?(e.preventDefault(),i(!0,e.nativeEvent)):i(!1,e.nativeEvent)))},onClick(e){"mousedown"===l&&h.current?h.current=void 0:mp(h.current,!0)&&u||(!r||!c||o.current.openEvent&&"click"!==o.current.openEvent.type?i(!0,e.nativeEvent):i(!1,e.nativeEvent))},onKeyDown(e){h.current=void 0,e.defaultPrevented||!d||Yp(e)||(" "!==e.key||Jp(a)||(e.preventDefault(),f.current=!0),"Enter"===e.key&&i(!r||!c,e.nativeEvent))},onKeyUp(e){e.defaultPrevented||!d||Yp(e)||Jp(a)||" "===e.key&&f.current&&(f.current=!1,i(!r||!c,e.nativeEvent))}}}:{}),[s,o,l,u,d,a,c,r,i])}const Zp=r["useInsertionEffect".toString()]||(e=>e());function eg(e){const n=t.useRef((()=>{0}));return Zp((()=>{n.current=e})),t.useCallback((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return null==n.current?void 0:n.current(...t)}),[])}function tg(e,t){if(null==t)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return null!=n.target&&t.contains(n.target)}const ng={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},rg={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"};function ig(e,n){void 0===n&&(n={});const{open:r,onOpenChange:i,events:o,nodeId:a,elements:{reference:s,domReference:l,floating:c},dataRef:u}=e,{enabled:d=!0,escapeKey:h=!0,outsidePress:f=!0,outsidePressEvent:p="pointerdown",referencePress:g=!1,referencePressEvent:m="pointerdown",ancestorScroll:v=!1,bubbles:y}=n,b=ap(),w=null!=op(),k=eg("function"===typeof f?f:()=>!1),x="function"===typeof f?k:f,_=t.useRef(!1),{escapeKeyBubbles:I,outsidePressBubbles:S}=(e=>{var t,n;return{escapeKeyBubbles:"boolean"===typeof e?e:null!=(t=null==e?void 0:e.escapeKey)&&t,outsidePressBubbles:"boolean"===typeof e?e:null==(n=null==e?void 0:e.outsidePress)||n}})(y),E=eg((e=>{if(!r||!d||!h||"Escape"!==e.key)return;const t=b?Ep(b.nodesRef.current,a):[];if(!I&&(e.stopPropagation(),t.length>0)){let e=!0;if(t.forEach((t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__escapeKeyBubbles||(e=!1)})),!e)return}o.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),i(!1,function(e){return"nativeEvent"in e}(e)?e.nativeEvent:e)})),C=eg((e=>{const t=_.current;if(_.current=!1,t)return;if("function"===typeof x&&!x(e))return;const n=Cp(e);if(hp(n)&&c){const t=n.clientWidth>0&&n.scrollWidth>n.clientWidth,r=n.clientHeight>0&&n.scrollHeight>n.clientHeight;let i=r&&e.offsetX>n.clientWidth;if(r){"rtl"===up(c).getComputedStyle(n).direction&&(i=e.offsetX<=n.offsetWidth-n.clientWidth)}if(i||t&&e.offsetY>n.clientHeight)return}const r=b&&Ep(b.nodesRef.current,a).some((t=>{var n;return tg(e,null==(n=t.context)?void 0:n.elements.floating)}));if(tg(e,c)||tg(e,l)||r)return;const s=b?Ep(b.nodesRef.current,a):[];if(s.length>0){let e=!0;if(s.forEach((t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__outsidePressBubbles||(e=!1)})),!e)return}o.emit("dismiss",{type:"outsidePress",data:{returnFocus:w?{preventScroll:!0}:fp(e)||pp(e)}}),i(!1,e)}));return t.useEffect((()=>{if(!r||!d)return;function e(e){i(!1,e)}u.current.__escapeKeyBubbles=I,u.current.__outsidePressBubbles=S;const t=sp(c);h&&t.addEventListener("keydown",E),x&&t.addEventListener(p,C);let n=[];return v&&(dp(l)&&(n=vh(l)),dp(c)&&(n=n.concat(vh(c))),!dp(s)&&s&&s.contextElement&&(n=n.concat(vh(s.contextElement)))),n=n.filter((e=>{var n;return e!==(null==(n=t.defaultView)?void 0:n.visualViewport)})),n.forEach((t=>{t.addEventListener("scroll",e,{passive:!0})})),()=>{h&&t.removeEventListener("keydown",E),x&&t.removeEventListener(p,C),n.forEach((t=>{t.removeEventListener("scroll",e)}))}}),[u,c,l,s,h,x,p,r,i,v,d,I,S,E,C]),t.useEffect((()=>{_.current=!1}),[x,p]),t.useMemo((()=>d?{reference:{onKeyDown:E,[ng[m]]:e=>{g&&(o.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),i(!1,e.nativeEvent))}},floating:{onKeyDown:E,[rg[p]]:()=>{_.current=!0}}}:{}),[d,o,g,p,m,i,E])}function og(e){var n;void 0===e&&(e={});const{open:r=!1,onOpenChange:i,nodeId:o}=e,[a,l]=t.useState(null),c=(null==(n=e.elements)?void 0:n.reference)||a,u=function(e){void 0===e&&(e={});const{placement:n="bottom",strategy:r="absolute",middleware:i=[],platform:o,elements:{reference:a,floating:l}={},transform:c=!0,whileElementsMounted:u,open:d}=e,[h,f]=t.useState({x:0,y:0,strategy:r,placement:n,middlewareData:{},isPositioned:!1}),[p,g]=t.useState(i);pf(p,i)||g(i);const[m,v]=t.useState(null),[y,b]=t.useState(null),w=t.useCallback((e=>{e!==I.current&&(I.current=e,v(e))}),[]),k=t.useCallback((e=>{e!==S.current&&(S.current=e,b(e))}),[]),x=a||m,_=l||y,I=t.useRef(null),S=t.useRef(null),E=t.useRef(h),C=null!=u,T=vf(u),N=vf(o),A=vf(d),P=t.useCallback((()=>{if(!I.current||!S.current)return;const e={placement:n,strategy:r,middleware:p};N.current&&(e.platform=N.current),hf(I.current,S.current,e).then((e=>{const t={...e,isPositioned:!1!==A.current};R.current&&!pf(E.current,t)&&(E.current=t,s.flushSync((()=>{f(t)})))}))}),[p,n,r,N,A]);ff((()=>{!1===d&&E.current.isPositioned&&(E.current.isPositioned=!1,f((e=>({...e,isPositioned:!1}))))}),[d]);const R=t.useRef(!1);ff((()=>(R.current=!0,()=>{R.current=!1})),[]),ff((()=>{if(x&&(I.current=x),_&&(S.current=_),x&&_){if(T.current)return T.current(x,_,P);P()}}),[x,_,P,T,C]);const O=t.useMemo((()=>({reference:I,floating:S,setReference:w,setFloating:k})),[w,k]),D=t.useMemo((()=>({reference:x,floating:_})),[x,_]),L=t.useMemo((()=>{const e={position:r,left:0,top:0};if(!D.floating)return e;const t=mf(D.floating,h.x),n=mf(D.floating,h.y);return c?{...e,transform:"translate("+t+"px, "+n+"px)",...gf(D.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:t,top:n}}),[r,c,D.floating,h.x,h.y]);return t.useMemo((()=>({...h,update:P,refs:O,elements:D,floatingStyles:L})),[h,P,O,D,L])}(e),d=ap(),h=eg(((e,t)=>{e&&(p.current.openEvent=t),null==i||i(e,t)})),f=t.useRef(null),p=t.useRef({}),g=t.useState((()=>np()))[0],m=tp(),v=t.useCallback((e=>{const t=dp(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;u.refs.setReference(t)}),[u.refs]),y=t.useCallback((e=>{(dp(e)||null===e)&&(f.current=e,l(e)),(dp(u.refs.reference.current)||null===u.refs.reference.current||null!==e&&!dp(e))&&u.refs.setReference(e)}),[u.refs]),b=t.useMemo((()=>({...u.refs,setReference:y,setPositionReference:v,domReference:f})),[u.refs,y,v]),w=t.useMemo((()=>({...u.elements,domReference:c})),[u.elements,c]),k=t.useMemo((()=>({...u,refs:b,elements:w,dataRef:p,nodeId:o,floatingId:m,events:g,open:r,onOpenChange:h})),[u,o,m,g,r,h,b,w]);return Jf((()=>{const e=null==d?void 0:d.nodesRef.current.find((e=>e.id===o));e&&(e.context=k)})),t.useMemo((()=>({...u,context:k,refs:b,elements:w})),[u,b,w,k])}function ag(e,t,n){const r=new Map;return{..."floating"===n&&{tabIndex:-1},...e,...t.map((e=>e?e[n]:null)).concat(e).reduce(((e,t)=>t?(Object.entries(t).forEach((t=>{let[n,i]=t;var o;0===n.indexOf("on")?(r.has(n)||r.set(n,[]),"function"===typeof i&&(null==(o=r.get(n))||o.push(i),e[n]=function(){for(var e,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return null==(e=r.get(n))?void 0:e.map((e=>e(...i))).find((e=>void 0!==e))})):e[n]=i})),e):e),{})}}function sg(e){void 0===e&&(e=[]);const n=e,r=t.useCallback((t=>ag(t,e,"reference")),n),i=t.useCallback((t=>ag(t,e,"floating")),n),o=t.useCallback((t=>ag(t,e,"item")),e.map((e=>null==e?void 0:e.item)));return t.useMemo((()=>({getReferenceProps:r,getFloatingProps:i,getItemProps:o})),[r,i,o])}let lg=!1;const cg="ArrowUp",ug="ArrowDown",dg="ArrowLeft",hg="ArrowRight";function fg(e,t,n){return Math.floor(e/t)!==n}function pg(e,t){return t<0||t>=e.current.length}function gg(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:i,amount:o=1}=void 0===t?{}:t;const a=e.current;let s=n;do{var l,c;s+=r?-o:o}while(s>=0&&s<=a.length-1&&(i?i.includes(s):null==a[s]||(null==(l=a[s])?void 0:l.hasAttribute("disabled"))||"true"===(null==(c=a[s])?void 0:c.getAttribute("aria-disabled"))));return s}function mg(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function vg(e,t){return mg(t,e===cg||e===ug,e===dg||e===hg)}function yg(e,t,n){return mg(t,e===ug,n?e===dg:e===hg)||"Enter"===e||" "==e||""===e}function bg(e,t){return gg(e,{disabledIndices:t})}function wg(e,t){return gg(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function kg(e,n){const{open:r,onOpenChange:i,refs:o,elements:{domReference:a,floating:s}}=e,{listRef:l,activeIndex:c,onNavigate:u=()=>{},enabled:d=!0,selectedIndex:h=null,allowEscape:f=!1,loop:p=!1,nested:g=!1,rtl:m=!1,virtual:v=!1,focusItemOnOpen:y="auto",focusItemOnHover:b=!0,openOnArrowKeyDown:w=!0,disabledIndices:k,orientation:x="vertical",cols:_=1,scrollItemIntoView:I=!0}=n;const S=op(),E=ap(),C=eg(u),T=t.useRef(y),N=t.useRef(null!=h?h:-1),A=t.useRef(null),P=t.useRef(!0),R=t.useRef(C),O=t.useRef(!!s),D=t.useRef(!1),L=t.useRef(!1),M=bp(k),j=bp(r),F=bp(I),[U,V]=t.useState(),z=eg((function(e,t,n){void 0===n&&(n=!1);const r=e.current[t.current];r&&(v?V(r.id):Sp(r,{preventScroll:!0,sync:!(!lp().toLowerCase().startsWith("mac")||navigator.maxTouchPoints||!gp())&&(lg||D.current)}),requestAnimationFrame((()=>{const e=F.current;e&&r&&(n||!P.current)&&(null==r.scrollIntoView||r.scrollIntoView("boolean"===typeof e?{block:"nearest",inline:"nearest"}:e))})))}));Jf((()=>{document.createElement("div").focus({get preventScroll(){return lg=!0,!1}})}),[]),Jf((()=>{d&&(r&&s?T.current&&null!=h&&(L.current=!0,C(h)):O.current&&(N.current=-1,R.current(null)))}),[d,r,s,h,C]),Jf((()=>{if(d&&r&&s)if(null==c){if(D.current=!1,null!=h)return;if(O.current&&(N.current=-1,z(l,N)),!O.current&&T.current&&(null!=A.current||!0===T.current&&null==A.current)){let e=0;const t=()=>{if(null==l.current[0]){if(e<2){(e?requestAnimationFrame:queueMicrotask)(t)}e++}else N.current=null==A.current||yg(A.current,x,m)||g?bg(l,M.current):wg(l,M.current),A.current=null,C(N.current)};t()}}else pg(l,c)||(N.current=c,z(l,N,L.current),L.current=!1)}),[d,r,s,c,h,g,l,x,m,C,z,M]),Jf((()=>{if(d&&O.current&&!s&&E){var e,t;const n=E.nodesRef.current,r=null==(e=n.find((e=>e.id===S)))||null==(t=e.context)?void 0:t.elements.floating,i=_p(sp(s)),o=n.some((e=>e.context&&vp(e.context.elements.floating,i)));r&&!o&&r.focus({preventScroll:!0})}}),[d,s,E,S]),Jf((()=>{R.current=C,O.current=!!s})),Jf((()=>{r||(A.current=null)}),[r]);const B=null!=c,q=t.useMemo((()=>{function e(e){if(!r)return;const t=l.current.indexOf(e);-1!==t&&C(t)}return{onFocus(t){let{currentTarget:n}=t;e(n)},onClick:e=>{let{currentTarget:t}=e;return t.focus({preventScroll:!0})},...b&&{onMouseMove(t){let{currentTarget:n}=t;e(n)},onPointerLeave(e){let{pointerType:t}=e;P.current&&"touch"!==t&&(N.current=-1,z(l,N),C(null),v||Sp(o.floating.current,{preventScroll:!0}))}}}}),[r,o,z,b,l,C,v]);return t.useMemo((()=>{if(!d)return{};const e=M.current;function t(t){if(P.current=!1,D.current=!0,!j.current&&t.currentTarget===o.floating.current)return;if(g&&function(e,t,n){return mg(t,n?e===hg:e===dg,e===cg)}(t.key,x,m))return Np(t),i(!1,t.nativeEvent),void(hp(a)&&a.focus());const n=N.current,s=bg(l,e),c=wg(l,e);if("Home"===t.key&&(Np(t),N.current=s,C(N.current)),"End"===t.key&&(Np(t),N.current=c,C(N.current)),_>1){const n=N.current;if(t.key===cg){if(Np(t),-1===n)N.current=c;else if(N.current=gg(l,{startingIndex:n,amount:_,decrement:!0,disabledIndices:e}),p&&(n-_<s||N.current<0)){const e=n%_,t=c%_,r=c-(t-e);N.current=t===e?c:t>e?r:r-_}pg(l,N.current)&&(N.current=n),C(N.current)}if(t.key===ug&&(Np(t),-1===n?N.current=s:(N.current=gg(l,{startingIndex:n,amount:_,disabledIndices:e}),p&&n+_>c&&(N.current=gg(l,{startingIndex:n%_-_,amount:_,disabledIndices:e}))),pg(l,N.current)&&(N.current=n),C(N.current)),"both"===x){const r=Math.floor(n/_);t.key===hg&&(Np(t),n%_!==_-1?(N.current=gg(l,{startingIndex:n,disabledIndices:e}),p&&fg(N.current,_,r)&&(N.current=gg(l,{startingIndex:n-n%_-1,disabledIndices:e}))):p&&(N.current=gg(l,{startingIndex:n-n%_-1,disabledIndices:e})),fg(N.current,_,r)&&(N.current=n)),t.key===dg&&(Np(t),n%_!==0?(N.current=gg(l,{startingIndex:n,disabledIndices:e,decrement:!0}),p&&fg(N.current,_,r)&&(N.current=gg(l,{startingIndex:n+(_-n%_),decrement:!0,disabledIndices:e}))):p&&(N.current=gg(l,{startingIndex:n+(_-n%_),decrement:!0,disabledIndices:e})),fg(N.current,_,r)&&(N.current=n));const i=Math.floor(c/_)===r;return pg(l,N.current)&&(N.current=p&&i?t.key===dg?c:gg(l,{startingIndex:n-n%_-1,disabledIndices:e}):n),void C(N.current)}}if(vg(t.key,x)){if(Np(t),r&&!v&&_p(t.currentTarget.ownerDocument)===t.currentTarget)return N.current=yg(t.key,x,m)?s:c,void C(N.current);yg(t.key,x,m)?N.current=p?n>=c?f&&n!==l.current.length?-1:s:gg(l,{startingIndex:n,disabledIndices:e}):Math.min(c,gg(l,{startingIndex:n,disabledIndices:e})):N.current=p?n<=s?f&&-1!==n?l.current.length:c:gg(l,{startingIndex:n,decrement:!0,disabledIndices:e}):Math.max(s,gg(l,{startingIndex:n,decrement:!0,disabledIndices:e})),pg(l,N.current)?C(null):C(N.current)}}function n(e){"auto"===y&&fp(e.nativeEvent)&&(T.current=!0)}const s=v&&r&&B&&{"aria-activedescendant":U};return{reference:{...s,onKeyDown(n){P.current=!1;const o=0===n.key.indexOf("Arrow");if(v&&r)return t(n);if(!r&&!w&&o)return;const a=o||"Enter"===n.key||""===n.key.trim(),s=vg(n.key,x),c=function(e,t,n){return mg(t,n?e===dg:e===hg,e===ug)}(n.key,x,m);a&&(A.current=g&&s?null:n.key),g?c&&(Np(n),r?(N.current=bg(l,e),C(N.current)):i(!0,n.nativeEvent)):s&&(null!=h&&(N.current=h),Np(n),!r&&w?i(!0,n.nativeEvent):t(n),r&&C(N.current))},onFocus(){r&&C(null)},onPointerDown:function(e){T.current=y,"auto"===y&&pp(e.nativeEvent)&&(T.current=!0)},onMouseDown:n,onClick:n},floating:{"aria-orientation":"both"===x?void 0:x,...s,onKeyDown:t,onPointerMove(){P.current=!0}},item:q}}),[a,o,U,M,j,l,d,x,m,v,r,B,g,h,w,f,_,p,y,C,i,q])}function xg(e,n){void 0===n&&(n={});const{open:r,floatingId:i}=e,{enabled:o=!0,role:a="dialog"}=n,s=tp();return t.useMemo((()=>{const e={id:i,role:a};return o?"tooltip"===a?{reference:{"aria-describedby":r?i:void 0},floating:e}:{reference:{"aria-expanded":r?"true":"false","aria-haspopup":"alertdialog"===a?"dialog":a,"aria-controls":r?i:void 0,..."listbox"===a&&{role:"combobox"},..."menu"===a&&{id:s}},floating:{...e,..."menu"===a&&{"aria-labelledby":s}}}:{}}),[o,a,r,i,s])}function _g(e,t){const[n,r]=e;let i=!1;const o=t.length;for(let a=0,s=o-1;a<o;s=a++){const[e,o]=t[a]||[0,0],[l,c]=t[s]||[0,0];o>=r!==c>=r&&n<=(l-e)*(r-o)/(c-o)+e&&(i=!i)}return i}function Ig(e){void 0===e&&(e={});const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:r=!0}=e;let i,o=!1,a=null,s=null,l=performance.now();const c=e=>{let{x:n,y:c,placement:u,elements:d,onClose:h,nodeId:f,tree:p}=e;return function(e){function g(){clearTimeout(i),h()}if(clearTimeout(i),!d.domReference||!d.floating||null==u||null==n||null==c)return;const{clientX:m,clientY:v}=e,y=[m,v],b=Cp(e),w="mouseleave"===e.type,k=vp(d.floating,b),x=vp(d.domReference,b),_=d.domReference.getBoundingClientRect(),I=d.floating.getBoundingClientRect(),S=u.split("-")[0],E=n>I.right-I.width/2,C=c>I.bottom-I.height/2,T=function(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}(y,_),N=I.width>_.width,A=I.height>_.height,P=(N?_:I).left,R=(N?_:I).right,O=(A?_:I).top,D=(A?_:I).bottom;if(k&&(o=!0,!w))return;if(x&&(o=!1),x&&!w)return void(o=!0);if(w&&dp(e.relatedTarget)&&vp(d.floating,e.relatedTarget))return;if(p&&Ep(p.nodesRef.current,f).some((e=>{let{context:t}=e;return null==t?void 0:t.open})))return;if("top"===S&&c>=_.bottom-1||"bottom"===S&&c<=_.top+1||"left"===S&&n>=_.right-1||"right"===S&&n<=_.left+1)return g();let L=[];switch(S){case"top":L=[[P,_.top+1],[P,I.bottom-1],[R,I.bottom-1],[R,_.top+1]];break;case"bottom":L=[[P,I.top+1],[P,_.bottom-1],[R,_.bottom-1],[R,I.top+1]];break;case"left":L=[[I.right-1,D],[I.right-1,O],[_.left+1,O],[_.left+1,D]];break;case"right":L=[[_.right-1,D],[_.right-1,O],[I.left+1,O],[I.left+1,D]]}if(!_g([m,v],L)){if(o&&!T)return g();if(!w&&r){const t=function(e,t){const n=performance.now(),r=n-l;if(null===a||null===s||0===r)return a=e,s=t,l=n,null;const i=e-a,o=t-s,c=Math.sqrt(i*i+o*o);return a=e,s=t,l=n,c/r}(e.clientX,e.clientY);if(null!==t&&t<.1)return g()}_g([m,v],function(e){let[n,r]=e;switch(S){case"top":return[[N?n+t/2:E?n+4*t:n-4*t,r+t+1],[N?n-t/2:E?n+4*t:n-4*t,r+t+1],...[[I.left,E||N?I.bottom-t:I.top],[I.right,E?N?I.bottom-t:I.top:I.bottom-t]]];case"bottom":return[[N?n+t/2:E?n+4*t:n-4*t,r-t],[N?n-t/2:E?n+4*t:n-4*t,r-t],...[[I.left,E||N?I.top+t:I.bottom],[I.right,E?N?I.top+t:I.bottom:I.top+t]]];case"left":{const e=[n+t+1,A?r+t/2:C?r+4*t:r-4*t],i=[n+t+1,A?r-t/2:C?r+4*t:r-4*t];return[...[[C||A?I.right-t:I.left,I.top],[C?A?I.right-t:I.left:I.right-t,I.bottom]],e,i]}case"right":return[[n-t,A?r+t/2:C?r+4*t:r-4*t],[n-t,A?r-t/2:C?r+4*t:r-4*t],...[[C||A?I.left+t:I.right,I.top],[C?A?I.left+t:I.right:I.left+t,I.bottom]]]}}([n,c]))?!o&&r&&(i=window.setTimeout(g,40)):g()}}};return c.__options={blockPointerEvents:n},c}const Sg=e=>{let{className:t,...n}=e;const r=Xd().theme.dropdown.floating.divider;return(0,Zn.jsx)("div",{className:vd(r,t),...n})},Eg=e=>{let{children:t,className:n,...r}=e;const i=Xd().theme.dropdown.floating.header;return(0,Zn.jsxs)(Zn.Fragment,{children:[(0,Zn.jsx)("div",{className:vd(i,n),...r,children:t}),(0,Zn.jsx)(Sg,{})]})},Cg=e=>{let{children:n,className:r,icon:i,onClick:o,theme:a={},...s}=e;const{ref:l,index:c}=function(e){let{label:n}=void 0===e?{}:e;const[r,i]=t.useState(null),o=t.useRef(null),{register:a,unregister:s,map:l,elementsRef:c,labelsRef:u}=t.useContext(Kp),d=t.useCallback((e=>{if(o.current=e,null!==r&&(c.current[r]=e,u)){var t;const i=void 0!==n;u.current[r]=i?n:null!=(t=null==e?void 0:e.textContent)?t:null}}),[r,c,u,n]);return Jf((()=>{const e=o.current;if(e)return a(e),()=>{s(e)}}),[a,s]),Jf((()=>{const e=o.current?l.get(o.current):null;null!=e&&i(e)}),[l]),t.useMemo((()=>({ref:d,index:null==r?-1:r})),[r,d])}({label:"string"===typeof n?n:void 0}),{activeIndex:u,dismissOnClick:d,getItemProps:h,handleSelect:f}=(0,t.useContext)(Lg),p=u===c,g=wd(Xd().theme.dropdown.floating.item,a);return(0,Zn.jsx)("li",{role:"menuitem",className:g.container,children:(0,Zn.jsxs)(Dd,{ref:l,className:vd(g.base,r),...s,...h({onClick:()=>{o&&o(),d&&f(null)}}),tabIndex:p?0:-1,children:[i&&(0,Zn.jsx)(i,{className:g.icon}),n]})})},Tg=e=>{let{arrowRef:t,placement:n}=e;const r=[];var i,o;return r.push({...sf(i=8),options:[i,o]}),r.push("auto"===n?((e,t)=>({...lf(e),options:[e,t]}))():((e,t)=>({...uf(e),options:[e,t]}))()),r.push(((e,t)=>({...cf(e),options:[e,t]}))({padding:8})),t?.current&&r.push(((e,t)=>({...yf(e),options:[e,t]}))({element:t.current})),r},Ng=e=>{let{placement:t}=e;return"auto"===t?void 0:t},Ag=e=>{let{placement:t}=e;return{top:"bottom",right:"left",bottom:"top",left:"right"}[t.split("-")[0]]},Pg=e=>{let{open:t,arrowRef:n,placement:r="top",setOpen:i}=e;return og({placement:Ng({placement:r}),open:t,onOpenChange:i,whileElementsMounted:af,middleware:Tg({placement:r,arrowRef:n})})},Rg=e=>{let{context:t,trigger:n,role:r="tooltip",interactions:i=[]}=e;return sg([Xp(t,{enabled:"click"===n}),xp(t,{enabled:"hover"===n,handleClose:Ig()}),ig(t),xg(t,{role:r}),...i])},Og={top:function(e){return ar({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 15l7-7 7 7"}}]})(e)},right:Pu,bottom:Nu,left:Au},Dg=e=>{let{refs:n,children:r,inline:i,theme:o,disabled:a,setButtonWidth:s,getReferenceProps:l,renderTrigger:c,...u}=e;const d=n.reference,h=l();if((0,t.useEffect)((()=>{d.current&&s?.(d.current.clientWidth)}),[d,s]),c){const e=c(o);return(0,t.cloneElement)(e,{ref:n.setReference,disabled:a,...h,...e.props})}return i?(0,Zn.jsx)("button",{type:"button",ref:n.setReference,className:o?.inlineWrapper,disabled:a,...h,children:r}):(0,Zn.jsx)(Fd,{...u,disabled:a,type:"button",ref:n.setReference,...h,children:r})},Lg=(0,t.createContext)({}),Mg=e=>{let{children:n,className:r,dismissOnClick:i=!0,theme:o={},renderTrigger:a,...s}=e;const[l,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)(null),[h,f]=(0,t.useState)(null),[p,g]=(0,t.useState)(void 0),m=(0,t.useRef)([]),v=(0,t.useRef)([]),y=wd(Xd().theme.dropdown,o),b=s,w=s["data-testid"]||"flowbite-dropdown-target",{placement:k=(s.inline?"bottom-start":"bottom"),trigger:x="click",label:_,inline:I,arrowIcon:S=!0,...E}=b,C=(0,t.useCallback)((e=>{f(e),c(!1)}),[]),T=(0,t.useCallback)((e=>{l?d(e):C(e)}),[l,C]),{context:N,floatingStyles:A,refs:P}=Pg({open:l,setOpen:c,placement:k}),R=kg(N,{listRef:m,activeIndex:u,selectedIndex:h,onNavigate:d}),O=function(e,n){var r;const{open:i,dataRef:o}=e,{listRef:a,activeIndex:s,onMatch:l,onTypingChange:c,enabled:u=!0,findMatch:d=null,resetMs:h=750,ignoreKeys:f=[],selectedIndex:p=null}=n,g=t.useRef(),m=t.useRef(""),v=t.useRef(null!=(r=null!=p?p:s)?r:-1),y=t.useRef(null),b=eg(l),w=eg(c),k=bp(d),x=bp(f);return Jf((()=>{i&&(clearTimeout(g.current),y.current=null,m.current="")}),[i]),Jf((()=>{var e;i&&""===m.current&&(v.current=null!=(e=null!=p?p:s)?e:-1)}),[i,p,s]),t.useMemo((()=>{if(!u)return{};function e(e){e?o.current.typing||(o.current.typing=e,w(e)):o.current.typing&&(o.current.typing=e,w(e))}function t(e,t,n){const r=k.current?k.current(t,n):t.find((e=>0===(null==e?void 0:e.toLocaleLowerCase().indexOf(n.toLocaleLowerCase()))));return r?e.indexOf(r):-1}function n(n){const r=a.current;if(m.current.length>0&&" "!==m.current[0]&&(-1===t(r,r,m.current)?e(!1):" "===n.key&&Np(n)),null==r||x.current.includes(n.key)||1!==n.key.length||n.ctrlKey||n.metaKey||n.altKey)return;i&&" "!==n.key&&(Np(n),e(!0)),r.every((e=>{var t,n;return!e||(null==(t=e[0])?void 0:t.toLocaleLowerCase())!==(null==(n=e[1])?void 0:n.toLocaleLowerCase())}))&&m.current===n.key&&(m.current="",v.current=y.current),m.current+=n.key,clearTimeout(g.current),g.current=setTimeout((()=>{m.current="",v.current=y.current,e(!1)}),h);const o=v.current,s=t(r,[...r.slice((o||0)+1),...r.slice(0,(o||0)+1)],m.current);-1!==s?(b(s),y.current=s):" "!==n.key&&(m.current="",e(!1))}return{reference:{onKeyDown:n},floating:{onKeyDown:n,onKeyUp(t){" "===t.key&&e(!1)}}}}),[u,i,o,a,h,x,k,b,w])}(N,{listRef:v,activeIndex:u,selectedIndex:h,onMatch:T}),{getReferenceProps:D,getFloatingProps:L,getItemProps:M}=Rg({context:N,role:"menu",trigger:x,interactions:[R,O]}),j=(0,t.useMemo)((()=>{const[e]=k.split("-");return Og[e]??Nu}),[k]);return(0,Zn.jsxs)(Zn.Fragment,{children:[(0,Zn.jsxs)(Dg,{...E,refs:P,inline:I,theme:y,"data-testid":w,className:vd(y.floating.target,E.className),setButtonWidth:g,getReferenceProps:D,renderTrigger:a,children:[_,S&&(0,Zn.jsx)(j,{className:y.arrowIcon})]}),(0,Zn.jsx)(Lg.Provider,{value:{activeIndex:u,dismissOnClick:i,getItemProps:M,handleSelect:C},children:l&&(0,Zn.jsx)(Gp,{context:N,modal:!1,children:(0,Zn.jsx)("div",{ref:P.setFloating,style:{...A,minWidth:p},"data-testid":"flowbite-dropdown","aria-expanded":l,...L({className:vd(y.floating.base,y.floating.animation,"duration-100",!l&&y.floating.hidden,y.floating.style.auto,r)}),children:(0,Zn.jsx)(Hp,{elementsRef:m,labelsRef:v,children:(0,Zn.jsx)("ul",{className:y.content,tabIndex:-1,children:n})})})})})]})};Mg.displayName="Dropdown",Cg.displayName="Dropdown.Item",Eg.displayName="Dropdown.Header",Sg.displayName="Dropdown.Divider";const jg=Object.assign(Mg,{Item:Cg,Header:Eg,Divider:Sg}),Fg=(0,t.forwardRef)(((e,t)=>{let{className:n,color:r="gray",helperText:i,sizing:o="md",theme:a={},...s}=e;const l=wd(Xd().theme.fileInput,a);return(0,Zn.jsxs)(Zn.Fragment,{children:[(0,Zn.jsx)("div",{className:vd(l.root.base,n),children:(0,Zn.jsx)("div",{className:l.field.base,children:(0,Zn.jsx)("input",{className:vd(l.field.input.base,l.field.input.colors[r],l.field.input.sizes[o]),...s,type:"file",ref:t})})}),i&&(0,Zn.jsx)(Hg,{color:r,children:i})]})}));Fg.displayName="FileInput";const Ug=e=>{let{alt:t,className:n,children:r,href:i,name:o,src:a,theme:s={},...l}=e;const c=wd(Xd().theme.footer.brand,s);return(0,Zn.jsx)("div",{children:i?(0,Zn.jsxs)("a",{"data-testid":"flowbite-footer-brand",href:i,className:vd(c.base,n),...l,children:[(0,Zn.jsx)("img",{alt:t,src:a,className:c.img}),(0,Zn.jsx)("span",{"data-testid":"flowbite-footer-brand-span",className:c.span,children:o}),r]}):(0,Zn.jsx)("img",{alt:t,"data-testid":"flowbite-footer-brand",src:a,className:vd(c.img,n),...l})})},Vg=e=>{let{by:t,className:n,href:r,theme:i={},year:o,...a}=e;const s=wd(Xd().theme.footer.copyright,i);return(0,Zn.jsxs)("div",{"data-testid":"flowbite-footer-copyright",className:vd(s.base,n),...a,children:["\xa9 ",o,r?(0,Zn.jsx)("a",{href:r,className:s.href,children:t}):(0,Zn.jsx)("span",{"data-testid":"flowbite-footer-copyright-span",className:s.span,children:t})]})},zg=e=>{let{className:t,theme:n={},...r}=e;const i=wd(Xd().theme.footer.divider,n);return(0,Zn.jsx)("hr",{"data-testid":"footer-divider",className:vd(i.base,t),...r})},Bg=e=>{let{ariaLabel:t,className:n,href:r,icon:i,theme:o={},...a}=e;const s=wd(Xd().theme.footer.icon,o);return(0,Zn.jsx)("div",{children:r?(0,Zn.jsx)("a",{"aria-label":t,"data-testid":"flowbite-footer-icon",href:r,className:vd(s.base,n),...a,children:(0,Zn.jsx)(i,{className:s.size})}):(0,Zn.jsx)(i,{"data-testid":"flowbite-footer-icon",className:s.size,...a})})},qg=e=>{let{as:t="a",children:n,className:r,href:i,theme:o={},...a}=e;const s=wd(Xd().theme.footer.groupLink.link,o);return(0,Zn.jsx)("li",{className:vd(s.base,r),children:(0,Zn.jsx)(t,{href:i,className:s.href,...a,children:n})})},Gg=e=>{let{children:t,className:n,col:r=!1,theme:i={},...o}=e;const a=wd(Xd().theme.footer.groupLink,i);return(0,Zn.jsx)("ul",{"data-testid":"footer-groupLink",className:vd(a.base,r&&a.col,n),...o,children:t})},$g=e=>{let{as:t="h2",className:n,theme:r={},title:i,...o}=e;const a=wd(Xd().theme.footer.title,r);return(0,Zn.jsx)(t,{"data-testid":"flowbite-footer-title",className:vd(a.base,n),...o,children:i})},Kg=e=>{let{bgDark:t=!1,children:n,className:r,container:i=!1,theme:o={},...a}=e;const s=wd(Xd().theme.footer,o);return(0,Zn.jsx)("footer",{"data-testid":"flowbite-footer",className:vd(s.root.base,t&&s.root.bgDark,i&&s.root.container,r),...a,children:n})};Kg.displayName="Footer",Vg.displayName="Footer.Copyright",qg.displayName="Footer.Link",Ug.displayName="Footer.Brand",Gg.displayName="Footer.LinkGroup",Bg.displayName="Footer.Icon",$g.displayName="Footer.Title",zg.displayName="Footer.Divider";Object.assign(Kg,{Copyright:Vg,Link:qg,LinkGroup:Gg,Brand:Ug,Icon:Bg,Title:$g,Divider:zg});const Hg=e=>{let{children:t,className:n,color:r="default",theme:i={},value:o,...a}=e;const s=wd(Xd().theme.helperText,i);return(0,Zn.jsx)("p",{className:vd(s.root.base,s.root.colors[r],n),...a,children:o??t??""})};Hg.displayName="HelperText";const Wg=e=>{let{active:t,children:n,className:r,href:i,icon:o,onClick:a,theme:s={},...l}=e;const c=wd(Xd().theme.listGroup.item,s),u="undefined"!==typeof i,d=u?"a":"button";return(0,Zn.jsx)("li",{className:vd(c.base,r),children:(0,Zn.jsxs)(d,{href:i,onClick:a,type:u?void 0:"button",className:vd(c.link.active[t?"on":"off"],c.link.base,c.link.href[u?"on":"off"]),...l,children:[o&&(0,Zn.jsx)(o,{"aria-hidden":!0,"data-testid":"flowbite-list-group-item-icon",className:c.link.icon}),n]})})},Qg=e=>{let{children:t,className:n,theme:r={},...i}=e;const o=wd(Xd().theme.listGroup,r);return(0,Zn.jsx)("ul",{className:vd(o.root.base,n),...i,children:t})};Qg.displayName="ListGroup",Wg.displayName="ListGroup.Item";Object.assign(Qg,{Item:Wg});const Yg=(0,t.createContext)(void 0);function Jg(){const e=(0,t.useContext)(Yg);if(!e)throw new Error("useModalContext should be used within the ModalContext provider!");return e}const Xg=e=>{let{children:t,className:n,theme:r={},...i}=e;const o=wd(Xd().theme.modal.body,r),{popup:a}=Jg();return(0,Zn.jsx)("div",{className:vd(o.base,a&&[o.popup],n),...i,children:t})},Zg=e=>{let{children:t,className:n,theme:r={},...i}=e;const o=wd(Xd().theme.modal.footer,r),{popup:a}=Jg();return(0,Zn.jsx)("div",{className:vd(o.base,!a&&o.popup,n),...i,children:t})},em=e=>{let{as:n="h3",children:r,className:i,theme:o={},id:a,...s}=e;const l=(0,t.useId)(),c=a||l,u=wd(Xd().theme.modal.header,o),{popup:d,onClose:h,setHeaderId:f}=Jg();return(0,t.useLayoutEffect)((()=>(f(c),()=>f(void 0))),[c,f]),(0,Zn.jsxs)("div",{className:vd(u.base,d&&u.popup,i),...s,children:[(0,Zn.jsx)(n,{id:c,className:u.title,children:r}),(0,Zn.jsx)("button",{"aria-label":"Close",className:u.close.base,type:"button",onClick:h,children:(0,Zn.jsx)(Ru,{"aria-hidden":!0,className:u.close.icon})})]})},tm=(0,t.forwardRef)(((e,n)=>{let{children:r,className:i,dismissible:o=!1,onClose:a,popup:s,position:l="center",root:c,show:u,size:d="2xl",theme:h={},initialFocus:f,...p}=e;const[g,m]=(0,t.useState)(void 0),v=wd(Xd().theme.modal,h),{context:y}=og({open:u,onOpenChange:()=>a&&a()}),b=(w=[y.refs.setFloating,n],t.useMemo((()=>w.every((e=>null==e))?null:e=>{w.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}),w));var w;const k=Xp(y),x=ig(y,{outsidePressEvent:"mousedown",enabled:o}),_=xg(y),{getFloatingProps:I}=sg([k,x,_]);return u?(0,Zn.jsx)(Yg.Provider,{value:{popup:s,onClose:a,setHeaderId:m},children:(0,Zn.jsx)(zp,{root:c,children:(0,Zn.jsx)(Qp,{lockScroll:!0,"data-testid":"modal-overlay",className:vd(v.root.base,v.root.positions[l],u?v.root.show.on:v.root.show.off,i),...p,children:(0,Zn.jsx)(Gp,{context:y,initialFocus:f,children:(0,Zn.jsx)("div",{ref:b,...I(p),"aria-labelledby":g,className:vd(v.content.base,v.root.sizes[d]),children:(0,Zn.jsx)("div",{className:v.content.inner,children:r})})})})})}):null}));tm.displayName="Modal",em.displayName="Modal.Header",Xg.displayName="Modal.Body",Zg.displayName="Modal.Footer";Object.assign(tm,{Header:em,Body:Xg,Footer:Zg});const nm=e=>{let{as:t="a",children:n,className:r,theme:i={},...o}=e;const a=wd(Xd().theme.navbar.brand,i);return(0,Zn.jsx)(t,{className:vd(a.base,r),...o,children:n})},rm=(0,t.createContext)(void 0);function im(){const e=(0,t.useContext)(rm);if(!e)throw new Error("useNavBarContext should be used within the NavbarContext provider!");return e}const om=e=>{let{children:t,className:n,theme:r={},...i}=e;const{isOpen:o}=im(),a=wd(Xd().theme.navbar.collapse,r);return(0,Zn.jsx)("div",{"data-testid":"flowbite-navbar-collapse",className:vd(a.base,a.hidden[o?"off":"on"],n),...i,children:(0,Zn.jsx)("ul",{className:a.list,children:t})})},am=e=>{let{active:t,as:n="a",disabled:r,children:i,className:o,theme:a={},...s}=e;const l=wd(Xd().theme.navbar.link,a);return(0,Zn.jsx)("li",{children:(0,Zn.jsx)(n,{className:vd(l.base,t&&l.active.on,!t&&!r&&l.active.off,l.disabled[r?"on":"off"],o),...s,children:i})})},sm=e=>{let{barIcon:t=dr,className:n,theme:r={},...i}=e;const{isOpen:o,setIsOpen:a}=im(),s=wd(Xd().theme.navbar.toggle,r);return(0,Zn.jsxs)("button",{"data-testid":"flowbite-navbar-toggle",onClick:()=>{a(!o)},className:vd(s.base,n),...i,children:[(0,Zn.jsx)("span",{className:"sr-only",children:"Open main menu"}),(0,Zn.jsx)(t,{"aria-hidden":!0,className:s.icon})]})},lm=e=>{let{border:n,children:r,className:i,fluid:o=!1,menuOpen:a,rounded:s,theme:l={},...c}=e;const[u,d]=(0,t.useState)(a),h=wd(Xd().theme.navbar.root,l);return(0,Zn.jsx)(rm.Provider,{value:{isOpen:u,setIsOpen:d},children:(0,Zn.jsx)("nav",{className:vd(h.base,h.bordered[n?"on":"off"],h.rounded[s?"on":"off"],i),...c,children:(0,Zn.jsx)("div",{className:vd(h.inner.base,h.inner.fluid[o?"on":"off"]),children:r})})})};lm.displayName="Navbar",nm.displayName="Navbar.Brand",om.displayName="Navbar.Collapse",am.displayName="Navbar.Link",sm.displayName="Navbar.Toggle";Object.assign(lm,{Brand:nm,Collapse:om,Link:am,Toggle:sm});const cm=(e,t)=>e>=t?[]:[...Array(t-e+1).keys()].map((t=>t+e)),um=e=>{let{active:t,children:n,className:r,onClick:i,theme:o={},...a}=e;const s=wd(Xd().theme.pagination,o);return(0,Zn.jsx)("button",{type:"button",className:vd(t&&s.pages.selector.active,r),onClick:i,...a,children:n})};um.displayName="Pagination.Button";const dm=e=>{let{children:t,className:n,onClick:r,theme:i={},disabled:o=!1,...a}=e;const s=wd(Xd().theme.pagination,i);return(0,Zn.jsx)("button",{type:"button",className:vd(o&&s.pages.selector.disabled,n),disabled:o,onClick:r,...a,children:t})};dm.displayName="Pagination.Navigation";const hm=e=>{let{className:t,currentPage:n,layout:r="pagination",nextLabel:i="Next",onPageChange:o,previousLabel:a="Previous",renderPaginationButton:s=e=>(0,Zn.jsx)(um,{...e}),showIcons:l=!1,theme:c={},totalPages:u,...d}=e;const h=wd(Xd().theme.pagination,c),f=Math.max(1,n-3),p=Math.min(n+3,u);return(0,Zn.jsxs)("nav",{className:vd(h.base,t),...d,children:["table"===r&&(0,Zn.jsxs)("div",{className:h.layout.table.base,children:["Showing ",(0,Zn.jsx)("span",{className:h.layout.table.span,children:f})," to\xa0",(0,Zn.jsx)("span",{className:h.layout.table.span,children:p})," of\xa0",(0,Zn.jsx)("span",{className:h.layout.table.span,children:u})," Entries"]}),(0,Zn.jsxs)("ul",{className:h.pages.base,children:[(0,Zn.jsx)("li",{children:(0,Zn.jsxs)(dm,{className:vd(h.pages.previous.base,l&&h.pages.showIcon),onClick:()=>{o(Math.max(n-1,1))},disabled:1===n,children:[l&&(0,Zn.jsx)(Iu,{"aria-hidden":!0,className:h.pages.previous.icon}),a]})}),"pagination"===r&&cm(f,p).map((e=>(0,Zn.jsx)("li",{"aria-current":e===n?"page":void 0,children:s({className:vd(h.pages.selector.base,n===e&&h.pages.selector.active),active:e===n,onClick:()=>o(e),children:e})},e))),(0,Zn.jsx)("li",{children:(0,Zn.jsxs)(dm,{className:vd(h.pages.next.base,l&&h.pages.showIcon),onClick:()=>{o(Math.min(n+1,u))},disabled:n===u,children:[i,l&&(0,Zn.jsx)(Su,{"aria-hidden":!0,className:h.pages.next.icon})]})})]})]})};hm.displayName="Pagination";Object.assign(hm,{Button:um});(0,t.forwardRef)(((e,t)=>{let{className:n,theme:r={},...i}=e;const o=wd(Xd().theme.radio,r);return(0,Zn.jsx)("input",{ref:t,type:"radio",className:vd(o.root.base,n),...i})})).displayName="Radio";(0,t.forwardRef)(((e,t)=>{let{className:n,sizing:r="md",theme:i={},...o}=e;const a=wd(Xd().theme.rangeSlider,i);return(0,Zn.jsx)(Zn.Fragment,{children:(0,Zn.jsx)("div",{"data-testid":"flowbite-range-slider",className:vd(a.root.base,n),children:(0,Zn.jsx)("div",{className:a.field.base,children:(0,Zn.jsx)("input",{ref:t,type:"range",className:vd(a.field.input.base,a.field.input.sizes[r]),...o})})})})})).displayName="RangeSlider";const fm=e=>{let{children:t,className:n,percentFilled:r=0,theme:i={},...o}=e;const a=wd(Xd().theme.rating.advanced,i);return(0,Zn.jsxs)("div",{className:vd(a.base,n),...o,children:[(0,Zn.jsx)("span",{className:a.label,children:t}),(0,Zn.jsx)("div",{className:a.progress.base,children:(0,Zn.jsx)("div",{className:a.progress.fill,"data-testid":"flowbite-rating-fill",style:{width:`${r}%`}})}),(0,Zn.jsx)("span",{className:a.progress.label,children:`${r}%`})]})},pm=(0,t.createContext)(void 0);const gm=e=>{let{className:n,filled:r=!0,starIcon:i=Cu,theme:o={},...a}=e;const{size:s="sm"}=function(){const e=(0,t.useContext)(pm);if(!e)throw new Error("useRatingContext should be used within the RatingContext provider!");return e}(),l=wd(Xd().theme.rating.star,o);return(0,Zn.jsx)(i,{"data-testid":"flowbite-rating-star",className:vd(l.sizes[s],l[r?"filled":"empty"],n),...a})},mm=e=>{let{children:t,className:n,size:r="sm",theme:i={},...o}=e;const a=wd(Xd().theme.rating,i);return(0,Zn.jsx)(pm.Provider,{value:{size:r},children:(0,Zn.jsx)("div",{className:vd(a.root.base,n),...o,children:t})})};mm.displayName="Rating",gm.displayName="Rating.Star",fm.displayName="Rating.Advanced";Object.assign(mm,{Star:gm,Advanced:fm});const vm=(0,t.forwardRef)(((e,t)=>{let{addon:n,children:r,className:i,color:o="gray",helperText:a,icon:s,shadow:l,sizing:c="md",theme:u={},...d}=e;const h=wd(Xd().theme.select,u);return(0,Zn.jsxs)("div",{className:vd(h.base,i),children:[n&&(0,Zn.jsx)("span",{className:h.addon,children:n}),(0,Zn.jsxs)("div",{className:h.field.base,children:[s&&(0,Zn.jsx)("div",{className:h.field.icon.base,children:(0,Zn.jsx)(s,{className:h.field.icon.svg})}),(0,Zn.jsx)("select",{className:vd(h.field.select.base,h.field.select.colors[o],h.field.select.withIcon[s?"on":"off"],h.field.select.withAddon[n?"on":"off"],h.field.select.withShadow[l?"on":"off"],h.field.select.sizes[c]),...d,ref:t,children:r}),a&&(0,Zn.jsx)(Hg,{color:o,children:a})]})]})}));vm.displayName="Select";const ym=(0,t.createContext)(void 0);function bm(){const e=(0,t.useContext)(ym);if(!e)throw new Error("useSidebarContext should be used within the SidebarContext provider!");return e}const wm=e=>{let{children:t,color:n="info",className:r,theme:i={},...o}=e;const{isCollapsed:a}=bm(),s=wd(Xd().theme.sidebar.cta,i);return(0,Zn.jsx)("div",{"data-testid":"sidebar-cta",hidden:a,className:vd(s.base,s.color[n],r),...o,children:t})};wm.displayName="Sidebar.CTA";const km=(0,t.createContext)(void 0);const xm=e=>{let{children:n,className:r,icon:i,label:o,open:a=!1,theme:s={},...l}=e;const c=(0,t.useId)(),{isCollapsed:u}=bm(),[d,h]=(0,t.useState)(a),f=wd(Xd().theme.sidebar.collapse,s);(0,t.useEffect)((()=>h(a)),[a]);return(0,Zn.jsxs)((e=>{let{children:t}=e;return(0,Zn.jsx)("li",{children:u&&!d?(0,Zn.jsx)(iv,{content:o,placement:"right",children:t}):t})}),{children:[(0,Zn.jsxs)("button",{id:`flowbite-sidebar-collapse-${c}`,onClick:()=>h(!d),title:o,type:"button",className:vd(f.button,r),...l,children:[i&&(0,Zn.jsx)(i,{"aria-hidden":!0,"data-testid":"flowbite-sidebar-collapse-icon",className:vd(f.icon.base,f.icon.open[d?"on":"off"])}),u?(0,Zn.jsx)("span",{className:"sr-only",children:o}):(0,Zn.jsxs)(Zn.Fragment,{children:[(0,Zn.jsx)("span",{"data-testid":"flowbite-sidebar-collapse-label",className:f.label.base,children:o}),(0,Zn.jsx)(_u,{"aria-hidden":!0,className:f.label.icon})]})]}),(0,Zn.jsx)("ul",{"aria-labelledby":`flowbite-sidebar-collapse-${c}`,hidden:!d,className:f.list,children:(0,Zn.jsx)(km.Provider,{value:{isInsideCollapse:!0},children:n})})]})};xm.displayName="Sidebar.Collapse";const _m=e=>{let{id:t,isCollapsed:n,tooltipChildren:r,children:i,...o}=e;return(0,Zn.jsx)("li",{...o,children:n?(0,Zn.jsx)(iv,{content:(0,Zn.jsx)(Im,{id:t,children:r}),placement:"right",children:i}):i})},Im=e=>{let{id:t,children:n}=e;return(0,Zn.jsx)(Sm,{id:t,children:n})},Sm=e=>{let{id:t,children:n}=e;const r=Xd().theme.sidebar.item;return(0,Zn.jsx)("span",{"data-testid":"flowbite-sidebar-item-content",id:`flowbite-sidebar-item-${t}`,className:vd(r.content.base),children:n})},Em=(0,t.forwardRef)(((e,n)=>{let{active:r,as:i="a",children:o,className:a,icon:s,label:l,labelColor:c="info",theme:u={},...d}=e;const h=(0,t.useId)(),{isCollapsed:f}=bm(),{isInsideCollapse:p}=function(){const e=(0,t.useContext)(km);if(!e)throw new Error("useSidebarItemContext should be used within the SidebarItemContext provider!");return e}(),g=wd(Xd().theme.sidebar.item,u);return(0,Zn.jsx)(_m,{className:g.listItem,id:h,isCollapsed:f,tooltipChildren:o,children:(0,Zn.jsxs)(i,{"aria-labelledby":`flowbite-sidebar-item-${h}`,ref:n,className:vd(g.base,r&&g.active,!f&&p&&g.collapsed?.insideCollapse,a),...d,children:[s&&(0,Zn.jsx)(s,{"aria-hidden":!0,"data-testid":"flowbite-sidebar-item-icon",className:vd(g.icon?.base,r&&g.icon?.active)}),f&&!s&&(0,Zn.jsx)("span",{className:g.collapsed?.noIcon,children:o.charAt(0).toLocaleUpperCase()??"?"}),!f&&(0,Zn.jsx)(Sm,{id:h,children:o}),!f&&l&&(0,Zn.jsx)(Pd,{color:c,"data-testid":"flowbite-sidebar-label",hidden:f,className:g.label,children:l})]})})}));Em.displayName="Sidebar.Item";const Cm=e=>{let{children:t,className:n,...r}=e;const i=Xd().theme.sidebar.itemGroup;return(0,Zn.jsx)("ul",{"data-testid":"flowbite-sidebar-item-group",className:vd(i,n),...r,children:(0,Zn.jsx)(km.Provider,{value:{isInsideCollapse:!1},children:t})})};Cm.displayName="Sidebar.ItemGroup";const Tm=e=>{let{children:t,className:n,...r}=e;const i=Xd().theme.sidebar.items;return(0,Zn.jsx)("div",{className:vd(i,n),"data-testid":"flowbite-sidebar-items",...r,children:t})};Tm.displayName="Sidebar.Items";const Nm=e=>{let{children:n,className:r,href:i,img:o,imgAlt:a="",theme:s={},...l}=e;const c=(0,t.useId)(),{isCollapsed:u}=bm(),d=wd(Xd().theme.sidebar.logo,s);return(0,Zn.jsxs)("a",{"aria-labelledby":`flowbite-sidebar-logo-${c}`,href:i,className:vd(d.base,r),...l,children:[(0,Zn.jsx)("img",{alt:a,src:o,className:d.img}),(0,Zn.jsx)("span",{className:d.collapsed[u?"on":"off"],id:`flowbite-sidebar-logo-${c}`,children:n})]})};Nm.displayName="Sidebar.Logo";const Am=Nm,Pm=e=>{let{children:t,as:n="nav",collapseBehavior:r="collapse",collapsed:i=!1,theme:o={},className:a,...s}=e;const l=wd(Xd().theme.sidebar,o);return(0,Zn.jsx)(ym.Provider,{value:{isCollapsed:i},children:(0,Zn.jsx)(n,{"aria-label":"Sidebar",hidden:i&&"hide"===r,className:vd(l.root.base,l.root.collapsed[i?"on":"off"],a),...s,children:(0,Zn.jsx)("div",{className:l.root.inner,children:t})})})};Pm.displayName="Sidebar";Object.assign(Pm,{Collapse:xm,CTA:wm,Item:Em,Items:Tm,ItemGroup:Cm,Logo:Am});const Rm=e=>{let{className:t,color:n="info",light:r,size:i="md",theme:o={},...a}=e;const s=wd(Xd().theme.spinner,o);return(0,Zn.jsx)("span",{role:"status",...a,children:(0,Zn.jsxs)("svg",{fill:"none",viewBox:"0 0 100 101",className:vd(s.base,s.color[n],s.light[r?"on":"off"].base,s.light[r?"on":"off"].color[n],s.size[i],t),children:[(0,Zn.jsx)("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),(0,Zn.jsx)("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]})})};Rm.displayName="Spinner";const Om=e=>{let{children:t,className:n}=e;return(0,Zn.jsx)("div",{className:n,children:t})};Om.displayName="Tabs.Item";const Dm=(0,t.forwardRef)(((e,n)=>{let{children:r,className:i,onActiveTabChange:o,style:a="default",theme:s={},...l}=e;const c=wd(Xd().theme.tab,s),u=(0,t.useId)(),d=(0,t.useMemo)((()=>t.Children.map(r,(e=>{let{props:t}=e;return t}))),[r]),h=(0,t.useRef)([]),[f,p]=(0,t.useState)(Math.max(0,d.findIndex((e=>e.active)))),[g,m]=(0,t.useState)(-1),v=e=>{p(e),o&&o(e)},y=c.tablist.tabitem.styles[a];return(0,t.useEffect)((()=>{h.current[g]?.focus()}),[g]),(0,t.useImperativeHandle)(n,(()=>({setActiveTab:v}))),(0,Zn.jsxs)("div",{className:vd(c.base,i),children:[(0,Zn.jsx)("div",{"aria-label":"Tabs",role:"tablist",className:vd(c.tablist.base,c.tablist.styles[a],i),...l,children:d.map(((e,t)=>(0,Zn.jsxs)("button",{type:"button","aria-controls":`${u}-tabpanel-${t}`,"aria-selected":t===f,className:vd(c.tablist.tabitem.base,y.base,t===f&&y.active.on,t!==f&&!e.disabled&&y.active.off),disabled:e.disabled,id:`${u}-tab-${t}`,onClick:()=>(e=>{let{target:t}=e;v(t),m(t)})({target:t}),onKeyDown:e=>(e=>{let{event:t,target:n}=e;"ArrowLeft"===t.key&&m(Math.max(0,g-1)),"ArrowRight"===t.key&&m(Math.min(d.length-1,g+1)),"Enter"===t.key&&(v(n),m(n))})({event:e,target:t}),ref:e=>h.current[t]=e,role:"tab",tabIndex:t===g?0:-1,children:[e.icon&&(0,Zn.jsx)(e.icon,{className:c.tablist.tabitem.icon}),e.title]},t)))}),(0,Zn.jsx)("div",{children:d.map(((e,t)=>(0,Zn.jsx)("div",{"aria-labelledby":`${u}-tab-${t}`,className:c.tabpanel,hidden:t!==f,id:`${u}-tabpanel-${t}`,role:"tabpanel",tabIndex:0,children:e.children},t)))})]})}));Dm.displayName="Tabs.Group";const Lm=e=>{let{children:t,className:n,theme:r={},...i}=e;const o=wd(Xd().theme.table.body,r);return(0,Zn.jsx)("tbody",{className:vd(o.base,n),...i,children:t})},Mm=e=>{let{children:t,className:n,theme:r={},...i}=e;const o=wd(Xd().theme.table.body.cell,r);return(0,Zn.jsx)("td",{className:vd(o.base,n),...i,children:t})},jm=(0,t.createContext)(void 0);const Fm=e=>{let{children:t,className:n,theme:r={},...i}=e;const o=wd(Xd().theme.table,r);return(0,Zn.jsx)("thead",{className:vd(o.head.base,n),...i,children:(0,Zn.jsx)("tr",{children:t})})},Um=e=>{let{children:t,className:n,theme:r={},...i}=e;const o=wd(Xd().theme.table.head.cell,r);return(0,Zn.jsx)("th",{className:vd(o.base,n),...i,children:t})},Vm=e=>{let{children:n,className:r,theme:i={},...o}=e;const{hoverable:a,striped:s}=function(){const e=(0,t.useContext)(jm);if(!e)throw new Error("useTableContext should be used within the TableContext provider!");return e}(),l=wd(Xd().theme.table.row,i);return(0,Zn.jsx)("tr",{"data-testid":"table-row-element",className:vd(l.base,s&&l.striped,a&&l.hovered,r),...o,children:n})},zm=e=>{let{children:t,className:n,hoverable:r,striped:i,theme:o={},...a}=e;const s=wd(Xd().theme.table,o);return(0,Zn.jsx)("div",{"data-testid":"table-element",className:vd(s.root.wrapper),children:(0,Zn.jsxs)(jm.Provider,{value:{striped:i,hoverable:r},children:[(0,Zn.jsx)("div",{className:vd(s.root.shadow,n)}),(0,Zn.jsx)("table",{className:vd(s.root.base,n),...a,children:t})]})})};zm.displayName="Table",Fm.displayName="Table.Head",Lm.displayName="Table.Body",Vm.displayName="Table.Row",Mm.displayName="Table.Cell",Um.displayName="Table.HeadCell";Object.assign(zm,{Head:Fm,Body:Lm,Row:Vm,Cell:Mm,HeadCell:Um});const Bm=(0,t.forwardRef)(((e,t)=>{let{addon:n,className:r,color:i="gray",helperText:o,icon:a,rightIcon:s,shadow:l,sizing:c="md",theme:u={},...d}=e;const h=wd(Xd().theme.textInput,u);return(0,Zn.jsxs)(Zn.Fragment,{children:[(0,Zn.jsxs)("div",{className:vd(h.base,r),children:[n&&(0,Zn.jsx)("span",{className:h.addon,children:n}),(0,Zn.jsxs)("div",{className:h.field.base,children:[a&&(0,Zn.jsx)("div",{className:h.field.icon.base,children:(0,Zn.jsx)(a,{className:h.field.icon.svg})}),s&&(0,Zn.jsx)("div",{"data-testid":"right-icon",className:h.field.rightIcon.base,children:(0,Zn.jsx)(s,{className:h.field.rightIcon.svg})}),(0,Zn.jsx)("input",{className:vd(h.field.input.base,h.field.input.colors[i],h.field.input.sizes[c],h.field.input.withIcon[a?"on":"off"],h.field.input.withRightIcon[s?"on":"off"],h.field.input.withAddon[n?"on":"off"],h.field.input.withShadow[l?"on":"off"]),...d,ref:t})]})]}),o&&(0,Zn.jsx)(Hg,{color:i,children:o})]})}));Bm.displayName="TextInput";const qm=(0,t.forwardRef)(((e,t)=>{let{className:n,color:r="gray",helperText:i,shadow:o,theme:a={},...s}=e;const l=wd(Xd().theme.textarea,a);return(0,Zn.jsxs)(Zn.Fragment,{children:[(0,Zn.jsx)("textarea",{ref:t,className:vd(l.base,l.colors[r],l.withShadow[o?"on":"off"],n),...s}),i&&(0,Zn.jsx)(Hg,{color:r,children:i})]})}));qm.displayName="Textarea";const Gm=e=>{let{children:t,className:n,theme:r={},...i}=e;const o=wd(Xd().theme.timeline.item.content,r).body;return(0,Zn.jsx)("div",{className:vd(o,n),...i,children:t})},$m=(0,t.createContext)(void 0);function Km(){const e=(0,t.useContext)($m);if(!e)throw new Error("useTimelineContext should be used within the TimelineContext providor!");return e}const Hm=e=>{let{children:t,className:n,theme:r={},...i}=e;const o=wd(Xd().theme.timeline.item.content,r),{horizontal:a}=Km();return(0,Zn.jsx)("div",{"data-testid":"timeline-content",className:vd(a&&o.root.base,n),...i,children:t})},Wm=e=>{let{children:t,className:n,theme:r={},...i}=e;const o=wd(Xd().theme.timeline.item,r),{horizontal:a}=Km();return(0,Zn.jsx)("li",{"data-testid":"timeline-item",className:vd(a&&o.root.horizontal,!a&&o.root.vertical,n),...i,children:t})},Qm=e=>{let{children:t,className:n,icon:r,theme:i={},...o}=e;const a=wd(Xd().theme.timeline.item.point,i),{horizontal:s}=Km();return(0,Zn.jsxs)("div",{"data-testid":"timeline-point",className:vd(s&&a.horizontal,!s&&a.vertical,n),...o,children:[t,r?(0,Zn.jsx)("span",{className:vd(a.marker.icon.wrapper),children:(0,Zn.jsx)(r,{"aria-hidden":!0,className:vd(a.marker.icon.base)})}):(0,Zn.jsx)("div",{className:vd(s&&a.marker.base.horizontal,!s&&a.marker.base.vertical)}),s&&(0,Zn.jsx)("div",{className:vd(a.line)})]})},Ym=e=>{let{children:t,className:n,theme:r={},...i}=e;const o=wd(Xd().theme.timeline.item.content,r).time;return(0,Zn.jsx)("time",{className:vd(o,n),...i,children:t})},Jm=e=>{let{as:t="h3",children:n,className:r,theme:i={},...o}=e;const a=wd(Xd().theme.timeline.item.content,i).title;return(0,Zn.jsx)(t,{className:vd(a,r),...o,children:n})},Xm=e=>{let{children:t,className:n,horizontal:r,theme:i={},...o}=e;const a=wd(Xd().theme.timeline,i);return(0,Zn.jsx)($m.Provider,{value:{horizontal:r},children:(0,Zn.jsx)("ol",{"data-testid":"timeline-component",className:vd(r&&a.root.direction.horizontal,!r&&a.root.direction.vertical,n),...o,children:t})})};Xm.displayName="Timeline",Wm.displayName="Timeline.Item",Qm.displayName="Timeline.Point",Hm.displayName="Timeline.Content",Ym.displayName="Timeline.Time",Jm.displayName="Timeline.Title",Gm.displayName="Timeline.Body";Object.assign(Xm,{Item:Wm,Point:Qm,Content:Hm,Time:Ym,Title:Jm,Body:Gm});const Zm=(0,t.createContext)(void 0);const ev=e=>{let{className:n,onClick:r,theme:i={},xIcon:o=Tu,onDismiss:a,...s}=e;const l=wd(Xd().theme.toast.toggle,i),{duration:c,isClosed:u,isRemoved:d,setIsClosed:h,setIsRemoved:f}=function(){const e=(0,t.useContext)(Zm);if(!e)throw new Error("useToastContext should be used within the ToastContext provider!");return e}();return(0,Zn.jsx)("button",{"aria-label":"Close",onClick:e=>{r&&r(e),a?a():(h(!u),setTimeout((()=>f(!d)),c))},type:"button",className:vd(l.base,n),...s,children:(0,Zn.jsx)(o,{"aria-hidden":!0,className:l.icon})})},tv={75:"duration-75",100:"duration-100",150:"duration-150",200:"duration-200",300:"duration-300",500:"duration-500",700:"duration-700",1e3:"duration-1000"},nv=e=>{let{children:n,className:r,duration:i=300,theme:o={},...a}=e;const[s,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),d=wd(Xd().theme.toast,o);return c?null:(0,Zn.jsx)(Zm.Provider,{value:{duration:i,isClosed:s,isRemoved:c,setIsClosed:l,setIsRemoved:u},children:(0,Zn.jsx)("div",{"data-testid":"flowbite-toast",role:"alert",className:vd(d.root.base,tv[i],s&&d.root.closed,r),...a,children:n})})};nv.displayName="Toast",ev.displayName="Toast.Toggle";Object.assign(nv,{Toggle:ev});(e=>{let{checked:n,className:r,color:i="blue",disabled:o,label:a,name:s,onChange:l,theme:c={},...u}=e;const d=(0,t.useId)(),h=wd(Xd().theme.toggleSwitch,c);return(0,Zn.jsxs)(Zn.Fragment,{children:[s&&n&&(0,Zn.jsx)("input",{checked:n,hidden:!0,name:s,readOnly:!0,type:"checkbox",className:"sr-only"}),(0,Zn.jsxs)("button",{"aria-checked":n,"aria-labelledby":`${d}-flowbite-toggleswitch-label`,disabled:o,id:`${d}-flowbite-toggleswitch`,onClick:e=>{e.preventDefault(),l(!n)},onKeyPress:e=>{e.preventDefault()},role:"switch",tabIndex:0,type:"button",className:vd(h.root.base,h.root.active[o?"off":"on"],r),...u,children:[(0,Zn.jsx)("div",{"data-testid":"flowbite-toggleswitch-toggle",className:vd(h.toggle.base,h.toggle.checked[n?"on":"off"],!o&&n&&h.toggle.checked.color[i])}),(0,Zn.jsx)("span",{"data-testid":"flowbite-toggleswitch-label",id:`${d}-flowbite-toggleswitch-label`,className:h.root.label,children:a})]})]})}).displayName="ToggleSwitch";const rv=e=>{let{animation:n="duration-300",arrow:r=!0,children:i,className:o,content:a,placement:s="top",style:l="dark",theme:c,trigger:u="hover",minWidth:d,...h}=e;const f=(0,t.useRef)(null),[p,g]=(0,t.useState)(!1),m=Pg({open:p,placement:s,arrowRef:f,setOpen:g}),{context:v,middlewareData:{arrow:{x:y,y:b}={}},refs:w,strategy:k,update:x,x:_,y:I}=m,S=function(e,n){void 0===n&&(n={});const{open:r,onOpenChange:i,dataRef:o,events:a,refs:s,elements:{floating:l,domReference:c}}=e,{enabled:u=!0,keyboardOnly:d=!0}=n,h=t.useRef(""),f=t.useRef(!1),p=t.useRef();return t.useEffect((()=>{if(!u)return;const e=sp(l).defaultView||window;function t(){!r&&hp(c)&&c===_p(sp(c))&&(f.current=!0)}return e.addEventListener("blur",t),()=>{e.removeEventListener("blur",t)}}),[l,c,r,u]),t.useEffect((()=>{if(u)return a.on("dismiss",e),()=>{a.off("dismiss",e)};function e(e){"referencePress"!==e.type&&"escapeKey"!==e.type||(f.current=!0)}}),[a,u]),t.useEffect((()=>()=>{clearTimeout(p.current)}),[]),t.useMemo((()=>u?{reference:{onPointerDown(e){let{pointerType:t}=e;h.current=t,f.current=!(!t||!d)},onMouseLeave(){f.current=!1},onFocus(e){var t;f.current||"focus"===e.type&&"mousedown"===(null==(t=o.current.openEvent)?void 0:t.type)&&tg(o.current.openEvent,c)||i(!0,e.nativeEvent)},onBlur(e){f.current=!1;const t=e.relatedTarget,n=dp(t)&&t.hasAttribute(yp("focus-guard"))&&"outside"===t.getAttribute("data-type");p.current=setTimeout((()=>{vp(s.floating.current,t)||vp(c,t)||n||i(!1,e.nativeEvent)}))}}}:{}),[u,d,c,s,o,i])}(v),{getFloatingProps:E,getReferenceProps:C}=Rg({context:v,role:"tooltip",trigger:u,interactions:[S]});return(0,t.useEffect)((()=>{if(w.reference.current&&w.floating.current&&p)return af(w.reference.current,w.floating.current,x)}),[p,w.floating,w.reference,x]),(0,Zn.jsxs)(Zn.Fragment,{children:[(0,Zn.jsx)("div",{ref:w.setReference,className:c.target,"data-testid":"flowbite-tooltip-target",...C(),children:i}),(0,Zn.jsxs)("div",{ref:w.setFloating,"data-testid":"flowbite-tooltip",...E({className:vd(c.base,n&&`${c.animation} ${n}`,!p&&c.hidden,c.style[l],o),style:{position:k,top:I??" ",left:_??" ",minWidth:d},...h}),children:[(0,Zn.jsx)("div",{className:c.content,children:a}),r&&(0,Zn.jsx)("div",{className:vd(c.arrow.base,"dark"===l&&c.arrow.style.dark,"light"===l&&c.arrow.style.light,"auto"===l&&c.arrow.style.auto),"data-testid":"flowbite-tooltip-arrow",ref:f,style:{top:b??" ",left:y??" ",right:" ",bottom:" ",[Ag({placement:m.placement})]:c.arrow.placement},children:"\xa0"})]})]})},iv=e=>{let{animation:t="duration-300",arrow:n=!0,children:r,className:i,content:o,placement:a="top",style:s="dark",theme:l={},trigger:c="hover",...u}=e;const d=wd(Xd().theme.tooltip,l);return(0,Zn.jsx)(rv,{animation:t,arrow:n,content:o,placement:a,style:s,theme:d,trigger:c,className:i,...u,children:r})};iv.displayName="Tooltip";const ov=e=>(0,Zn.jsxs)(Zn.Fragment,{children:[(0,Zn.jsx)(ds,{}),(0,Zn.jsx)(hs,{children:(0,Zn.jsx)("div",{className:"h-full w-full flex justify-center items-center",children:(0,Zn.jsxs)("div",{className:"w-4/6 h-full flex flex-col space-y-8 p-2 justify-center",children:[(0,Zn.jsx)(Fd,{size:"xl",color:"success",onClick:e.onPlayClicked,children:"Play"}),(0,Zn.jsx)(Fd,{size:"xl",onClick:e.onSettingsClick,children:"Settings"}),(0,Zn.jsx)(Fd,{size:"xl",color:"failure",onClick:e.onLogoutClick,children:"Logout"})]})})}),(0,Zn.jsx)(fs,{})]}),av=e=>(0,Zn.jsxs)("div",{className:"w-full flex justify-center items-center",children:[(0,Zn.jsx)(Fd,{className:"w-3/4 relative",onClick:()=>{e.onClick(e.slot,void 0===e.gameData)},children:(0,Zn.jsxs)("div",{className:"flex flex-col",children:[(0,Zn.jsx)("p",{children:e.gameData?e.gameData.playerName:"New Game"}),e.gameData&&(0,Zn.jsxs)("p",{children:["Year: ",e.gameData.year]})]})}),(0,Zn.jsx)(lr,{className:"hover:text-gray-500 cursor-pointer text-lg mx-2",onClick:()=>{e.onDeleteClick()}})]}),sv=e=>{var n;const[r,i]=(0,t.useState)(null===(n=e.enabled)||void 0===n||n),o=t=>{t.stopPropagation(),e.disableBgClose||"overlayContainer"===t.target.id&&(e.close?e.close():i(!1))};return(0,t.useEffect)((()=>{var t;i(null===(t=e.enabled)||void 0===t||t)}),[e.enabled]),(0,Zn.jsx)(Zn.Fragment,{children:r&&(0,Zn.jsx)("div",{id:"overlayContainer",className:(e.full?"w-full h-full":"w-screen h-screen")+" fixed z-50 flex justify-center items-center top-0 left-0",onClick:o,onTouchStart:o,children:e.children})})},lv=e=>{const[n,r]=(0,t.useState)(!1);return(0,Zn.jsxs)(Ud,{className:"deleteOverlay w-1/4 flex flex-col justify-center items-center",children:[(0,Zn.jsx)("p",{className:"text-black font-bold",children:"Are you sure you want to delete this game?"}),(0,Zn.jsxs)("div",{className:"flex w-full items-center justify-center space-x-2",children:[n&&(0,Zn.jsx)(Rm,{color:"failure"}),!n&&(0,Zn.jsxs)(Zn.Fragment,{children:[(0,Zn.jsx)(Fd,{color:"failure",onClick:()=>{r(!0),e.onDeleteClick().finally((()=>{r(!1)}))},children:"Delete"}),(0,Zn.jsx)(Fd,{color:"light",onClick:()=>{e.onCancelClick()},children:"Cancel"})]})]})]})},cv=e=>{const[n,r]=(0,t.useState)(!1),[i,o]=(0,t.useState)(-1),a=Be((e=>e.firestore.gameSaves)),s=Ue(),l=(t,n)=>{s($n(t)),n?e.setPage(ks.NewGame):e.setPage(ks.Game)},c=()=>{r(!1)};return(0,Zn.jsxs)(Zn.Fragment,{children:[(0,Zn.jsx)(sv,{enabled:n,close:c,children:(0,Zn.jsx)(lv,{onCancelClick:c,onDeleteClick:()=>{const e=i;return new Promise(((t,n)=>{e>=0?ou.DeleteGameSave(e).then((()=>{c(),s(Jn(e)),t()})).catch((e=>{n()})):n()}))}})}),(0,Zn.jsx)(ds,{}),(0,Zn.jsx)(hs,{children:(0,Zn.jsxs)("div",{className:"flex flex-col px-2 py-4 space-y-4 text-center",children:[(0,Zn.jsx)("p",{children:"Select a Game Slot"}),[0,1,2].map(((e,t)=>{let n=a.find((e=>e.slot===t));return(0,Zn.jsx)(av,{gameData:n,slot:t,onClick:l,onDeleteClick:()=>{o(t),r(!0)}},t)}))]})}),(0,Zn.jsx)(fs,{})]})},uv=[Un.Economy,Un.Military,Un.Piety,Un.Population],dv=[{id:0,name:"Medieval England",description:"Rule over your kingdom in this classic era",prompt:"Medieval England",variables:uv},{id:1,name:"Fire & Ice",description:"Medieval Fantasy inspired by Game of Thrones",prompt:"\n    Medieval Fantasy World inspired heavily by Game of Thrones, this world has many kingdoms, lots of deception, dragons, magic and harsh elements",variables:uv},{id:2,name:"The Fellowship",description:"High Fantasy world inspired by Lord of The Rings",prompt:"High fantasy world heavily inspired by Lord of the Rings\n    and the other works of Tolkien. Lots of races and factions, wars, magic and beasts are present in these lands.",variables:uv},{id:3,name:"Wizards",description:"Modern Magical world inspired by Harry Potter",prompt:"Modern Magical world heavily inspired by Harry Potter, hiding from the non magic world lies\n    a mystical magical world of creatures and spells, flying brooms and enchanted objects.",variables:uv}],hv=e=>{const[n,r]=(0,t.useState)(""),[i,o]=(0,t.useState)(""),[a,s]=(0,t.useState)(dv[0]),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(1500),[h,f]=(0,t.useState)(zn.AD),p=Be((e=>e.firestore.selectedGameSaveSlot)),[g,m]=(0,t.useState)(!1),[v,y]=(0,t.useState)(""),b=ze(),w=e=>{f(e)};return(0,Zn.jsxs)(Zn.Fragment,{children:[(0,Zn.jsx)(ds,{}),(0,Zn.jsx)(hs,{children:(0,Zn.jsxs)("div",{className:"flex flex-col items-center w-full space-y-2",children:[(0,Zn.jsx)("p",{className:"font-bold py-2",children:"Create New Game"}),g&&(0,Zn.jsx)(Rm,{}),v&&(0,Zn.jsx)(Cd,{color:"failure",icon:Eu,onDismiss:()=>{y("")},className:"w-3/4 ",children:(0,Zn.jsx)("span",{className:"font-medium",children:v})}),!g&&(0,Zn.jsx)(Zn.Fragment,{children:(0,Zn.jsx)("form",{onSubmit:t=>{t.preventDefault(),m(!0),ou.CreateGame({location:l,playerName:n,playerTitle:i,year:u+h,world:a,slot:p}).then((t=>{t.playerName&&(b(Kn(t)),e.setPage(ks.Game))})).catch((e=>{console.log(e);let t="Error creating game";null!==e&&void 0!==e&&e.message&&(t+=` - ${e.message}`),y(t)})).finally((()=>{m(!1)}))},className:"flex flex-col items-center w-full",children:(0,Zn.jsxs)("div",{className:"flex flex-col space-y-4 w-3/4",children:[(0,Zn.jsxs)("div",{className:"flex flex-col",children:[(0,Zn.jsx)("p",{children:"Player Name"}),(0,Zn.jsx)(Bm,{placeholder:"Steve",value:n,onChange:e=>{r(e.target.value)},required:!0})]}),(0,Zn.jsxs)("div",{className:"flex flex-col",children:[(0,Zn.jsx)("p",{children:"Player Title"}),(0,Zn.jsx)(Bm,{placeholder:"King",value:i,onChange:e=>{o(e.target.value)},required:!0})]}),(0,Zn.jsxs)("div",{className:"flex flex-col w-full relative",children:[(0,Zn.jsx)("p",{children:"World"}),(0,Zn.jsx)(jg,{label:a.name,className:"w-full",style:{width:"100%"},children:dv.map(((e,t)=>(0,Zn.jsx)(jg.Item,{onClick:()=>{(e=>{const t=dv.find((t=>t.id===e));t&&s(t)})(e.id)},className:"px-1 py-2",children:(0,Zn.jsxs)("div",{className:"flex flex-col hover:bg-gray-500 cursor-pointer w-full px-2",children:[(0,Zn.jsx)("p",{children:(0,Zn.jsx)("b",{children:e.name})}),(0,Zn.jsx)("p",{children:e.description})]})},e.id)))})]}),(0,Zn.jsxs)("div",{className:"flex flex-col",children:[(0,Zn.jsx)("p",{children:"Location"}),(0,Zn.jsx)(Bm,{placeholder:"Dragonstone Citadel",value:l,onChange:e=>{c(e.target.value)},required:!0})]}),(0,Zn.jsxs)("div",{className:"flex flex-col",children:[(0,Zn.jsx)("p",{children:"Year"}),(0,Zn.jsxs)("div",{className:"flex",children:[(0,Zn.jsx)(Bm,{value:u,onChange:e=>{d(e.target.value)},type:"number",className:"flex-1"}),(0,Zn.jsxs)(jg,{label:h,children:[(0,Zn.jsx)(jg.Item,{onClick:()=>{w(zn.AD)},children:"AD"}),(0,Zn.jsx)(jg.Item,{onClick:()=>{w(zn.BC)},children:"BC"})]})]})]}),(0,Zn.jsx)(Fd,{type:"submit",children:"Create"})]})})})]})}),(0,Zn.jsx)(fs,{})]})},fv={Celtic:"celtic.mp3","Medieval Life":"medieval_life.mp3",Loopy:"music_loop.mp3",MusicBox:"musicbox.mp3","Village Theme":"village_theme.mp3",Violin:"violin_music.mp3"},pv=e=>(0,Zn.jsxs)(Zn.Fragment,{children:[(0,Zn.jsx)(ds,{}),(0,Zn.jsxs)(hs,{children:[(0,Zn.jsx)("div",{className:"flex flex-col py-2 space-y-2",children:(0,Zn.jsx)("div",{className:"flex justify-center items-center p-2",children:(0,Zn.jsx)(jg,{label:"Set Music",children:Object.keys(fv).map(((t,n)=>(0,Zn.jsx)(jg.Item,{onClick:()=>{var n;n=t,e.handleMusicChange(fv[n])},children:t},t)))})})}),(0,Zn.jsx)("div",{className:"w-full flex-1 flex justify-end items-end",children:(0,Zn.jsx)("div",{className:"w-full flex justify-center items-center p-2 relative space-x-2 text-lg",children:(0,Zn.jsx)("div",{className:"hover:drop-shadow-md hover:scale-105 transition-all duration-100 ease-out cursor-pointer p-1 relative z-50",onClick:()=>{e.setPage(ks.Home)},children:(0,Zn.jsx)(fr,{})})})})]}),(0,Zn.jsx)(fs,{})]}),gv=()=>{const[e,n]=(0,t.useState)(ks.Home),r=Be((e=>e.settings.musicEnabled)),i=Be((e=>e.auth)),o=ze();(0,t.useEffect)((()=>{xu.auth().onAuthStateChanged((async function(e){if(e){var t;const n={author_name:e.displayName||"steve",email:e.email||"",last_login_unix:Date.now(),password:"",role:ps.USER};o(cu(n)),o(pu());xu.firestore().collection("users").doc(null===(t=xu.auth().currentUser)||void 0===t?void 0:t.uid).get().then((e=>{if(e.exists){console.log(e.data());const t=e.data();if(t){const e=t.gameSaves;o(Gn(e))}}})).catch((e=>{console.error("Error getting document:",e)}))}else o(uu()),o(gu())}))}),[o]);const[a,s]=me("./music/celtic.mp3",{volume:.05}),l=e=>{!s.sound.playing()&&e?(s.sound.loop(!0),a()):e||s.pause()};return(0,Zn.jsxs)("div",{className:"bg-slate-400 w-screen h-screen flex background overflow-hidden text-white",children:[i.isAuthenticated&&(0,Zn.jsxs)(Zn.Fragment,{children:[e===ks.Game&&(0,Zn.jsx)(au,{setMusic:l.bind(void 0),setPage:n}),e===ks.GameSaves&&(0,Zn.jsx)(cv,{setPage:n}),e===ks.NewGame&&(0,Zn.jsx)(hv,{setPage:n}),e===ks.Settings&&(0,Zn.jsx)(pv,{handleMusicChange:e=>{s.sound.unload(),s.sound._src="./music/"+e,s.sound.once("load",(function(){l(!0)})),s.sound.load()},setPage:n}),e===ks.Home&&(0,Zn.jsx)(ov,{onSettingsClick:()=>{n(ks.Settings)},onPlayClicked:()=>{r&&l(!0),n(ks.GameSaves)},onLogoutClick:()=>{xu.auth().signOut().then((()=>{o(uu()),o(gu())})).catch((e=>{console.error("Failed to sign out: "+e)}))}})]}),!i.isAuthenticated&&(0,Zn.jsx)(vu,{})]})},mv="@firebase/installations",vv="0.6.9",yv=1e4,bv=`w:${vv}`,wv="FIS_v2",kv=36e5,xv=new Gs("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function _v(e){return e instanceof qs&&e.code.includes("request-failed")}function Iv(e){let{projectId:t}=e;return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function Sv(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Ev(e,t){const n=(await t.json()).error;return xv.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Cv(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Tv(e,t){let{refreshToken:n}=t;const r=Cv(e);return r.append("Authorization",function(e){return`${wv} ${e}`}(n)),r}async function Nv(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Av(e){return new Promise((t=>{setTimeout(t,e)}))}const Pv=/^[cdef][\w-]{21}$/;function Rv(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Pv.test(t)?t:""}catch(Ej){return""}}function Ov(e){return`${e.appName}!${e.appId}`}const Dv=new Map;function Lv(e,t){const n=Ov(e);Mv(n,t),function(e,t){const n=Fv();n&&n.postMessage({key:e,fid:t});Uv()}(n,t)}function Mv(e,t){const n=Dv.get(e);if(n)for(const r of n)r(t)}let jv=null;function Fv(){return!jv&&"BroadcastChannel"in self&&(jv=new BroadcastChannel("[Firebase] FID Change"),jv.onmessage=e=>{Mv(e.data.key,e.data.fid)}),jv}function Uv(){0===Dv.size&&jv&&(jv.close(),jv=null)}const Vv="firebase-installations-store";let zv=null;function Bv(){return zv||(zv=Cl("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Vv)}})),zv}async function qv(e,t){const n=Ov(e),r=(await Bv()).transaction(Vv,"readwrite"),i=r.objectStore(Vv),o=await i.get(n);return await i.put(t,n),await r.done,o&&o.fid===t.fid||Lv(e,t.fid),t}async function Gv(e){const t=Ov(e),n=(await Bv()).transaction(Vv,"readwrite");await n.objectStore(Vv).delete(t),await n.done}async function $v(e,t){const n=Ov(e),r=(await Bv()).transaction(Vv,"readwrite"),i=r.objectStore(Vv),o=await i.get(n),a=t(o);return void 0===a?await i.delete(n):await i.put(a,n),await r.done,!a||o&&o.fid===a.fid||Lv(e,a.fid),a}async function Kv(e){let t;const n=await $v(e.appConfig,(n=>{const r=function(e){const t=e||{fid:Rv(),registrationStatus:0};return Qv(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(xv.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const o=Iv(n),a=Cv(n),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const l={fid:i,authVersion:wv,appId:n.appId,sdkVersion:bv},c={method:"POST",headers:a,body:JSON.stringify(l)},u=await Nv((()=>fetch(o,c)));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:Sv(e.authToken)}}throw await Ev("Create Installation",u)}(e,t);return qv(e.appConfig,n)}catch(Sj){throw _v(Sj)&&409===Sj.customData.serverCode?await Gv(e.appConfig):await qv(e.appConfig,{fid:t.fid,registrationStatus:0}),Sj}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Hv(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function Hv(e){let t=await Wv(e.appConfig);for(;1===t.registrationStatus;)await Av(100),t=await Wv(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await Kv(e);return n||t}return t}function Wv(e){return $v(e,(e=>{if(!e)throw xv.create("installation-not-found");return Qv(e)}))}function Qv(e){return 1===(t=e).registrationStatus&&t.registrationTime+yv<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Yv(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return`${Iv(e)}/${n}/authTokens:generate`}(n,t),o=Tv(n,t),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const s={installation:{sdkVersion:bv,appId:n.appId}},l={method:"POST",headers:o,body:JSON.stringify(s)},c=await Nv((()=>fetch(i,l)));if(c.ok){return Sv(await c.json())}throw await Ev("Generate Auth Token",c)}async function Jv(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await $v(e.appConfig,(r=>{if(!Zv(r))throw xv.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+kv}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await Xv(e.appConfig);for(;1===n.authToken.requestStatus;)await Av(100),n=await Xv(e.appConfig);const r=n.authToken;return 0===r.requestStatus?Jv(e,t):r}(e,n),r;{if(!navigator.onLine)throw xv.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await Yv(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await qv(e.appConfig,r),n}catch(Sj){if(!_v(Sj)||401!==Sj.customData.serverCode&&404!==Sj.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await qv(e.appConfig,n)}else await Gv(e.appConfig);throw Sj}}(e,n),n}}));return t?await t:r.authToken}function Xv(e){return $v(e,(e=>{if(!Zv(e))throw xv.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+yv<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function Zv(e){return void 0!==e&&2===e.registrationStatus}async function ey(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await Kv(e);t&&await t}(n);return(await Jv(n,t)).token}function ty(e){return xv.create("missing-app-config-values",{valueName:e})}const ny="installations",ry=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw ty("App Configuration");if(!e.name)throw ty("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw ty(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:vc(t,"heartbeat"),_delete:()=>Promise.resolve()}},iy=e=>{const t=vc(e.getProvider("app").getImmediate(),ny).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await Kv(t);return r?r.catch(console.error):Jv(t).catch(console.error),n.fid}(t),getToken:e=>ey(t,e)}};mc(new rl(ny,ry,"PUBLIC")),mc(new rl("installations-internal",iy,"PRIVATE")),Pc(mv,vv),Pc(mv,vv,"esm2017");const oy="analytics",ay="https://www.googletagmanager.com/gtag/js",sy=new pl("@firebase/analytics"),ly=new Gs("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function cy(e){if(!e.startsWith(ay)){const t=ly.create("invalid-gtag-resource",{gtagURL:e});return sy.warn(t.message),""}return e}function uy(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function dy(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:cy}),r=document.createElement("script"),i=`${ay}?l=${e}&id=${t}`;r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function hy(e,t,n,r){return async function(i){try{for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];if("event"===i){const[r,i]=a;await async function(e,t,n,r,i){try{let o=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await uy(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),i=e&&t[e.appId];if(!i){o=[];break}o.push(i)}}0===o.length&&(o=Object.values(t)),await Promise.all(o),e("event",r,i||{})}catch(Sj){sy.error(Sj)}}(e,t,n,r,i)}else if("config"===i){const[i,o]=a;await async function(e,t,n,r,i,o){const a=r[i];try{if(a)await t[a];else{const e=(await uy(n)).find((e=>e.measurementId===i));e&&await t[e.appId]}}catch(Sj){sy.error(Sj)}e("config",i,o)}(e,t,n,r,i,o)}else if("consent"===i){const[t,n]=a;e("consent",t,n)}else if("get"===i){const[t,n,r]=a;e("get",t,n,r)}else if("set"===i){const[t]=a;e("set",t)}else e(i,...a)}catch(Sj){sy.error(Sj)}}}const fy=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function py(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function gy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fy,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw ly.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw ly.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new vy;return setTimeout((async()=>{s.abort()}),void 0!==n?n:6e4),my({appId:r,apiKey:i,measurementId:o},a,s,t)}async function my(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:fy;var a;const{appId:s,measurementId:l}=e;try{await function(e,t){return new Promise(((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((()=>{clearTimeout(o),r(ly.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(n,r)}catch(Sj){if(l)return sy.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null===Sj||void 0===Sj?void 0:Sj.message}]`),{appId:s,measurementId:l};throw Sj}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:py(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),a=await fetch(o,i);if(200!==a.status&&304!==a.status){let e="";try{const n=await a.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(s){}throw ly.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}(e);return o.deleteThrottleMetadata(s),t}catch(Sj){const r=Sj;if(!function(e){if(!(e instanceof qs)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(o.deleteThrottleMetadata(s),l)return sy.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null===r||void 0===r?void 0:r.message}]`),{appId:s,measurementId:l};throw Sj}const c=503===Number(null===(a=null===r||void 0===r?void 0:r.customData)||void 0===a?void 0:a.httpStatus)?tl(i,o.intervalMillis,30):tl(i,o.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:i+1};return o.setThrottleMetadata(s,u),sy.debug(`Calling attemptFetch again in ${c} millis`),my(e,u,n,o)}}class vy{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}let yy,by;function wy(e){by=e}function ky(e){yy=e}async function xy(e,t,n,r,i,o,a){var s;const l=gy(e);l.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&sy.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)})).catch((e=>sy.error(e))),t.push(l);const c=async function(){if(!zs())return sy.warn(ly.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Bs()}catch(Sj){return sy.warn(ly.create("indexeddb-unavailable",{errorInfo:null===Sj||void 0===Sj?void 0:Sj.toString()}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(ay)&&n.src.includes(e))return n;return null})(o)||dy(o,u.measurementId),by&&(i("consent","default",by),wy(void 0)),i("js",new Date);const h=null!==(s=null===a||void 0===a?void 0:a.config)&&void 0!==s?s:{};return h.origin="firebase",h.update=!0,null!=d&&(h.firebase_id=d),i("config",u.measurementId,h),yy&&(i("set",yy),ky(void 0)),u.measurementId}class _y{constructor(e){this.app=e}_delete(){return delete Iy[this.app.options.appId],Promise.resolve()}}let Iy={},Sy=[];const Ey={};let Cy,Ty,Ny="dataLayer",Ay="gtag",Py=!1;function Ry(){const e=[];if(js()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>`(${t+1}) ${e}`)).join(" "),n=ly.create("invalid-analytics-context",{errorInfo:t});sy.warn(n.message)}}function Oy(e,t,n){Ry();const r=e.options.appId;if(!r)throw ly.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw ly.create("no-api-key");sy.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Iy[r])throw ly.create("already-exists",{id:r});if(!Py){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Ny);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=hy(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}(Iy,Sy,Ey,Ny,Ay);Ty=e,Cy=t,Py=!0}Iy[r]=xy(e,Sy,Ey,t,Cy,Ny,n);return new _y(e)}function Dy(e,t,n,r){e=nl(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(Ty,Iy[e.app.options.appId],t,n,r).catch((e=>sy.error(e)))}const Ly="@firebase/analytics",My="0.10.8";mc(new rl(oy,((e,t)=>{let{options:n}=t;return Oy(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),mc(new rl("analytics-internal",(function(e){try{const t=e.getProvider(oy).getImmediate();return{logEvent:(e,n,r)=>Dy(t,e,n,r)}}catch(Sj){throw ly.create("interop-component-reg-failed",{reason:Sj})}}),"PRIVATE")),Pc(Ly,My),Pc(Ly,My,"esm2017");function jy(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const Fy="facebook.com",Uy="github.com",Vy="google.com",zy="password",By="twitter.com",qy="EMAIL_SIGNIN",Gy="PASSWORD_RESET",$y="RECOVER_EMAIL",Ky="REVERT_SECOND_FACTOR_ADDITION",Hy="VERIFY_AND_CHANGE_EMAIL",Wy="VERIFY_EMAIL";function Qy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Yy=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Jy=Qy,Xy=new Gs("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Zy=new pl("@firebase/auth");function eb(e){if(Zy.logLevel<=cl.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Zy.error(`Auth (${Sc}): ${e}`,...n)}}function tb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ab(e,...n)}function nb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ab(e,...n)}function rb(e,t,n){const r=Object.assign(Object.assign({},Jy()),{[t]:n});return new Gs("auth","Firebase",r).create(t,{appName:e.name})}function ib(e){return rb(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ob(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&tb(e,"argument-error"),rb(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ab(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Xy.create(e,...n)}function sb(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ab(t,...r)}}function lb(e){const t="INTERNAL ASSERTION FAILED: "+e;throw eb(t),new Error(t)}function cb(e,t){e||lb(t)}function ub(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function db(){return"http:"===hb()||"https:"===hb()}function hb(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class fb{constructor(e,t){this.shortDelay=e,this.longDelay=t,cb(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ds())||Fs()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(db()||js()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function pb(e,t){cb(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class gb{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void lb("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void lb("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void lb("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const mb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},vb=new fb(3e4,6e4);function yb(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function bb(e,t,n,r){return wb(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=Qs(Object.assign({key:e.config.apiKey},o)).slice(1),s=await e._getAdditionalHeaders();s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:s},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),gb.fetch()(xb(e,e.config.apiHost,n,a),l)}))}async function wb(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},mb),t);try{const t=new Ib(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Sb(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Sb(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Sb(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw Sb(e,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw rb(e,s,a);tb(e,s)}}catch(Sj){if(Sj instanceof qs)throw Sj;tb(e,"network-request-failed",{message:String(Sj)})}}async function kb(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await bb(e,t,n,r,i);return"mfaPendingCredential"in o&&tb(e,"multi-factor-auth-required",{_serverResponse:o}),o}function xb(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?pb(e.config,i):`${e.config.apiScheme}://${i}`}function _b(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ib{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(nb(this.auth,"network-request-failed"))),vb.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sb(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=nb(e,t,r);return i.customData._tokenResponse=n,i}function Eb(e){return void 0!==e&&void 0!==e.getResponse}function Cb(e){return void 0!==e&&void 0!==e.enterprise}class Tb{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return _b(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Nb(e,t){return bb(e,"GET","/v2/recaptchaConfig",yb(e,t))}async function Ab(e,t){return bb(e,"POST","/v1/accounts:lookup",t)}function Pb(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(Sj){}}function Rb(e){return 1e3*Number(e)}function Ob(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return eb("JWT malformed, contained fewer than 3 sections"),null;try{const e=Cs(n);return e?JSON.parse(e):(eb("Failed to decode base64 JWT payload"),null)}catch(Sj){return eb("Caught error parsing JWT payload as JSON",null===Sj||void 0===Sj?void 0:Sj.toString()),null}}function Db(e){const t=Ob(e);return sb(t,"internal-error"),sb("undefined"!==typeof t.exp,"internal-error"),sb("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Lb(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(Sj){throw Sj instanceof qs&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(Sj)&&e.auth.currentUser===e&&await e.auth.signOut(),Sj}}class Mb{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(Sj){return void("auth/network-request-failed"===(null===Sj||void 0===Sj?void 0:Sj.code)&&this.schedule(!0))}this.schedule()}}class jb{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pb(this.lastLoginAt),this.creationTime=Pb(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Fb(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Lb(e,Ab(n,{idToken:r}));sb(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?Ub(o.providerUserInfo):[],s=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,a),l=e.isAnonymous,c=!(e.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),u=!!l&&c,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new jb(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(e,d)}function Ub(e){return e.map((e=>{var{providerId:t}=e,n=jy(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Vb{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){sb(e.idToken,"internal-error"),sb("undefined"!==typeof e.idToken,"internal-error"),sb("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Db(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){sb(0!==e.length,"internal-error");const t=Db(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(sb(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await wb(e,{},(async()=>{const n=Qs({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=xb(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",gb.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Vb;return n&&(sb("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(sb("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(sb("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vb,this.toJSON())}_performRefresh(){return lb("not implemented")}}function zb(e,t){sb("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Bb{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=jy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new jb(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Lb(this,this.stsTokenManager.getToken(this.auth,e));return sb(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=nl(e),r=await n.getIdToken(t),i=Ob(r);sb(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,a=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Pb(Rb(i.auth_time)),issuedAtTime:Pb(Rb(i.iat)),expirationTime:Pb(Rb(i.exp)),signInProvider:a||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=nl(e);await Fb(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(sb(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Bb(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){sb(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Fb(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wc(this.auth.app))return Promise.reject(ib(this.auth));const e=await this.getIdToken();return await Lb(this,async function(e,t){return bb(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,a,s,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:k,stsTokenManager:x}=t;sb(y&&x,e,"internal-error");const _=Vb.fromJSON(this.name,x);sb("string"===typeof y,e,"internal-error"),zb(u,e.name),zb(d,e.name),sb("boolean"===typeof b,e,"internal-error"),sb("boolean"===typeof w,e,"internal-error"),zb(h,e.name),zb(f,e.name),zb(p,e.name),zb(g,e.name),zb(m,e.name),zb(v,e.name);const I=new Bb({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:_,createdAt:m,lastLoginAt:v});return k&&Array.isArray(k)&&(I.providerData=k.map((e=>Object.assign({},e)))),g&&(I._redirectEventId=g),I}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Vb;r.updateFromServerResponse(t);const i=new Bb({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Fb(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];sb(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Ub(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new Vb;a.updateFromIdToken(n);const s=new Bb({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new jb(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(s,l),s}}const qb=new Map;function Gb(e){cb(e instanceof Function,"Expected a class definition");let t=qb.get(e);return t?(cb(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,qb.set(e,t),t)}class $b{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}$b.type="NONE";const Kb=$b;function Hb(e,t,n){return`firebase:${e}:${t}:${n}`}class Wb{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Hb(this.userKey,r.apiKey,i),this.fullPersistenceKey=Hb("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Bb._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Wb(Gb(Kb),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Gb(Kb);const o=Hb(n,e.config.apiKey,e.name);let a=null;for(const l of t)try{const t=await l._get(o);if(t){const n=Bb._fromJSON(e,t);l!==i&&(a=n),i=l;break}}catch(Ej){}const s=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(Ej){}}))),new Wb(i,e,n)):new Wb(i,e,n)}}function Qb(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Zb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Yb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(tw(t))return"Blackberry";if(nw(t))return"Webos";if(Jb(t))return"Safari";if((t.includes("chrome/")||Xb(t))&&!t.includes("edge/"))return"Chrome";if(ew(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Yb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ds();return/firefox\//i.test(e)}function Jb(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ds()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Xb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ds();return/crios\//i.test(e)}function Zb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ds();return/iemobile/i.test(e)}function ew(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ds();return/android/i.test(e)}function tw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ds();return/blackberry/i.test(e)}function nw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ds();return/webos/i.test(e)}function rw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ds();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function iw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ds();return rw(e)||ew(e)||nw(e)||tw(e)||/windows phone/i.test(e)||Zb(e)}function ow(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Qb(Ds());break;case"Worker":t=`${Qb(Ds())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${Sc}/${r}`}class aw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(Sj){r(Sj)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(Sj){t.reverse();for(const n of t)try{n()}catch(st){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===Sj||void 0===Sj?void 0:Sj.message})}}}class sw{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,a;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(o=s.containsNumericCharacter)||void 0===o||o),s.isValid&&(s.isValid=null===(a=s.containsNonAlphanumericCharacter)||void 0===a||a),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class lw{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uw(this),this.idTokenSubscription=new uw(this),this.beforeStateQueue=new aw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Gb(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Wb.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(Sj){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Ab(this,{idToken:e}),n=await Bb._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(wc(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==o||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(Sj){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(Sj)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return sb(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(Sj){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Fb(e)}catch(Sj){if("auth/network-request-failed"!==(null===Sj||void 0===Sj?void 0:Sj.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wc(this.app))return Promise.reject(ib(this));const t=e?nl(e):null;return t&&sb(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&sb(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return wc(this.app)?Promise.reject(ib(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wc(this.app)?Promise.reject(ib(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(Gb(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return bb(e,"GET","/v2/passwordPolicy",yb(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new sw(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Gs("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return bb(e,"POST","/v2/accounts:revokeToken",yb(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Gb(e)||this._popupRedirectResolver;sb(t,this,"argument-error"),this.redirectPersistenceManager=await Wb.create(this,[Gb(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(sb(a,this,"internal-error"),a.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return sb(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ow(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Zy.logLevel<=cl.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Zy.warn(`Auth (${Sc}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function cw(e){return nl(e)}class uw{constructor(e){this.auth=e,this.observer=null,this.addObserver=Xs((e=>this.observer=e))}get next(){return sb(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let dw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hw(e){return dw.loadJS(e)}function fw(e){return`__${e}${Math.floor(1e6*Math.random())}`}class pw{constructor(e){this.type="recaptcha-enterprise",this.auth=cw(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Cb(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Nb(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Tb(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Cb(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=dw.recaptchaEnterpriseScript;0!==t.length&&(t+=i),hw(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function gw(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new pw(e);let o;try{o=await i.verify(n)}catch(s){o=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function mw(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await gw(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await gw(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function vw(e,t,n){const r=cw(e);sb(r._canInitEmulator,r,"emulator-config-failed"),sb(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=yw(t),{host:a,port:s}=function(e){const t=yw(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:bw(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:bw(t)}}}(t),l=null===s?"":`:${s}`;r.config.emulator={url:`${o}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function yw(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function bw(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class ww{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return lb("not implemented")}_getIdTokenResponse(e){return lb("not implemented")}_linkToIdToken(e,t){return lb("not implemented")}_getReauthenticationResolver(e){return lb("not implemented")}}async function kw(e,t){return bb(e,"POST","/v1/accounts:resetPassword",yb(e,t))}async function xw(e,t){return bb(e,"POST","/v1/accounts:signUp",t)}async function _w(e,t){return kb(e,"POST","/v1/accounts:signInWithPassword",yb(e,t))}async function Iw(e,t){return bb(e,"POST","/v1/accounts:sendOobCode",yb(e,t))}async function Sw(e,t){return Iw(e,t)}async function Ew(e,t){return Iw(e,t)}class Cw extends ww{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Cw(e,t,"password")}static _fromEmailAndCode(e,t){return new Cw(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return mw(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",_w);case"emailLink":return async function(e,t){return kb(e,"POST","/v1/accounts:signInWithEmailLink",yb(e,t))}(e,{email:this._email,oobCode:this._password});default:tb(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return mw(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xw);case"emailLink":return async function(e,t){return kb(e,"POST","/v1/accounts:signInWithEmailLink",yb(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:tb(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Tw(e,t){return kb(e,"POST","/v1/accounts:signInWithIdp",yb(e,t))}class Nw extends ww{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Nw(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):tb("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=jy(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Nw(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Tw(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Tw(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Tw(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Qs(t)}return e}}const Aw={USER_NOT_FOUND:"user-not-found"};class Pw extends ww{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Pw({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Pw({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return kb(e,"POST","/v1/accounts:signInWithPhoneNumber",yb(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await kb(e,"POST","/v1/accounts:signInWithPhoneNumber",yb(e,t));if(n.temporaryProof)throw Sb(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return kb(e,"POST","/v1/accounts:signInWithPhoneNumber",yb(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Aw)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Pw({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Rw{constructor(e){var t,n,r,i,o,a;const s=Ys(Js(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);sb(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Ys(Js(e)).link,n=t?Ys(Js(t)).deep_link_id:null,r=Ys(Js(e)).deep_link_id;return(r?Ys(Js(r)).link:null)||r||n||t||e}(e);try{return new Rw(t)}catch(Ej){return null}}}class Ow{constructor(){this.providerId=Ow.PROVIDER_ID}static credential(e,t){return Cw._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Rw.parseLink(t);return sb(n,"argument-error"),Cw._fromEmailAndCode(e,n.code,n.tenantId)}}Ow.PROVIDER_ID="password",Ow.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ow.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Dw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Lw extends Dw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Mw extends Lw{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return sb("providerId"in t&&"signInMethod"in t,"argument-error"),Nw._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return sb(e.idToken||e.accessToken,"argument-error"),Nw._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Mw.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Mw.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:a,providerId:s}=t;if(!r&&!i&&!n&&!o)return null;if(!s)return null;try{return new Mw(s)._credential({idToken:n,accessToken:r,nonce:a,pendingToken:o})}catch(Sj){return null}}}class jw extends Lw{constructor(){super("facebook.com")}static credential(e){return Nw._fromParams({providerId:jw.PROVIDER_ID,signInMethod:jw.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jw.credentialFromTaggedObject(e)}static credentialFromError(e){return jw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return jw.credential(t.oauthAccessToken)}catch(Ej){return null}}}jw.FACEBOOK_SIGN_IN_METHOD="facebook.com",jw.PROVIDER_ID="facebook.com";class Fw extends Lw{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Nw._fromParams({providerId:Fw.PROVIDER_ID,signInMethod:Fw.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Fw.credentialFromTaggedObject(e)}static credentialFromError(e){return Fw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Fw.credential(n,r)}catch(Ej){return null}}}Fw.GOOGLE_SIGN_IN_METHOD="google.com",Fw.PROVIDER_ID="google.com";class Uw extends Lw{constructor(){super("github.com")}static credential(e){return Nw._fromParams({providerId:Uw.PROVIDER_ID,signInMethod:Uw.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Uw.credentialFromTaggedObject(e)}static credentialFromError(e){return Uw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Uw.credential(t.oauthAccessToken)}catch(Ej){return null}}}Uw.GITHUB_SIGN_IN_METHOD="github.com",Uw.PROVIDER_ID="github.com";class Vw extends ww{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Tw(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Tw(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Tw(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new Vw(n,i):null}static _create(e,t){return new Vw(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class zw extends Dw{constructor(e){sb(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return zw.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return zw.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Vw.fromJSON(e);return sb(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return Vw._create(r,n)}catch(Sj){return null}}}class Bw extends Lw{constructor(){super("twitter.com")}static credential(e,t){return Nw._fromParams({providerId:Bw.PROVIDER_ID,signInMethod:Bw.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Bw.credentialFromTaggedObject(e)}static credentialFromError(e){return Bw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Bw.credential(n,r)}catch(Ej){return null}}}async function qw(e,t){return kb(e,"POST","/v1/accounts:signUp",yb(e,t))}Bw.TWITTER_SIGN_IN_METHOD="twitter.com",Bw.PROVIDER_ID="twitter.com";class Gw{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Bb._fromIdTokenResponse(e,n,r),o=$w(n);return new Gw({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=$w(n);return new Gw({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function $w(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Kw extends qs{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Kw.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Kw(e,t,n,r)}}function Hw(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Kw._fromErrorAndOperation(e,n,t,r);throw n}))}function Ww(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function Qw(e,t){const n=nl(e);await Jw(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return bb(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=Ww(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function Yw(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Lb(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Gw._forOperation(e,"link",r)}async function Jw(e,t,n){await Fb(t);const r=!1===e?"provider-already-linked":"no-such-provider";sb(Ww(t.providerData).has(n)===e,t.auth,r)}async function Xw(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(wc(r.app))return Promise.reject(ib(r));const i="reauthenticate";try{const o=await Lb(e,Hw(r,i,t,e),n);sb(o.idToken,r,"internal-error");const a=Ob(o.idToken);sb(a,r,"internal-error");const{sub:s}=a;return sb(e.uid===s,r,"user-mismatch"),Gw._forOperation(e,i,o)}catch(Sj){throw"auth/user-not-found"===(null===Sj||void 0===Sj?void 0:Sj.code)&&tb(r,"user-mismatch"),Sj}}async function Zw(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(wc(e.app))return Promise.reject(ib(e));const r="signIn",i=await Hw(e,r,t),o=await Gw._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function ek(e,t){return Zw(cw(e),t)}async function tk(e,t){const n=nl(e);return await Jw(!1,n,t.providerId),Yw(n,t)}async function nk(e,t){return Xw(nl(e),t)}async function rk(e,t){if(wc(e.app))return Promise.reject(ib(e));const n=cw(e),r=await async function(e,t){return kb(e,"POST","/v1/accounts:signInWithCustomToken",yb(e,t))}(n,{token:t,returnSecureToken:!0}),i=await Gw._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class ik{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?ok._fromServerResponse(e,t):"totpInfo"in t?ak._fromServerResponse(e,t):tb(e,"internal-error")}}class ok extends ik{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new ok(t)}}class ak extends ik{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new ak(t)}}function sk(e,t,n){var r;sb((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),sb("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(sb(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(sb(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function lk(e){const t=cw(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function ck(e,t){await async function(e,t){return bb(e,"POST","/v1/accounts:update",yb(e,t))}(nl(e),{oobCode:t})}async function uk(e,t){const n=nl(e),r=await kw(n,{oobCode:t}),i=r.requestType;switch(sb(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":sb(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":sb(r.mfaInfo,n,"internal-error");default:sb(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=ik._fromServerResponse(cw(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function dk(e,t){const n={identifier:t,continueUri:db()?ub():"http://localhost"},{signinMethods:r}=await async function(e,t){return bb(e,"POST","/v1/accounts:createAuthUri",yb(e,t))}(nl(e),n);return r||[]}async function hk(e,t){const n=nl(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&sk(n.auth,r,t);const{email:i}=await async function(e,t){return Iw(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function fk(e,t,n){const r=nl(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&sk(r.auth,i,n);const{email:o}=await async function(e,t){return Iw(e,t)}(r.auth,i);o!==e.email&&await e.reload()}async function pk(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=nl(e),o={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await Lb(i,async function(e,t){return bb(e,"POST","/v1/accounts:update",t)}(i.auth,o));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const s=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));s&&(s.displayName=i.displayName,s.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}async function gk(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await Lb(e,async function(e,t){return bb(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(o,!0)}class mk{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class vk extends mk{constructor(e,t,n,r){super(e,t,n),this.username=r}}class yk extends mk{constructor(e,t){super(e,"facebook.com",t)}}class bk extends vk{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class wk extends mk{constructor(e,t){super(e,"google.com",t)}}class kk extends vk{constructor(e,t,n){super(e,"twitter.com",t,n)}}function xk(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=Ob(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new mk(o,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new yk(o,i);case"github.com":return new bk(o,i);case"google.com":return new wk(o,i);case"twitter.com":return new kk(o,i,e.screenName||null);case"custom":case"anonymous":return new mk(o,null);default:return new mk(o,r,i)}}(n)}class _k{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new _k("enroll",e,t)}static _fromMfaPendingCredential(e){return new _k("signin",e)}toJSON(){const e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:{[e]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return _k._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return _k._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Ik{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=cw(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>ik._fromServerResponse(n,e)));sb(r.mfaPendingCredential,n,"internal-error");const o=_k._fromMfaPendingCredential(r.mfaPendingCredential);return new Ik(o,i,(async e=>{const i=await e._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const a=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await Gw._fromIdTokenResponse(n,t.operationType,a);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return sb(t.user,n,"internal-error"),Gw._forOperation(t.user,t.operationType,a);default:tb(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class Sk{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>ik._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new Sk(e)}async getSession(){return _k._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await Lb(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await Lb(this.user,function(e,t){return bb(e,"POST","/v2/accounts/mfaEnrollment:withdraw",yb(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(Sj){throw Sj}}}const Ek=new WeakMap;const Ck="__sak";class Tk{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ck,"1"),this.storage.removeItem(Ck),Promise.resolve(!0)):Promise.resolve(!1)}catch(Ej){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Nk extends Tk{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Us()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Nk.type="LOCAL";const Ak=Nk;class Pk extends Tk{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Pk.type="SESSION";const Rk=Pk;class Ok{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Ok(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map((async e=>e(t.origin,i))),s=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Dk(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ok.receivers=[];class Lk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((a,s)=>{const l=Dk("",20);r.port1.start();const c=setTimeout((()=>{s(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function Mk(){return window}function jk(){return"undefined"!==typeof Mk().WorkerGlobalScope&&"function"===typeof Mk().importScripts}const Fk="firebaseLocalStorageDb",Uk="firebaseLocalStorage",Vk="fbase_key";class zk{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Bk(e,t){return e.transaction([Uk],t?"readwrite":"readonly").objectStore(Uk)}function qk(){const e=indexedDB.open(Fk,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Uk,{keyPath:Vk})}catch(Sj){n(Sj)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Uk)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Fk);return new zk(e).toPromise()}(),t(await qk()))}))}))}async function Gk(e,t,n){const r=Bk(e,!0).put({[Vk]:t,value:n});return new zk(r).toPromise()}function $k(e,t){const n=Bk(e,!0).delete(t);return new zk(n).toPromise()}class Kk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await qk()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(Sj){if(t++>3)throw Sj;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ok._getInstance(jk()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Lk(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(Ej){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qk();return await Gk(e,Ck,"1"),await $k(e,Ck),!0}catch(Ej){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Gk(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Bk(e,!1).get(t),r=await new zk(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>$k(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Bk(e,!1).getAll();return new zk(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Kk.type="LOCAL";const Hk=Kk;const Wk=1e12;class Qk{constructor(e){this.auth=e,this.counter=Wk,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Yk(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Wk;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||Wk;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||Wk;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class Yk{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;sb(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(Sj){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(Sj){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Jk=fw("rcb"),Xk=new fb(3e4,6e4);class Zk{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=Mk().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return sb(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Eb(Mk().grecaptcha)?Promise.resolve(Mk().grecaptcha):new Promise(((n,r)=>{const i=Mk().setTimeout((()=>{r(nb(e,"network-request-failed"))}),Xk.get());Mk()[Jk]=()=>{Mk().clearTimeout(i),delete Mk()[Jk];const o=Mk().grecaptcha;if(!o||!Eb(o))return void r(nb(e,"internal-error"));const a=o.render;o.render=(e,t)=>{const n=a(e,t);return this.counter++,n},this.hostLanguage=t,n(o)};hw(`${dw.recaptchaV2Script}?${Qs({onload:Jk,render:"explicit",hl:t})}`).catch((()=>{clearTimeout(i),r(nb(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=Mk().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ex{async load(e){return new Qk(e)}clearedOneInstance(){}}const tx="recaptcha",nx={theme:"light",type:"image"};class rx{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},nx);this.parameters=n,this.type=tx,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=cw(e),this.isInvisible="invisible"===this.parameters.size,sb("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;sb(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ex:new Zk,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(Sj){return Promise.reject(Sj)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){sb(!this.parameters.sitekey,this.auth,"argument-error"),sb(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),sb("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=Mk()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){sb(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){sb(db()&&!jk(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await bb(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);sb(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return sb(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ix{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Pw._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function ox(e,t,n){var r;const i=await n.verify();try{let o;if(sb("string"===typeof i,e,"argument-error"),sb(n.type===tx,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){sb("enroll"===t.type,e,"internal-error");const n=await function(e,t){return bb(e,"POST","/v2/accounts/mfaEnrollment:start",yb(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{sb("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;sb(n,e,"missing-multi-factor-info");const a=await function(e,t){return bb(e,"POST","/v2/accounts/mfaSignIn:start",yb(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return bb(e,"POST","/v1/accounts:sendVerificationCode",yb(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class ax{constructor(e){this.providerId=ax.PROVIDER_ID,this.auth=cw(e)}verifyPhoneNumber(e,t){return ox(this.auth,e,nl(t))}static credential(e,t){return Pw._fromVerification(e,t)}static credentialFromResult(e){const t=e;return ax.credentialFromTaggedObject(t)}static credentialFromError(e){return ax.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Pw._fromTokenResponse(n,r):null}}function sx(e,t){return t?Gb(t):(sb(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ax.PROVIDER_ID="phone",ax.PHONE_SIGN_IN_METHOD="phone";class lx extends ww{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tw(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Tw(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Tw(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function cx(e){return Zw(e.auth,new lx(e),e.bypassAuthState)}function ux(e){const{auth:t,user:n}=e;return sb(n,t,"internal-error"),Xw(n,new lx(e),e.bypassAuthState)}async function dx(e){const{auth:t,user:n}=e;return sb(n,t,"internal-error"),Yw(n,new lx(e),e.bypassAuthState)}class hx{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Sj){this.reject(Sj)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(Sj){this.reject(Sj)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cx;case"linkViaPopup":case"linkViaRedirect":return dx;case"reauthViaPopup":case"reauthViaRedirect":return ux;default:tb(this.auth,"internal-error")}}resolve(e){cb(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cb(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const fx=new fb(2e3,1e4);class px extends hx{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,px.currentPopupAction&&px.currentPopupAction.cancel(),px.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return sb(e,this.auth,"internal-error"),e}async onExecution(){cb(1===this.filter.length,"Popup operations only handle one event");const e=Dk();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(nb(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(nb(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,px.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(nb(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,fx.get())};e()}}px.currentPopupAction=null;const gx=new Map;class mx extends hx{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=gx.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=wx(t),r=bx(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(Sj){e=()=>Promise.reject(Sj)}gx.set(this.auth._key(),e)}return this.bypassAuthState||gx.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function vx(e,t){return bx(e)._set(wx(t),"true")}function yx(e,t){gx.set(e._key(),t)}function bx(e){return Gb(e._redirectPersistence)}function wx(e){return Hb("pendingRedirect",e.config.apiKey,e.name)}function kx(e,t,n){return async function(e,t,n){if(wc(e.app))return Promise.reject(ib(e));const r=cw(e);ob(e,t,Dw),await r._initializationPromise;const i=sx(r,n);return await vx(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function xx(e,t,n){return async function(e,t,n){const r=nl(e);if(ob(r.auth,t,Dw),wc(r.auth.app))return Promise.reject(ib(r.auth));await r.auth._initializationPromise;const i=sx(r.auth,n);await vx(i,r.auth);const o=await Sx(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)}(e,t,n)}function _x(e,t,n){return async function(e,t,n){const r=nl(e);ob(r.auth,t,Dw),await r.auth._initializationPromise;const i=sx(r.auth,n);await Jw(!1,r,t.providerId),await vx(i,r.auth);const o=await Sx(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)}(e,t,n)}async function Ix(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(wc(e.app))return Promise.reject(ib(e));const r=cw(e),i=sx(r,t),o=new mx(r,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}async function Sx(e){const t=Dk(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class Ex{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tx(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Tx(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(nb(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cx(e))}saveEventToCache(e){this.cachedEventUids.add(Cx(e)),this.lastProcessedEventTime=Date.now()}}function Cx(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Tx(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}async function Nx(e){return bb(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const Ax=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Px=/^https?/;function Rx(e){const t=ub(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Px.test(n))return!1;if(Ax.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Ox=new fb(3e4,6e4);function Dx(){const e=Mk().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Lx(e){return new Promise(((t,n)=>{var r,i,o;function a(){Dx(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Dx(),n(nb(e,"network-request-failed"))},timeout:Ox.get()})}if(null===(i=null===(r=Mk().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Mk().gapi)||void 0===o?void 0:o.load)){const t=fw("iframefcb");return Mk()[t]=()=>{gapi.load?a():n(nb(e,"network-request-failed"))},hw(`${dw.gapiScript}?onload=${t}`).catch((e=>n(e)))}a()}})).catch((e=>{throw Mx=null,e}))}let Mx=null;const jx=new fb(5e3,15e3),Fx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ux=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vx(e){const t=e.config;sb(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?pb(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Sc},i=Ux.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Qs(r).slice(1)}`}async function zx(e){const t=await function(e){return Mx=Mx||Lx(e),Mx}(e),n=Mk().gapi;return sb(n,e,"internal-error"),t.open({where:document.body,url:Vx(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fx,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=nb(e,"network-request-failed"),o=Mk().setTimeout((()=>{r(i)}),jx.get());function a(){Mk().clearTimeout(o),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}const Bx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class qx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(Sj){}}}function Gx(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},Bx),{width:r.toString(),height:i.toString(),top:o,left:a}),c=Ds().toLowerCase();n&&(s=Xb(c)?"_blank":n),Yb(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return rw(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ds())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new qx(null);const d=window.open(t||"",s,u);sb(d,e,"popup-blocked");try{d.focus()}catch(Sj){}return new qx(d)}const $x="__/auth/handler",Kx="emulator/auth/handler",Hx=encodeURIComponent("fac");async function Wx(e,t,n,r,i,o){sb(e.config.authDomain,e,"auth-domain-config-required"),sb(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Sc,eventId:i};if(t instanceof Dw){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))a[e]=t}if(t instanceof Lw){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?`#${Hx}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${$x}`;return pb(t,Kx)}(e)}?${Qs(s).slice(1)}${c}`}const Qx="webStorageSupport";const Yx=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rk,this._completeRedirectFn=Ix,this._overrideRedirectResult=yx}async _openPopup(e,t,n,r){var i;cb(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Gx(e,await Wx(e,t,n,ub(),r),Dk())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Mk().location.href=e}(await Wx(e,t,n,ub(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(cb(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await zx(e),n=new Ex(e);return t.register("authEvent",(t=>{sb(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Qx,{type:Qx},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Qx];void 0!==i&&t(!!i),tb(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Nx(e);for(const n of t)try{if(Rx(n))return}catch(Ej){}tb(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return iw()||Jb()||rw()}};class Jx{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return lb("unexpected MultiFactorSessionType")}}}class Xx extends Jx{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Xx(e)}_finalizeEnroll(e,t,n){return function(e,t){return bb(e,"POST","/v2/accounts/mfaEnrollment:finalize",yb(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return bb(e,"POST","/v2/accounts/mfaSignIn:finalize",yb(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Zx{constructor(){}static assertion(e){return Xx._fromCredential(e)}}Zx.FACTOR_ID="phone";var e_="@firebase/auth",t_="1.7.9";class n_{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){sb(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=As())||void 0===t||t[`_${e}`]})("authIdTokenMaxAge");var r_;function i_(){return window}!function(e){dw=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=nb("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),r_="Browser",mc(new rl("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;sb(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:r_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ow(r_)},c=new lw(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Gb);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),mc(new rl("auth-internal",(e=>(e=>new n_(e))(cw(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Pc(e_,t_,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(r_)),Pc(e_,t_,"esm2017");async function o_(e,t,n){var r;const{BuildInfo:i}=i_();cb(t.sessionId,"AuthEvent did not contain a session ID");const o=await async function(e){const t=function(e){if(cb(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),a={};return rw()?a.ibi=i.packageName:ew()?a.apn=i.packageName:tb(e,"operation-not-supported-in-this-environment"),i.displayName&&(a.appDisplayName=i.displayName),a.sessionId=o,Wx(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,a)}function a_(e){const{cordova:t}=i_();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ds();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}class s_ extends Ex{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInitialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function l_(e){const t=await d_()._get(h_(e));return t&&await d_()._remove(h_(e)),t}function c_(e,t){var n,r;const i=function(e){const t=f_(e),n=t.link?decodeURIComponent(t.link):void 0,r=f_(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return f_(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=f_(i),o=t.firebaseError?function(e){try{return JSON.parse(e)}catch(Sj){return null}}(decodeURIComponent(t.firebaseError)):null,a=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=a?nb(a):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function u_(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function d_(){return Gb(Ak)}function h_(e){return Hb("authEvent",e.config.apiKey,e.name)}function f_(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return Ys(n.join("?"))}const p_=class{constructor(){this._redirectPersistence=Rk,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ix,this._overrideRedirectResult=yx}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new s_(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){tb(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,o,a,s,l,c,u;const d=i_();sb("function"===typeof(null===(t=null===d||void 0===d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),sb("undefined"!==typeof(null===(n=null===d||void 0===d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),sb("function"===typeof(null===(o=null===(i=null===(r=null===d||void 0===d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),sb("function"===typeof(null===(l=null===(s=null===(a=null===d||void 0===d?void 0:d.cordova)||void 0===a?void 0:a.plugins)||void 0===s?void 0:s.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),sb("function"===typeof(null===(u=null===(c=null===d||void 0===d?void 0:d.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),gx.clear(),await this._originValidation(e);const o=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:u_(),postBody:null,tenantId:e.tenantId,error:nb(e,"no-auth-event")}}(e,n,r);await function(e,t){return d_()._set(h_(e),t)}(e,o);const a=await o_(e,o,t);return async function(e,t,n){const{cordova:r}=i_();let i=()=>{};try{await new Promise(((o,a)=>{let s=null;function l(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function c(){s||(s=window.setTimeout((()=>{a(nb(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),ew()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),s&&window.clearTimeout(s)}}))}finally{i()}}(e,i,await a_(a))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=i_(),n={};rw()?n.iosBundleId=t.packageName:ew()?n.androidPackageName=t.packageName:tb(e,"operation-not-supported-in-this-environment"),await Nx(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=i_(),o=setTimeout((async()=>{await l_(e),t.onEvent(g_())}),500),a=async n=>{clearTimeout(o);const r=await l_(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=c_(r,n.url)),t.onEvent(i||g_())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,a);const s=r,l=`${i.packageName.toLowerCase()}://`;i_().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&a({url:e}),"function"===typeof s)try{s(e)}catch(Sj){console.error(Sj)}}}};function g_(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:nb("no-auth-event")}}function m_(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function v_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ds();return!("file:"!==m_()&&"ionic:"!==m_()&&"capacitor:"!==m_()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function y_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ds();return Us()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ds();return/Edge\/\d+/.test(e)}(e)}function b_(){try{const e=self.localStorage,t=Dk();if(e)return e.setItem(t,"1"),e.removeItem(t),!y_()||zs()}catch(Sj){return w_()&&zs()}return!1}function w_(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function k_(){return("http:"===m_()||"https:"===m_()||js()||v_())&&!(Fs()||Ls())&&b_()&&!w_()}function x_(){return v_()&&"undefined"!==typeof document}const __={LOCAL:"local",NONE:"none",SESSION:"session"},I_=sb,S_="persistence";async function E_(e){await e._initializationPromise;const t=C_(),n=Hb(S_,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function C_(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(Sj){return null}}const T_=sb;class N_{constructor(){this.browserResolver=Gb(Yx),this.cordovaResolver=Gb(p_),this.underlyingResolver=null,this._redirectPersistence=Rk,this._completeRedirectFn=Ix,this._overrideRedirectResult=yx}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return x_()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return T_(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!x_()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function A_(e){return e.unwrap()}function P_(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new L_(e,function(e,t){var n;const r=nl(e),i=t;return sb(t.customData.operationType,r,"argument-error"),sb(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Ik._fromError(r,i)}(e,t))}else if(r){const e=R_(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function R_(e){const{_tokenResponse:t}=e instanceof qs?e.customData:e;if(!t)return null;if(!(e instanceof qs)&&"temporaryProof"in t&&"phoneNumber"in t)return ax.credentialFromResult(e);const n=t.providerId;if(!n||n===zy)return null;let r;switch(n){case Vy:r=Fw;break;case Fy:r=jw;break;case Uy:r=Uw;break;case By:r=Bw;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:a,nonce:s}=t;return i||o||e||a?a?n.startsWith("saml.")?Vw._create(n,a):Nw._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:e,accessToken:i}):new Mw(n).credential({idToken:e,accessToken:i,rawNonce:s}):null}return e instanceof qs?r.credentialFromError(e):r.credentialFromResult(e)}function O_(e,t){return t.catch((t=>{throw t instanceof qs&&P_(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,R_(r)),additionalUserInfo:xk(e),user:M_.getOrCreate(n)};var r}))}async function D_(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>O_(e,n.confirm(t))}}class L_{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return O_(A_(this.auth),this.resolver.resolveSignIn(e))}}class M_{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=nl(e);return Ek.has(t)||Ek.set(t,Sk._fromUser(t)),Ek.get(t)}(e)}static getOrCreate(e){return M_.USER_MAP.has(e)||M_.USER_MAP.set(e,new M_(e)),M_.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return O_(this.auth,tk(this._delegate,e))}async linkWithPhoneNumber(e,t){return D_(this.auth,async function(e,t,n){const r=nl(e);await Jw(!1,r,"phone");const i=await ox(r.auth,t,nl(n));return new ix(i,(e=>tk(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return O_(this.auth,async function(e,t,n){const r=nl(e);ob(r.auth,t,Dw);const i=sx(r.auth,n);return new px(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,N_))}async linkWithRedirect(e){return await E_(cw(this.auth)),_x(this._delegate,e,N_)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return O_(this.auth,nk(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return D_(this.auth,async function(e,t,n){const r=nl(e);if(wc(r.auth.app))return Promise.reject(ib(r.auth));const i=await ox(r.auth,t,nl(n));return new ix(i,(e=>nk(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return O_(this.auth,async function(e,t,n){const r=nl(e);if(wc(r.auth.app))return Promise.reject(nb(r.auth,"operation-not-supported-in-this-environment"));ob(r.auth,t,Dw);const i=sx(r.auth,n);return new px(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,N_))}async reauthenticateWithRedirect(e){return await E_(cw(this.auth)),xx(this._delegate,e,N_)}sendEmailVerification(e){return hk(this._delegate,e)}async unlink(e){return await Qw(this._delegate,e),this}updateEmail(e){return function(e,t){const n=nl(e);return wc(n.auth.app)?Promise.reject(ib(n.auth)):gk(n,t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return gk(nl(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){const n=nl(e);if(wc(n.auth.app))return Promise.reject(ib(n.auth));await Yw(n,t)}(this._delegate,e)}updateProfile(e){return pk(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return fk(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}M_.USER_MAP=new WeakMap;const j_=sb;class F_{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;j_(n,"invalid-api-key",{appName:e.name}),j_(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?N_:void 0;this._delegate=t.initialize({options:{persistence:V_(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(Yy),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?M_.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){vw(this._delegate,e,t)}applyActionCode(e){return ck(this._delegate,e)}checkActionCode(e){return uk(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await kw(nl(e),{oobCode:t,newPassword:n}).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&lk(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return O_(this._delegate,async function(e,t,n){if(wc(e.app))return Promise.reject(ib(e));const r=cw(e),i=mw(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qw),o=await i.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&lk(e),t})),a=await Gw._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return dk(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=Rw.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){j_(k_(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await cw(e)._initializationPromise,Ix(e,t,!1)}(this._delegate,N_);return e?O_(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){cw(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:o}=U_(e,t,n);return this._delegate.onAuthStateChanged(r,i,o)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:o}=U_(e,t,n);return this._delegate.onIdTokenChanged(r,i,o)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=cw(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){sb(t.handleCodeInApp,r,"argument-error"),t&&sk(r,e,t)}(i,n),await mw(r,i,"getOobCode",Ew)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=cw(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&sk(r,i,n),await mw(r,i,"getOobCode",Sw)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){I_(Object.values(__).includes(t),e,"invalid-persistence-type"),Fs()?I_(t!==__.SESSION,e,"unsupported-persistence-type"):Ls()?I_(t===__.NONE,e,"unsupported-persistence-type"):w_()?I_(t===__.NONE||t===__.LOCAL&&zs(),e,"unsupported-persistence-type"):I_(t===__.NONE||b_(),e,"unsupported-persistence-type")}(this._delegate,e),e){case __.SESSION:t=Rk;break;case __.LOCAL:t=await Gb(Hk)._isAvailable()?Hk:Ak;break;case __.NONE:t=Kb;break;default:return tb("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return O_(this._delegate,async function(e){var t;if(wc(e.app))return Promise.reject(ib(e));const n=cw(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Gw({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await qw(n,{returnSecureToken:!0}),i=await Gw._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return O_(this._delegate,ek(this._delegate,e))}signInWithCustomToken(e){return O_(this._delegate,rk(this._delegate,e))}signInWithEmailAndPassword(e,t){return O_(this._delegate,function(e,t,n){return wc(e.app)?Promise.reject(ib(e)):ek(nl(e),Ow.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&lk(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return O_(this._delegate,async function(e,t,n){if(wc(e.app))return Promise.reject(ib(e));const r=nl(e),i=Ow.credentialWithLink(t,n||ub());return sb(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),ek(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return D_(this._delegate,async function(e,t,n){if(wc(e.app))return Promise.reject(ib(e));const r=cw(e),i=await ox(r,t,nl(n));return new ix(i,(e=>ek(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return j_(k_(),this._delegate,"operation-not-supported-in-this-environment"),O_(this._delegate,async function(e,t,n){if(wc(e.app))return Promise.reject(nb(e,"operation-not-supported-in-this-environment"));const r=cw(e);ob(e,t,Dw);const i=sx(r,n);return new px(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,N_))}async signInWithRedirect(e){return j_(k_(),this._delegate,"operation-not-supported-in-this-environment"),await E_(this._delegate),kx(this._delegate,e,N_)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await uk(nl(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function U_(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&M_.getOrCreate(e)),error:t,complete:n}}function V_(e,t){const n=function(e,t){const n=C_();if(!n)return[];const r=Hb(S_,e,t);switch(n.getItem(r)){case __.NONE:return[Kb];case __.LOCAL:return[Hk,Rk];case __.SESSION:return[Rk];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Hk)||n.push(Hk),"undefined"!==typeof window)for(const r of[Ak,Rk])n.includes(r)||n.push(r);return n.includes(Kb)||n.push(Kb),n}F_.Persistence=__;class z_{constructor(){this.providerId="phone",this._delegate=new ax(A_(xu.auth()))}static credential(e,t){return ax.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}z_.PHONE_SIGN_IN_METHOD=ax.PHONE_SIGN_IN_METHOD,z_.PROVIDER_ID=ax.PROVIDER_ID;const B_=sb;class q_{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xu.app();var r;B_(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new rx(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var G_;(G_=xu).INTERNAL.registerComponent(new rl("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new F_(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:qy,PASSWORD_RESET:Gy,RECOVER_EMAIL:$y,REVERT_SECOND_FACTOR_ADDITION:Ky,VERIFY_AND_CHANGE_EMAIL:Hy,VERIFY_EMAIL:Wy}},EmailAuthProvider:Ow,FacebookAuthProvider:jw,GithubAuthProvider:Uw,GoogleAuthProvider:Fw,OAuthProvider:Mw,SAMLAuthProvider:zw,PhoneAuthProvider:z_,PhoneMultiFactorGenerator:Zx,RecaptchaVerifier:q_,TwitterAuthProvider:Bw,Auth:F_,AuthCredential:ww,Error:qs}).setInstantiationMode("LAZY").setMultipleInstances(!1)),G_.registerVersion("@firebase/auth-compat","0.5.14");var $_=n(828),K_=n.n($_);n(586),n(181),n(411),n(367),n(595);(function(){(function(){var e,t,r="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)t=Object.setPrototypeOf;else{var i;e:{var o={};try{o.__proto__={xb:!0},i=o.xb;break e}catch(Qe){}i=!1}t=i?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var a=t;function s(e,t){if(e.prototype=r(t.prototype),e.prototype.constructor=e,a)a(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(t,n);i&&Object.defineProperty(e,n,i)}else e[n]=t[n];e.K=t.prototype}var l="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},c="undefined"!=typeof window&&window===this?this:"undefined"!=typeof n.g&&null!=n.g?n.g:this;function u(e,t){if(t){var n=c;e=e.split(".");for(var r=0;r<e.length-1;r++){var i=e[r];i in n||(n[i]={}),n=n[i]}(t=t(r=n[e=e[e.length-1]]))!=r&&null!=t&&l(n,e,{configurable:!0,writable:!0,value:t})}}u("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}})),u("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var r=n.length;for(0>(t=t||0)&&(t=Math.max(t+r,0));t<r;t++){var i=n[t];if(i===e||Object.is(i,e))return!0}return!1}}));var d=this;function h(e){return void 0!==e}function f(e){return"string"==typeof e}var p=/^[\w+/_-]+[=]{0,2}$/,g=null;function m(){}function v(e){e.W=void 0,e.Xa=function(){return e.W?e.W:e.W=new e}}function y(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t}function b(e){return"array"==y(e)}function w(e){var t=y(e);return"array"==t||"object"==t&&"number"==typeof e.length}function k(e){return"function"==y(e)}function x(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var _="closure_uid_"+(1e9*Math.random()>>>0),I=0;function S(e,t,n){return e.call.apply(e.bind,arguments)}function E(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function C(e,t,n){return(C=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?S:E).apply(null,arguments)}function T(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function N(e,t){for(var n in t)e[n]=t[n]}var A,P=Date.now||function(){return+new Date};function R(e,t){e=e.split(".");var n,r=d;e[0]in r||"undefined"==typeof r.execScript||r.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)!e.length&&h(t)?r[n]=t:r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}}function O(e,t){function n(){}n.prototype=t.prototype,e.K=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.vc=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function D(e){if(Error.captureStackTrace)Error.captureStackTrace(this,D);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function L(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");D.call(this,n+e[r])}function M(e,t){throw new L("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}O(D,Error),D.prototype.name="CustomError",O(L,D),L.prototype.name="AssertionError";var j=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(f(e))return f(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},F=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=f(e)?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};var U=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o=f(e)?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},V=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i=f(e)?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},z=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=f(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function B(e,t){return 0<=j(e,t)}function q(e,t){var n;return(n=0<=(t=j(e,t)))&&G(e,t),n}function G(e,t){return 1==Array.prototype.splice.call(e,t,1).length}function $(e,t){!function(e,t){for(var n=f(e)?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&G(e,r)&&0}))}function K(e){return Array.prototype.concat.apply([],arguments)}function H(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function W(e,t,n){return 2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,n)}var Q=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},Y=/&/g,J=/</g,X=/>/g,Z=/"/g,ee=/'/g,te=/\x00/g,ne=/[\x00&<>"']/;function re(e,t){return e<t?-1:e>t?1:0}function ie(e){return ne.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(Y,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(J,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(X,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(Z,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(ee,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(te,"&#0;"))),e}function oe(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ae(e){var t,n={};for(t in e)n[t]=e[t];return n}var se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<se.length;o++)n=se[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}var ce="StopIteration"in d?d.StopIteration:{message:"StopIteration",stack:""};function ue(){}function de(e){if(e instanceof ue)return e;if("function"==typeof e.ha)return e.ha(!1);if(w(e)){var t=0,n=new ue;return n.next=function(){for(;;){if(t>=e.length)throw ce;if(t in e)return e[t++];t++}},n}throw Error("Not implemented")}function he(e){if(w(e))return H(e);e=de(e);var t=[];return function(e,t){if(w(e))try{F(e,t,void 0)}catch(Je){if(Je!==ce)throw Je}else{e=de(e);try{for(;;)t.call(void 0,e.next(),void 0,e)}catch(n){if(n!==ce)throw n}}}(e,(function(e){t.push(e)})),t}function fe(e,t){this.g={},this.a=[],this.j=this.h=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof fe)for(n=e.ja(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function pe(e){if(e.h!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];ge(e.g,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.h!=e.a.length){var i={};for(n=t=0;t<e.a.length;)ge(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function ge(e,t){return Object.prototype.hasOwnProperty.call(e,t)}ue.prototype.next=function(){throw ce},ue.prototype.ha=function(){return this},(e=fe.prototype).la=function(){pe(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.g[this.a[t]]);return e},e.ja=function(){return pe(this),this.a.concat()},e.clear=function(){this.g={},this.j=this.h=this.a.length=0},e.get=function(e,t){return ge(this.g,e)?this.g[e]:t},e.set=function(e,t){ge(this.g,e)||(this.h++,this.a.push(e),this.j++),this.g[e]=t},e.forEach=function(e,t){for(var n=this.ja(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}},e.ha=function(e){pe(this);var t=0,n=this.j,r=this,i=new ue;return i.next=function(){if(n!=r.j)throw Error("The map has changed since the iterator was created");if(t>=r.a.length)throw ce;var i=r.a[t++];return e?i:r.g[i]},i};var me=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ve(e,t,n,r){for(var i=n.length;0<=(t=e.indexOf(n,t))&&t<r;){var o=e.charCodeAt(t-1);if((38==o||63==o)&&(!(o=e.charCodeAt(t+i))||61==o||38==o||35==o))return t;t+=i+1}return-1}var ye=/#|$/;function be(e,t){var n=e.search(ye),r=ve(e,0,t,n);if(0>r)return null;var i=e.indexOf("&",r);return(0>i||i>n)&&(i=n),r+=t.length+1,decodeURIComponent(e.substr(r,i-r).replace(/\+/g," "))}var we=/[?&]($|#)/;function ke(e,t){var n;this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1,e instanceof ke?(this.i=h(t)?t:e.i,xe(this,e.j),this.A=e.A,this.h=e.h,_e(this,e.C),this.g=e.g,Ie(this,Fe(e.a)),this.s=e.s):e&&(n=String(e).match(me))?(this.i=!!t,xe(this,n[1]||"",!0),this.A=Ee(n[2]||""),this.h=Ee(n[3]||"",!0),_e(this,n[4]),this.g=Ee(n[5]||"",!0),Ie(this,n[6]||"",!0),this.s=Ee(n[7]||"")):(this.i=!!t,this.a=new De(null,this.i))}function xe(e,t,n){e.j=n?Ee(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function _e(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.C=t}else e.C=null}function Ie(e,t,n){t instanceof De?(e.a=t,function(e,t){t&&!e.j&&(Le(e),e.h=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Me(this,t),Me(this,n),0<e.length&&(this.h=null,this.a.set(Ue(this,n),H(e)),this.g+=e.length))}),e)),e.j=t}(e.a,e.i)):(n||(t=Ce(t,Re)),e.a=new De(t,e.i))}function Se(e){return e instanceof ke?new ke(e):new ke(e,void 0)}function Ee(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ce(e,t,n){return f(e)?(e=encodeURI(e).replace(t,Te),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Te(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ke.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ce(t,Ne,!0),":");var n=this.h;return(n||"file"==t)&&(e.push("//"),(t=this.A)&&e.push(Ce(t,Ne,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.C)&&e.push(":",String(n))),(n=this.g)&&(this.h&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ce(n,"/"==n.charAt(0)?Pe:Ae,!0))),(n=this.a.toString())&&e.push("?",n),(n=this.s)&&e.push("#",Ce(n,Oe)),e.join("")};var Ne=/[#\/\?@]/g,Ae=/[#\?:]/g,Pe=/[#\?]/g,Re=/[#\?@]/g,Oe=/#/g;function De(e,t){this.g=this.a=null,this.h=e||null,this.j=!!t}function Le(e){e.a||(e.a=new fe,e.g=0,e.h&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.h,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Me(e,t){Le(e),t=Ue(e,t),ge(e.a.g,t)&&(e.h=null,e.g-=e.a.get(t).length,ge((e=e.a).g,t)&&(delete e.g[t],e.h--,e.j++,e.a.length>2*e.h&&pe(e)))}function je(e,t){return Le(e),t=Ue(e,t),ge(e.a.g,t)}function Fe(e){var t=new De;return t.h=e.h,e.a&&(t.a=new fe(e.a),t.g=e.g),t}function Ue(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ve(e){this.a=Se(e)}function ze(e){return e.a.a.get(Ge.Pa)||null}function Be(e,t){t?e.a.a.set(Ge.PROVIDER_ID,t):Me(e.a.a,Ge.PROVIDER_ID)}(e=De.prototype).add=function(e,t){Le(this),this.h=null,e=Ue(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.g+=1,this},e.clear=function(){this.a=this.h=null,this.g=0},e.forEach=function(e,t){Le(this),this.a.forEach((function(n,r){F(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.ja=function(){Le(this);for(var e=this.a.la(),t=this.a.ja(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.la=function(e){Le(this);var t=[];if(f(e))je(this,e)&&(t=K(t,this.a.get(Ue(this,e))));else{e=this.a.la();for(var n=0;n<e.length;n++)t=K(t,e[n])}return t},e.set=function(e,t){return Le(this),this.h=null,je(this,e=Ue(this,e))&&(this.g-=this.a.get(e).length),this.a.set(e,[t]),this.g+=1,this},e.get=function(e,t){return e&&0<(e=this.la(e)).length?String(e[0]):t},e.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var e=[],t=this.a.ja(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.la(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.h=e.join("&")},Ve.prototype.toString=function(){return this.a.toString()};var qe,Ge={Pa:"ui_auid",lc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"};e:{var Ke=d.navigator;if(Ke){var He=Ke.userAgent;if(He){qe=He;break e}}qe=""}function We(e){return-1!=qe.indexOf(e)}function Xe(){return(We("Chrome")||We("CriOS"))&&!We("Edge")}function Ze(e){return Ze[" "](e),e}Ze[" "]=m;var tt,rt=We("Opera"),it=We("Trident")||We("MSIE"),at=We("Edge"),st=at||it,lt=We("Gecko")&&!(-1!=qe.toLowerCase().indexOf("webkit")&&!We("Edge"))&&!(We("Trident")||We("MSIE"))&&!We("Edge"),ut=-1!=qe.toLowerCase().indexOf("webkit")&&!We("Edge"),dt=ut&&We("Mobile"),ht=We("Macintosh");function ft(){var e=d.document;return e?e.documentMode:void 0}e:{var pt="",gt=function(){var e=qe;return lt?/rv:([^\);]+)(\)|;)/.exec(e):at?/Edge\/([\d\.]+)/.exec(e):it?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ut?/WebKit\/(\S+)/.exec(e):rt?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(gt&&(pt=gt?gt[1]:""),it){var mt=ft();if(null!=mt&&mt>parseFloat(pt)){tt=String(mt);break e}}tt=pt}var vt,yt={};function wt(e){return function(e,t){var n=yt;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=Q(String(tt)).split("."),r=Q(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=re(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||re(0==a[2].length,0==s[2].length)||re(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}var kt=d.document;function xt(e,t){this.a=e===It&&t||"",this.g=_t}vt=kt&&it?ft()||("CSS1Compat"==kt.compatMode?parseInt(tt,10):5):void 0,xt.prototype.ma=!0,xt.prototype.ka=function(){return this.a},xt.prototype.toString=function(){return"Const{"+this.a+"}"};var _t={},It={};function St(){this.a="",this.h=Ct}function Et(e){return e instanceof St&&e.constructor===St&&e.h===Ct?e.a:(M("expected object of type TrustedResourceUrl, got '"+e+"' of type "+y(e)),"type_error:TrustedResourceUrl")}St.prototype.ma=!0,St.prototype.ka=function(){return this.a.toString()},St.prototype.g=function(){return 1},St.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ct={};function Tt(){this.a="",this.h=Ot}function Nt(e){return e instanceof Tt&&e.constructor===Tt&&e.h===Ot?e.a:(M("expected object of type SafeUrl, got '"+e+"' of type "+y(e)),"type_error:SafeUrl")}Tt.prototype.ma=!0,Tt.prototype.ka=function(){return this.a.toString()},Tt.prototype.g=function(){return 1},Tt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var At=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Pt(e){return e instanceof Tt?e:(e="object"==typeof e&&e.ma?e.ka():String(e),At.test(e)||(e="about:invalid#zClosurez"),Dt(e))}function Rt(e){return e instanceof Tt?e:(e="object"==typeof e&&e.ma?e.ka():String(e),At.test(e)||(e="about:invalid#zClosurez"),Dt(e))}var Ot={};function Dt(e){var t=new Tt;return t.a=e,t}function Lt(){this.a="",this.g=Mt}Dt("about:blank"),Lt.prototype.ma=!0;var Mt={};function jt(){this.a="",this.j=Ut,this.h=null}function Ft(e){return e instanceof jt&&e.constructor===jt&&e.j===Ut?e.a:(M("expected object of type SafeHtml, got '"+e+"' of type "+y(e)),"type_error:SafeHtml")}Lt.prototype.ka=function(){return this.a},Lt.prototype.toString=function(){return"SafeStyle{"+this.a+"}"},jt.prototype.g=function(){return this.h},jt.prototype.ma=!0,jt.prototype.ka=function(){return this.a.toString()},jt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ut={};function Vt(e,t){var n=new jt;return n.a=e,n.h=t,n}Vt("<!DOCTYPE html>",0);var zt=Vt("",0);Vt("<br>",0);var Bt=function(){var e,t=!1;return function(){return t||(e=function(){if("undefined"===typeof document)return!1;var e=document.createElement("div"),t=document.createElement("div");return t.appendChild(document.createElement("div")),e.appendChild(t),!!e.firstChild&&(t=e.firstChild.firstChild,e.innerHTML=Ft(zt),!t.parentElement)}(),t=!0),e}}();function qt(e,t){t=t instanceof Tt?t:Rt(t),e.assign(Nt(t))}function Gt(e,t){this.a=h(e)?e:0,this.g=h(t)?t:0}function $t(e,t){this.width=e,this.height=t}function Kt(e){return e?new nn(Zt(e)):A||(A=new nn)}function Ht(e,t){var n=t||document;return n.querySelectorAll&&n.querySelector?n.querySelectorAll("."+e):Qt(document,e,t)}function Wt(e,t){var n=t||document;if(n.getElementsByClassName)e=n.getElementsByClassName(e)[0];else{n=document;var r=t||n;e=r.querySelectorAll&&r.querySelector&&e?r.querySelector(e?"."+e:""):Qt(n,e,t)[0]||null}return e||null}function Qt(e,t,n){var r;if((e=n||e).querySelectorAll&&e.querySelector&&t)return e.querySelectorAll(t?"."+t:"");if(t&&e.getElementsByClassName){var i=e.getElementsByClassName(t);return i}if(i=e.getElementsByTagName("*"),t){var o={};for(n=r=0;e=i[n];n++){var a=e.className;"function"==typeof a.split&&B(a.split(/\s+/),t)&&(o[r++]=e)}return o.length=r,o}return i}Gt.prototype.toString=function(){return"("+this.a+", "+this.g+")"},Gt.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},Gt.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},Gt.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this},(e=$t.prototype).toString=function(){return"("+this.width+" x "+this.height+")"},e.aspectRatio=function(){return this.width/this.height},e.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},e.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},e.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};var Yt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Jt(e){return e.scrollingElement?e.scrollingElement:(ut||"CSS1Compat"!=e.compatMode)&&e.body||e.documentElement}function Xt(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Zt(e){return 9==e.nodeType?e:e.ownerDocument||e.document}function en(e,t){if("textContent"in e)e.textContent=t;else if(3==e.nodeType)e.data=String(t);else if(e.firstChild&&3==e.firstChild.nodeType){for(;e.lastChild!=e.firstChild;)e.removeChild(e.lastChild);e.firstChild.data=String(t)}else{for(var n;n=e.firstChild;)e.removeChild(n);e.appendChild(Zt(e).createTextNode(String(t)))}}function tn(e,t){return t?function(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}(e,(function(e){return!t||f(e.className)&&B(e.className.split(/\s+/),t)})):null}function nn(e){this.a=e||d.document||document}nn.prototype.N=function(){return f(void 0)?this.a.getElementById(void 0):void 0};var rn={Fc:!0},on={Hc:!0},an={Ec:!0},sn={Gc:!0};function ln(){throw Error("Do not instantiate directly")}function cn(e,t,n,r){if(e=e(t||dn,void 0,n),r=(r||Kt()).a.createElement("DIV"),(e=function(e){if(!x(e))return ie(String(e));if(e instanceof ln){if(e.fa===rn)return e.content;if(e.fa===sn)return ie(e.content)}return M("Soy template output is unsafe for use as HTML: "+e),"zSoyz"}(e)).match(un),e=Vt(e,null),Bt())for(;r.lastChild;)r.removeChild(r.lastChild);return r.innerHTML=Ft(e),1==r.childNodes.length&&(1==(e=r.firstChild).nodeType&&(r=e)),r}ln.prototype.va=null,ln.prototype.toString=function(){return this.content};var un=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,dn={};function hn(){ln.call(this)}function fn(e){return null!=e&&e.fa===rn?e:e instanceof jt?vn(Ft(e).toString(),e.g()):vn(ie(String(String(e))),function(e){if(null!=e)switch(e.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}(e))}function pn(){ln.call(this)}function gn(e,t){this.content=String(e),this.va=null!=t?t:null}function mn(e){return new gn(e,void 0)}O(hn,ln),hn.prototype.fa=rn,O(pn,ln),pn.prototype.fa=on,pn.prototype.va=1,O(gn,ln),gn.prototype.fa=sn;var vn=function(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e,n){return e=new t(String(e)),void 0!==n&&(e.va=n),e}}(hn),yn=function(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e){return new t(String(e))}}(pn);function bn(e){return(e=String(e))?new gn(e,void 0):""}var wn=function(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e,n){return(e=String(e))?(e=new t(e),void 0!==n&&(e.va=n),e):""}}(hn);function kn(e){return null!=e&&e.fa===rn?String(String(e.content).replace(Rn,"").replace(On,"&lt;")).replace(Tn,Sn):ie(String(e))}function xn(e){return null!=e&&e.fa===on?e=String(e).replace(Nn,Cn):e instanceof Tt?e=String(Nt(e).toString()).replace(Nn,Cn):(e=String(e),Pn.test(e)?e=e.replace(Nn,Cn):(M("Bad value `%s` for |filterNormalizeUri",[e]),e="#zSoyz")),e}function _n(e){return null!=e&&e.fa===an?e=e.content:null==e?e="":e instanceof Lt?e instanceof Lt&&e.constructor===Lt&&e.g===Mt?e=e.a:(M("expected object of type SafeStyle, got '"+e+"' of type "+y(e)),e="type_error:SafeStyle"):(e=String(e),An.test(e)||(M("Bad value `%s` for |filterCssValue",[e]),e="zSoyz")),e}var In={"\0":"&#0;","\t":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","\x85":"&#133;","\xa0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function Sn(e){return In[e]}var En={"\0":"%00","\x01":"%01","\x02":"%02","\x03":"%03","\x04":"%04","\x05":"%05","\x06":"%06","\x07":"%07","\b":"%08","\t":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","\x0e":"%0E","\x0f":"%0F","\x10":"%10","\x11":"%11","\x12":"%12","\x13":"%13","\x14":"%14","\x15":"%15","\x16":"%16","\x17":"%17","\x18":"%18","\x19":"%19","\x1a":"%1A","\x1b":"%1B","\x1c":"%1C","\x1d":"%1D","\x1e":"%1E","\x1f":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","\x7f":"%7F","\x85":"%C2%85","\xa0":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","\uff01":"%EF%BC%81","\uff03":"%EF%BC%83","\uff04":"%EF%BC%84","\uff06":"%EF%BC%86","\uff07":"%EF%BC%87","\uff08":"%EF%BC%88","\uff09":"%EF%BC%89","\uff0a":"%EF%BC%8A","\uff0b":"%EF%BC%8B","\uff0c":"%EF%BC%8C","\uff0f":"%EF%BC%8F","\uff1a":"%EF%BC%9A","\uff1b":"%EF%BC%9B","\uff1d":"%EF%BC%9D","\uff1f":"%EF%BC%9F","\uff20":"%EF%BC%A0","\uff3b":"%EF%BC%BB","\uff3d":"%EF%BC%BD"};function Cn(e){return En[e]}var Tn=/[\x00\x22\x27\x3c\x3e]/g,Nn=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,An=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,Pn=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,Rn=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,On=/</g;function Dn(){return mn("Enter a valid phone number")}function Ln(){return mn("Unable to send password reset code to specified email")}function Mn(){return mn("Something went wrong. Please try again.")}function jn(){return mn("This email already exists without any means of sign-in. Please reset the password to recover.")}function Fn(e){var t="";switch((e=e||{}).code){case"invalid-argument":t+="Client specified an invalid argument.";break;case"invalid-configuration":t+="Client specified an invalid project configuration.";break;case"failed-precondition":t+="Request can not be executed in the current system state.";break;case"out-of-range":t+="Client specified an invalid range.";break;case"unauthenticated":t+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":t+="Client does not have sufficient permission.";break;case"not-found":t+="Specified resource is not found.";break;case"aborted":t+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":t+="The resource that a client tried to create already exists.";break;case"resource-exhausted":t+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":t+="Request cancelled by the client.";break;case"data-loss":t+="Unrecoverable data loss or data corruption.";break;case"unknown":t+="Unknown server error.";break;case"internal":t+="Internal server error.";break;case"not-implemented":t+="API method not implemented by the server.";break;case"unavailable":t+="Service unavailable.";break;case"deadline-exceeded":t+="Request deadline exceeded.";break;case"auth/user-disabled":t+="The user account has been disabled by an administrator.";break;case"auth/timeout":t+="The operation has timed out.";break;case"auth/too-many-requests":t+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":t+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":t+="A network error has occurred. Try again later.";break;case"restart-process":t+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":t+="No sign-in provider is available for the given email, please try with a different email."}return mn(t)}function Un(){return mn("Please login again to perform this operation")}function Vn(e,t,n){var r=Error.call(this);if(this.message=r.message,"stack"in r&&(this.stack=r.stack),this.code=zn+e,!(e=t)){if(e="","firebaseui/merge-conflict"===this.code)e+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";else e+=Mn();e=mn(e).toString()}this.message=e||"",this.credential=n||null}s(Vn,Error),Vn.prototype.toJSON=function(){return{code:this.code,message:this.message}};var zn="firebaseui/";function Bn(){0!=qn&&(Gn[this[_]||(this[_]=++I)]=this),this.T=this.T,this.C=this.C}var qn=0,Gn={};function $n(e,t){e.T?h(void 0)?t.call(void 0):t():(e.C||(e.C=[]),e.C.push(h(void 0)?C(t,void 0):t))}function Kn(e){e&&"function"==typeof e.m&&e.m()}Bn.prototype.T=!1,Bn.prototype.m=function(){if(!this.T&&(this.T=!0,this.o(),0!=qn)){var e=this[_]||(this[_]=++I);if(0!=qn&&this.C&&0<this.C.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Gn[e]}},Bn.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};var Hn=Object.freeze||function(e){return e},Wn=!it||9<=Number(vt),Qn=it&&!wt("9"),Yn=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{d.addEventListener("test",m,t),d.removeEventListener("test",m,t)}catch(Je){}return e}();function Jn(e,t){this.type=e,this.g=this.target=t,this.h=!1,this.qb=!0}function Xn(e,t){if(Jn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(lt){e:{try{Ze(t.nodeName);var i=!0;break e}catch(Ye){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.keyCode=e.keyCode||0,this.key=e.key||"",this.j=e.charCode||("keypress"==n?e.keyCode:0),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=f(e.pointerType)?e.pointerType:Zn[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Jn.prototype.stopPropagation=function(){this.h=!0},Jn.prototype.preventDefault=function(){this.qb=!1},O(Xn,Jn);var Zn=Hn({2:"touch",3:"pen",4:"mouse"});Xn.prototype.stopPropagation=function(){Xn.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},Xn.prototype.preventDefault=function(){Xn.K.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Qn)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(ot){}};var er="closure_listenable_"+(1e6*Math.random()|0),tr=0;function nr(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.La=i,this.key=++tr,this.sa=this.Ia=!1}function rr(e){e.sa=!0,e.listener=null,e.proxy=null,e.src=null,e.La=null}function ir(e){this.src=e,this.a={},this.g=0}function or(e,t){var n=t.type;n in e.a&&q(e.a[n],t)&&(rr(t),0==e.a[n].length&&(delete e.a[n],e.g--))}function ar(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.sa&&o.listener==t&&o.capture==!!n&&o.La==r)return i}return-1}ir.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.g++);var a=ar(e,t,r,i);return-1<a?(t=e[a],n||(t.Ia=!1)):((t=new nr(t,this.src,o,!!r,i)).Ia=n,e.push(t)),t};var sr="closure_lm_"+(1e6*Math.random()|0),lr={};function cr(e,t,n,r,i){if(r&&r.once)return dr(e,t,n,r,i);if(b(t)){for(var o=0;o<t.length;o++)cr(e,t[o],n,r,i);return null}return n=wr(n),e&&e[er]?e.J.add(String(t),n,!1,x(r)?!!r.capture:!!r,i):ur(e,t,n,!1,r,i)}function ur(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=x(i)?!!i.capture:!!i,s=yr(e);if(s||(e[sr]=s=new ir(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=vr,t=Wn?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Yn||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(pr(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function dr(e,t,n,r,i){if(b(t)){for(var o=0;o<t.length;o++)dr(e,t[o],n,r,i);return null}return n=wr(n),e&&e[er]?e.J.add(String(t),n,!0,x(r)?!!r.capture:!!r,i):ur(e,t,n,!0,r,i)}function hr(e,t,n,r,i){if(b(t))for(var o=0;o<t.length;o++)hr(e,t[o],n,r,i);else r=x(r)?!!r.capture:!!r,n=wr(n),e&&e[er]?(e=e.J,(t=String(t).toString())in e.a&&(-1<(n=ar(o=e.a[t],n,r,i))&&(rr(o[n]),G(o,n),0==o.length&&(delete e.a[t],e.g--)))):e&&(e=yr(e))&&(t=e.a[t.toString()],e=-1,t&&(e=ar(t,n,r,i)),(n=-1<e?t[e]:null)&&fr(n))}function fr(e){if("number"!=typeof e&&e&&!e.sa){var t=e.src;if(t&&t[er])or(t.J,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(pr(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=yr(t))?(or(n,e),0==n.g&&(n.src=null,t[sr]=null)):rr(e)}}}function pr(e){return e in lr?lr[e]:lr[e]="on"+e}function gr(e,t,n,r){var i=!0;if((e=yr(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.sa&&(o=mr(o,r),i=i&&!1!==o)}return i}function mr(e,t){var n=e.listener,r=e.La||e.src;return e.Ia&&fr(e),n.call(r,t)}function vr(e,t){if(e.sa)return!0;if(!Wn){if(!t)e:{t=["window","event"];for(var n=d,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Xn(r=t,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(ct){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.g;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;!t.h&&0<=i;i--){t.g=r[i];var o=gr(r[i],e,!0,t);n=n&&o}for(i=0;!t.h&&i<r.length;i++)t.g=r[i],o=gr(r[i],e,!1,t),n=n&&o}return n}return mr(e,new Xn(t,this))}function yr(e){return(e=e[sr])instanceof ir?e:null}var br="__closure_events_fn_"+(1e9*Math.random()>>>0);function wr(e){return k(e)?e:(e[br]||(e[br]=function(t){return e.handleEvent(t)}),e[br])}function kr(){Bn.call(this),this.J=new ir(this),this.wb=this,this.Ha=null}function xr(e,t){var n,r=e.Ha;if(r)for(n=[];r;r=r.Ha)n.push(r);if(e=e.wb,r=t.type||t,f(t))t=new Jn(t,e);else if(t instanceof Jn)t.target=t.target||e;else{var i=t;le(t=new Jn(r,e),i)}if(i=!0,n)for(var o=n.length-1;!t.h&&0<=o;o--){var a=t.g=n[o];i=_r(a,r,!0,t)&&i}if(t.h||(i=_r(a=t.g=e,r,!0,t)&&i,t.h||(i=_r(a,r,!1,t)&&i)),n)for(o=0;!t.h&&o<n.length;o++)i=_r(a=t.g=n[o],r,!1,t)&&i;return i}function _r(e,t,n,r){if(!(t=e.J.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.sa&&a.capture==n){var s=a.listener,l=a.La||a.src;a.Ia&&or(e.J,a),i=!1!==s.call(l,r)&&i}}return i&&0!=r.qb}O(kr,Bn),kr.prototype[er]=!0,kr.prototype.Za=function(e){this.Ha=e},kr.prototype.removeEventListener=function(e,t,n,r){hr(this,e,t,n,r)},kr.prototype.o=function(){if(kr.K.o.call(this),this.J){var e,t=this.J;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)rr(n[r]);delete t.a[e],t.g--}}this.Ha=null};var Ir={},Sr=0;function Er(e,t){if(!e)throw Error("Event target element must be provided!");if(e=Tr(e),Ir[e]&&Ir[e].length)for(var n=0;n<Ir[e].length;n++)xr(Ir[e][n],t)}function Cr(e){var t=Tr(e.N());Ir[t]&&Ir[t].length&&(function(e,t){e:{for(var n=e.length,r=f(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}0<=t&&G(e,t)}(Ir[t],(function(t){return t==e})),Ir[t].length||delete Ir[t])}function Tr(e){return"undefined"===typeof e.a&&(e.a=Sr,Sr++),e.a}function Nr(e){if(!e)throw Error("Event target element must be provided!");kr.call(this),this.a=e}function Ar(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(ot){return!1}}function Pr(e,t){this.h=e,this.j=t,this.g=0,this.a=null}function Rr(e,t){e.j(t),100>e.g&&(e.g++,t.next=e.a,e.a=t)}function Or(){this.g=this.a=null}s(Nr,kr),Nr.prototype.N=function(){return this.a},Nr.prototype.register=function(){var e=Tr(this.N());Ir[e]?B(Ir[e],this)||Ir[e].push(this):Ir[e]=[this]},Pr.prototype.get=function(){if(0<this.g){this.g--;var e=this.a;this.a=e.next,e.next=null}else e=this.h();return e};var Dr,Lr,Mr=new Pr((function(){return new Fr}),(function(e){e.reset()}));function jr(){var e=Br,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.g=null),t.next=null),t}function Fr(){this.next=this.g=this.a=null}function Ur(e){d.setTimeout((function(){throw e}),0)}function Vr(e,t){Lr||function(){if(d.Promise&&d.Promise.resolve){var e=d.Promise.resolve(void 0);Lr=function(){e.then(qr)}}else Lr=function(){var e=qr;!k(d.setImmediate)||d.Window&&d.Window.prototype&&!We("Edge")&&d.Window.prototype.setImmediate==d.setImmediate?(Dr||(Dr=function(){var e=d.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!We("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.write(""),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=C((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!==typeof e&&!We("Trident")&&!We("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(h(n.next)){var e=(n=n.next).gb;n.gb=null,e()}},function(e){r.next={gb:e},r=r.next,t.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){d.setTimeout(e,0)}}()),Dr(e)):d.setImmediate(e)}}(),zr||(Lr(),zr=!0),Br.add(e,t)}Or.prototype.add=function(e,t){var n=Mr.get();n.set(e,t),this.g?this.g.next=n:this.a=n,this.g=n},Fr.prototype.set=function(e,t){this.a=e,this.g=t,this.next=null},Fr.prototype.reset=function(){this.next=this.g=this.a=null};var zr=!1,Br=new Or;function qr(){for(var e;e=jr();){try{e.a.call(e.g)}catch(ot){Ur(ot)}Rr(Mr,e)}zr=!1}function Gr(e){if(this.a=$r,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,e!=m)try{var t=this;e.call(void 0,(function(e){ni(t,Kr,e)}),(function(e){if(!(e instanceof li))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(nt){}ni(t,Hr,e)}))}catch(Je){ni(this,Hr,Je)}}var $r=0,Kr=2,Hr=3;function Wr(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}Wr.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var Qr=new Pr((function(){return new Wr}),(function(e){e.reset()}));function Yr(e,t,n){var r=Qr.get();return r.s=e,r.g=t,r.j=n,r}function Jr(e){if(e instanceof Gr)return e;var t=new Gr(m);return ni(t,Kr,e),t}function Xr(e){return new Gr((function(t,n){n(e)}))}function Zr(e,t){if(e.a==$r)if(e.h){var n=e.h;if(n.g){for(var r=0,i=null,o=null,a=n.g;a&&(a.h||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==$r&&1==r?Zr(n,t):(o?((r=o).next==n.j&&(n.j=r),r.next=r.next.next):ii(n),oi(n,i,Hr,t)))}e.h=null}else ni(e,Hr,t)}function ei(e,t){e.g||e.a!=Kr&&e.a!=Hr||ri(e),e.j?e.j.next=t:e.g=t,e.j=t}function ti(e,t,n,r){var i=Yr(null,null,null);return i.a=new Gr((function(e,o){i.s=t?function(n){try{var i=t.call(r,n);e(i)}catch(et){o(et)}}:e,i.g=n?function(t){try{var i=n.call(r,t);!h(i)&&t instanceof li?o(t):e(i)}catch(et){o(et)}}:o})),i.a.h=e,ei(e,i),i.a}function ni(e,t,n){if(e.a==$r){e===n&&(t=Hr,n=new TypeError("Promise cannot resolve to itself")),e.a=1;e:{var r=n,i=e.hc,o=e.ic;if(r instanceof Gr){ei(r,Yr(i||m,o||null,e));var a=!0}else if(Ar(r))r.then(i,o,e),a=!0;else{if(x(r))try{var s=r.then;if(k(s)){!function(e,t,n,r,i){function o(e){s||(s=!0,r.call(i,e))}function a(e){s||(s=!0,n.call(i,e))}var s=!1;try{t.call(e,a,o)}catch(bt){o(bt)}}(r,s,i,o,e),a=!0;break e}}catch(bt){o.call(e,bt),a=!0;break e}a=!1}}a||(e.A=n,e.a=t,e.h=null,ri(e),t!=Hr||n instanceof li||function(e,t){e.s=!0,Vr((function(){e.s&&si.call(null,t)}))}(e,n))}}function ri(e){e.i||(e.i=!0,Vr(e.Hb,e))}function ii(e){var t=null;return e.g&&(t=e.g,e.g=t.next,t.next=null),e.g||(e.j=null),t}function oi(e,t,n,r){if(n==Hr&&t.g&&!t.h)for(;e&&e.s;e=e.h)e.s=!1;if(t.a)t.a.h=null,ai(t,n,r);else try{t.h?t.s.call(t.j):ai(t,n,r)}catch(Sj){si.call(null,Sj)}Rr(Qr,t)}function ai(e,t,n){t==Kr?e.s.call(e.j,n):e.g&&e.g.call(e.j,n)}Gr.prototype.then=function(e,t,n){return ti(this,k(e)?e:null,k(t)?t:null,n)},Gr.prototype.$goog_Thenable=!0,(e=Gr.prototype).fc=function(e,t){return(e=Yr(e,e,t)).h=!0,ei(this,e),this},e.Ca=function(e,t){return ti(this,null,e,t)},e.cancel=function(e){this.a==$r&&Vr((function(){Zr(this,new li(e))}),this)},e.hc=function(e){this.a=$r,ni(this,Kr,e)},e.ic=function(e){this.a=$r,ni(this,Hr,e)},e.Hb=function(){for(var e;e=ii(this);)oi(this,e,this.a,this.A);this.i=!1};var si=Ur;function li(e){D.call(this,e)}function ci(e,t,n){t||(t={}),n=n||window;var r=e instanceof Tt?e:Pt("undefined"!=typeof e.href?e.href:String(e));e=t.target||e.target;var i=[];for(o in t)switch(o){case"width":case"height":case"top":case"left":i.push(o+"="+t[o]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(o+"="+(t[o]?1:0))}var o=i.join(",");return(We("iPhone")&&!We("iPod")&&!We("iPad")||We("iPad")||We("iPod"))&&n.navigator&&n.navigator.standalone&&e&&"_self"!=e?(o=n.document.createElement("A"),r=r instanceof Tt?r:Rt(r),o.href=Nt(r),o.setAttribute("target",e),t.noreferrer&&o.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,n,1),o.dispatchEvent(t),n={}):t.noreferrer?(n=n.open("",e,o),t=Nt(r).toString(),n&&(st&&-1!=t.indexOf(";")&&(t="'"+t.replace(/'/g,"%27")+"'"),n.opener=null,t=Vt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+ie(t)+'">',null),n.document.write(Ft(t)),n.document.close())):(n=n.open(Nt(r).toString(),e,o))&&t.noopener&&(n.opener=null),n}function ui(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch(e){}return!1}function di(e){ci(e,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function hi(e,t){if(null==(e=x(e)&&1==e.nodeType?e:document.querySelector(String(e))))throw Error(t||"Cannot find element.");return e}function fi(){return window.location.href}function pi(e){var t=Si;this.s=[],this.T=t,this.O=e||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}function gi(e,t,n){e.a=!0,e.h=n,e.j=!t,bi(e)}function mi(e){if(e.a){if(!e.J)throw new wi(e);e.J=!1}}function vi(e,t,n){e.s.push([t,n,void 0]),e.a&&bi(e)}function yi(e){return z(e.s,(function(e){return k(e[1])}))}function bi(e){if(e.i&&e.a&&yi(e)){var t=e.i,n=_i[t];n&&(d.clearTimeout(n.a),delete _i[t]),e.i=0}e.g&&(e.g.C--,delete e.g),t=e.h;for(var r=n=!1;e.s.length&&!e.A;){var i=e.s.shift(),o=i[0],a=i[1];if(i=i[2],o=e.j?a:o)try{var s=o.call(i||e.O,t);h(s)&&(e.j=e.j&&(s==t||s instanceof Error),e.h=t=s),(Ar(t)||"function"===typeof d.Promise&&t instanceof d.Promise)&&(r=!0,e.A=!0)}catch(bt){t=bt,e.j=!0,yi(e)||(n=!0)}}e.h=t,r&&(s=C(e.L,e,!0),r=C(e.L,e,!1),t instanceof pi?(vi(t,s,r),t.l=!0):t.then(s,r)),n&&(t=new xi(t),_i[t.a]=t,e.i=t.a)}function wi(){D.call(this)}function ki(){D.call(this)}function xi(e){this.a=d.setTimeout(C(this.h,this),0),this.g=e}O(li,D),li.prototype.name="cancel",pi.prototype.cancel=function(e){if(this.a)this.h instanceof pi&&this.h.cancel();else{if(this.g){var t=this.g;delete this.g,e?t.cancel(e):(t.C--,0>=t.C&&t.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(e=new ki(this),mi(this),gi(this,!1,e))}},pi.prototype.L=function(e,t){this.A=!1,gi(this,e,t)},pi.prototype.callback=function(e){mi(this),gi(this,!0,e)},pi.prototype.then=function(e,t,n){var r,i,o=new Gr((function(e,t){r=e,i=t}));return vi(this,r,(function(e){e instanceof ki?o.cancel():i(e)})),o.then(e,t,n)},pi.prototype.$goog_Thenable=!0,O(wi,D),wi.prototype.message="Deferred has already fired",wi.prototype.name="AlreadyCalledError",O(ki,D),ki.prototype.message="Deferred was canceled",ki.prototype.name="CanceledError",xi.prototype.h=function(){throw delete _i[this.a],this.g};var _i={};function Ii(e){var t={},n=t.document||document,r=Et(e).toString(),i=document.createElement("SCRIPT"),o={rb:i,sb:void 0},a=new pi(o),s=null,l=null!=t.timeout?t.timeout:5e3;return 0<l&&(s=window.setTimeout((function(){Ei(i,!0);var e=new Ni(Ti,"Timeout reached for loading script "+r);mi(a),gi(a,!1,e)}),l),o.sb=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ei(i,t.xc||!1,s),a.callback(null))},i.onerror=function(){Ei(i,!0,s);var e=new Ni(Ci,"Error while loading script "+r);mi(a),gi(a,!1,e)},le(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),function(e,t){oe(t,(function(t,n){t&&"object"==typeof t&&t.ma&&(t=t.ka()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:Yt.hasOwnProperty(n)?e.setAttribute(Yt[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}(i,o),function(e,t){e.src=Et(t),null===g&&(g=(t=(t=d.document).querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&p.test(t)?t:""),(t=g)&&e.setAttribute("nonce",t)}(i,e),function(e){var t=(e||document).getElementsByTagName("HEAD");return t&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function Si(){if(this&&this.rb){var e=this.rb;e&&"SCRIPT"==e.tagName&&Ei(e,!0,this.sb)}}function Ei(e,t,n){null!=n&&d.clearTimeout(n),e.onload=m,e.onerror=m,e.onreadystatechange=m,t&&window.setTimeout((function(){Xt(e)}),0)}var Ci=0,Ti=1;function Ni(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),D.call(this,n),this.code=e}function Ai(){return d.google&&d.google.accounts&&d.google.accounts.id||null}function Pi(e){this.a=e||Ai(),this.h=!1,this.g=null}function Ri(e,t,n){return e.a&&t?(e.h=!0,new Gr((function(r){e.g=r,e.a.initialize({client_id:t,callback:r,auto_select:!n}),e.a.prompt()}))):Jr(t?Di.Xa().load().then((function(){return e.a=Ai(),Ri(e,t,n)})).Ca((function(){return null})):null)}O(Ni,D),Pi.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())},v(Pi);var Oi=new xt(It,"https://accounts.google.com/gsi/client");function Di(){this.a=null}function Li(e,t){this.a=e,this.g=t||function(e){throw e}}function Mi(e,t,n){this.reset(e,t,n,void 0,void 0)}Di.prototype.load=function(){var e=this;if(this.a)return this.a;var t=function(){var e=Oi;e instanceof xt&&e.constructor===xt&&e.g===_t?e=e.a:(M("expected object of type Const, got '"+e+"'"),e="type_error:Const");var t=new St;return t.a=e,t}();return Ai()?Jr():this.a=function(){var e=null;return new Gr((function(t){"complete"==d.document.readyState?t():(e=function(){t()},dr(window,"load",e))})).Ca((function(t){throw hr(window,"load",e),t}))}().then((function(){if(!Ai())return new Gr((function(n,r){var i=setTimeout((function(){e.a=null,r(Error("Network error!"))}),1e4);d.onGoogleLibraryLoad=function(){clearTimeout(i),n()},Jr(Ii(t)).then((function(){Ai()&&n()})).Ca((function(t){clearTimeout(i),e.a=null,r(t)}))}))}))},v(Di),Li.prototype.confirm=function(e){return Jr(this.a.confirm(e)).Ca(this.g)},Mi.prototype.a=null;function ji(e){this.s=e,this.a=this.h=this.j=this.g=null}function Fi(e,t){this.name=e,this.value=t}Mi.prototype.reset=function(e,t,n,r,i){"number"==typeof i||0,this.h=r||P(),this.j=e,this.s=t,this.g=n,delete this.a},Fi.prototype.toString=function(){return this.name};var Ui=new Fi("SEVERE",1e3),Vi=new Fi("WARNING",900),zi=new Fi("CONFIG",700);function Bi(e){return e.j?e.j:e.g?Bi(e.g):(M("Root logger has no level set."),null)}ji.prototype.log=function(e,t,n){if(e.value>=Bi(this).value)for(k(t)&&(t=t()),e=new Mi(e,String(t),this.s),n&&(e.a=n),n=this;n;){var r=n,i=e;if(r.a)for(var o=0;t=r.a[o];o++)t(i);n=n.g}};var qi={},Gi=null;function $i(){Gi||(Gi=new ji(""),qi[""]=Gi,Gi.j=zi)}function Ki(){this.a=P()}var Hi=null;function Wi(e){this.j=e||"",Hi||(Hi=new Ki),this.s=Hi}function Qi(e){return 10>e?"0"+e:String(e)}function Yi(e){Wi.call(this,e)}function Ji(){this.s=C(this.h,this),this.a=new Yi,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}Ki.prototype.set=function(e){this.a=e},Ki.prototype.reset=function(){this.set(P())},Ki.prototype.get=function(){return this.a},Wi.prototype.a=!0,Wi.prototype.g=!0,Wi.prototype.h=!1,O(Yi,Wi),Ji.prototype.h=function(e){if(!this.j[e.g]){var t=function(e,t){var n=[];if(n.push(e.j," "),e.g){var r=new Date(t.h);n.push("[",Qi(r.getFullYear()-2e3)+Qi(r.getMonth()+1)+Qi(r.getDate())+" "+Qi(r.getHours())+":"+Qi(r.getMinutes())+":"+Qi(r.getSeconds())+"."+Qi(Math.floor(r.getMilliseconds()/10)),"] ")}return n.push("[",function(e,t){t=(e=(e.h-t)/1e3).toFixed(3);var n=0;if(1>e)n=2;else for(;100>e;)n++,e*=10;for(;0<n--;)t=" "+t;return t}(t,e.s.get()),"s] "),n.push("[",t.g,"] "),n.push(t.s),e.h&&(t=t.a)&&n.push("\n",t instanceof Error?t.message:t.toString()),e.a&&n.push("\n"),n.join("")}(this.a,e),n=Zi;if(n){var r=function(e){if(e){if(e.value>=Ui.value)return"error";if(e.value>=Vi.value)return"warn";if(e.value>=zi.value)return"log"}return"debug"}(e.j);!function(e,t,n,r){e[t]?e[t](n,r||""):e.log(n,r||"")}(n,r,t,e.a)}}};var Xi,Zi=d.console;function eo(e,t){Xi&&Xi.log(Ui,e,t)}Xi=function e(t){var n;if($i(),!(n=qi[t])){n=new ji(t);var r=t.lastIndexOf("."),i=t.substr(r+1);(r=e(t.substr(0,r))).h||(r.h={}),r.h[i]=n,n.g=r,qi[t]=n}return n}("firebaseui");var to=new Ji;if(1!=to.g){var no;$i(),no=Gi;var ro=to.s;no.a||(no.a=[]),no.a.push(ro),to.g=!0}function io(e){Xi&&Xi.log(Vi,e,void 0)}function oo(){this.a=("undefined"==typeof document?null:document)||{cookie:""}}function ao(e){e=(e.a.cookie||"").split(";");for(var t,n,r=[],i=[],o=0;o<e.length;o++)-1==(t=(n=Q(e[o])).indexOf("="))?(r.push(""),i.push(n)):(r.push(n.substring(0,t)),i.push(n.substring(t+1)));return{keys:r,values:i}}(e=oo.prototype).set=function(e,t,n,r,i,o){if(/[;=\s]/.test(e))throw Error('Invalid cookie name "'+e+'"');if(/[;\r\n]/.test(t))throw Error('Invalid cookie value "'+t+'"');h(n)||(n=-1),i=i?";domain="+i:"",r=r?";path="+r:"",o=o?";secure":"",n=0>n?"":0==n?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(P()+1e3*n).toUTCString(),this.a.cookie=e+"="+t+i+r+n+o},e.get=function(e,t){for(var n,r=e+"=",i=(this.a.cookie||"").split(";"),o=0;o<i.length;o++){if(0==(n=Q(i[o])).lastIndexOf(r,0))return n.substr(r.length);if(n==e)return""}return t},e.ja=function(){return ao(this).keys},e.la=function(){return ao(this).values},e.clear=function(){for(var e=ao(this).keys,t=e.length-1;0<=t;t--){var n=e[t];this.get(n),this.set(n,"",0,void 0,void 0)}};var so=new oo;function lo(){}function co(e,t,n,r){this.h="undefined"!==typeof e&&null!==e?e:-1,this.g=t||null,this.a=n||null,this.j=!!r}function uo(e,t){this.g=e,this.a=t||null}function ho(e){return{email:e.g,credential:e.a&&e.a.toJSON()}}function fo(e){if(e&&e.email){var t=e.credential&&xu.auth.AuthCredential.fromJSON(e.credential);return new uo(e.email,t)}return null}function po(e){this.a=e||null}function go(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);255<i&&(t[n++]=255&i,i>>=8),t[n++]=i}return t}function mo(e){return V(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}function vo(e){for(this.i=e,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(yo*(this.j+1)),e=0;e<this.g;e++)this.a[e]=[this.i[4*e],this.i[4*e+1],this.i[4*e+2],this.i[4*e+3]];var t=Array(4);for(e=this.g;e<yo*(this.j+1);e++){if(t[0]=this.a[e-1][0],t[1]=this.a[e-1][1],t[2]=this.a[e-1][2],t[3]=this.a[e-1][3],0==e%this.g){var n=t,r=n[0];n[0]=n[1],n[1]=n[2],n[2]=n[3],n[3]=r,So(t),t[0]^=To[e/this.g][0],t[1]^=To[e/this.g][1],t[2]^=To[e/this.g][2],t[3]^=To[e/this.g][3]}else 6<this.g&&4==e%this.g&&So(t);this.a[e]=Array(4),this.a[e][0]=this.a[e-this.g][0]^t[0],this.a[e][1]=this.a[e-this.g][1]^t[1],this.a[e][2]=this.a[e-this.g][2]^t[2],this.a[e][3]=this.a[e-this.g][3]^t[3]}}s(co,lo),co.prototype.set=function(e,t){so.set(e,t,this.h,this.g,this.a,this.j)},co.prototype.get=function(e){return so.get(e)||null},co.prototype.ra=function(e){var t=this.g,n=this.a;so.get(e),so.set(e,"",0,t,n)},vo.prototype.A=16;var yo=vo.prototype.A/4;function bo(e,t){for(var n,r=0;r<yo;r++)for(var i=0;4>i;i++)n=t[n=4*i+r],e.h[r][i]=n}function wo(e){for(var t=[],n=0;n<yo;n++)for(var r=0;4>r;r++)t[4*r+n]=e.h[n][r];return t}function ko(e,t){for(var n=0;4>n;n++)for(var r=0;4>r;r++)e.h[n][r]^=e.a[4*t+r][n]}function xo(e,t){for(var n=0;4>n;n++)for(var r=0;4>r;r++)e.h[n][r]=t[e.h[n][r]]}function _o(e){for(var t=1;4>t;t++)for(var n=0;4>n;n++)e.s[t][n]=e.h[t][n];for(t=1;4>t;t++)for(n=0;4>n;n++)e.h[t][n]=e.s[t][(n+t)%yo]}function Io(e){for(var t=1;4>t;t++)for(var n=0;4>n;n++)e.s[t][(n+t)%yo]=e.h[t][n];for(t=1;4>t;t++)for(n=0;4>n;n++)e.h[t][n]=e.s[t][n]}function So(e){e[0]=Eo[e[0]],e[1]=Eo[e[1]],e[2]=Eo[e[2]],e[3]=Eo[e[3]]}var Eo=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Co=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],To=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],No=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],Ao=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],Po=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],Ro=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],Oo=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],Do=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function Lo(e,t){e=new vo(jo(e));for(var n,r=(t=go(t)).splice(0,16),i="";r.length;){n=16-r.length;for(var o=0;o<n;o++)r.push(0);for(bo(n=e,r),ko(n,0),r=1;r<n.j;++r){xo(n,Eo),_o(n),o=n.h;for(var a=n.s[0],s=0;4>s;s++)a[0]=o[0][s],a[1]=o[1][s],a[2]=o[2][s],a[3]=o[3][s],o[0][s]=No[a[0]]^Ao[a[1]]^a[2]^a[3],o[1][s]=a[0]^No[a[1]]^Ao[a[2]]^a[3],o[2][s]=a[0]^a[1]^No[a[2]]^Ao[a[3]],o[3][s]=Ao[a[0]]^a[1]^a[2]^No[a[3]];ko(n,r)}xo(n,Eo),_o(n),ko(n,n.j),i+=mo(wo(n)),r=t.splice(0,16)}return i}function Mo(e,t){e=new vo(jo(e));for(var n=[],r=0;r<t.length;r+=2)n.push(parseInt(t.substring(r,r+2),16));var i=n.splice(0,16);for(t="";i.length;){for(bo(r=e,i),ko(r,r.j),i=1;i<r.j;++i){Io(r),xo(r,Co),ko(r,r.j-i);for(var o=r.h,a=r.s[0],s=0;4>s;s++)a[0]=o[0][s],a[1]=o[1][s],a[2]=o[2][s],a[3]=o[3][s],o[0][s]=Do[a[0]]^Ro[a[1]]^Oo[a[2]]^Po[a[3]],o[1][s]=Po[a[0]]^Do[a[1]]^Ro[a[2]]^Oo[a[3]],o[2][s]=Oo[a[0]]^Po[a[1]]^Do[a[2]]^Ro[a[3]],o[3][s]=Ro[a[0]]^Oo[a[1]]^Po[a[2]]^Do[a[3]]}if(Io(r),xo(r,Co),ko(r,0),8192>=(r=wo(r)).length)r=String.fromCharCode.apply(null,r);else{for(i="",o=0;o<r.length;o+=8192)i+=String.fromCharCode.apply(null,W(r,o,o+8192));r=i}t+=r,i=n.splice(0,16)}return t.replace(/(\x00)+$/,"")}function jo(e){for(var t=32-(e=go(e.substring(0,32))).length,n=0;n<t;n++)e.push(0);return e}function Fo(e){var t=[];return Vo(new Uo,e,t),t.join("")}function Uo(){}function Vo(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(b(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),Vo(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&("function"!=typeof(o=t[r])&&(n.push(i),qo(r,n),n.push(":"),Vo(e,o,n),i=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":qo(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}var zo={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Bo=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function qo(e,t){t.push('"',e.replace(Bo,(function(e){var t=zo[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),zo[e]=t),t})),'"')}function Go(e){this.a=e}function $o(){}function Ko(e){this.a=e}function Ho(e){if(!e.a)return!1;try{return e.a.setItem("__sak","1"),e.a.removeItem("__sak"),!0}catch(ot){return!1}}function Wo(){var e=null;try{e=window.localStorage||null}catch(ot){}this.a=e}function Qo(){var e=null;try{e=window.sessionStorage||null}catch(ot){}this.a=e}function Yo(e,t){this.g=e,this.a=t+"::"}Go.prototype.set=function(e,t){h(t)?this.a.set(e,Fo(t)):this.a.ra(e)},Go.prototype.get=function(e){try{var t=this.a.get(e)}catch(Je){return}if(null!==t)try{return JSON.parse(t)}catch(n){throw"Storage: Invalid value was encountered"}},O($o,lo),$o.prototype.clear=function(){var e=he(this.ha(!0)),t=this;F(e,(function(e){t.ra(e)}))},O(Ko,$o),(e=Ko.prototype).set=function(e,t){try{this.a.setItem(e,t)}catch(Je){if(0==this.a.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded"}},e.get=function(e){if(!f(e=this.a.getItem(e))&&null!==e)throw"Storage mechanism: Invalid value was encountered";return e},e.ra=function(e){this.a.removeItem(e)},e.ha=function(e){var t=0,n=this.a,r=new ue;return r.next=function(){if(t>=n.length)throw ce;var r=n.key(t++);if(e)return r;if(!f(r=n.getItem(r)))throw"Storage mechanism: Invalid value was encountered";return r},r},e.clear=function(){this.a.clear()},e.key=function(e){return this.a.key(e)},O(Wo,Ko),O(Qo,Ko),O(Yo,$o),Yo.prototype.set=function(e,t){this.g.set(this.a+e,t)},Yo.prototype.get=function(e){return this.g.get(this.a+e)},Yo.prototype.ra=function(e){this.g.ra(this.a+e)},Yo.prototype.ha=function(e){var t=this.g.ha(!0),n=this,r=new ue;return r.next=function(){for(var r=t.next();r.substr(0,n.a.length)!=n.a;)r=t.next();return e?r.substr(n.a.length):n.g.get(r)},r},Ho(new Wo);var Jo=new Qo,Xo=new Go(Ho(Jo)?new Yo(Jo,"firebaseui"):null),Zo={name:"pendingEmailCredential",storage:Xo},ea={name:"redirectStatus",storage:Xo},ta={name:"redirectUrl",storage:Xo},na={name:"emailForSignIn",storage:new Go(new co(3600,"/"))},ra={name:"pendingEncryptedCredential",storage:new Go(new co(3600,"/"))};function ia(e,t){return e.storage.get(t?e.name+":"+t:e.name)}function oa(e,t){e.storage.a.ra(t?e.name+":"+t:e.name)}function aa(e,t,n){e.storage.set(n?e.name+":"+n:e.name,t)}function sa(e){return ia(ta,e)||null}function la(e){return fo(e=ia(Zo,e)||null)}function ca(e){oa(Zo,e)}function ua(e,t){aa(Zo,ho(e),t)}function da(e){return(e=ia(ea,e)||null)&&"undefined"!==typeof e.tenantId?new po(e.tenantId):null}function ha(){this.W={}}function fa(e,t,n){if(t.toLowerCase()in e.W)throw Error("Configuration "+t+" has already been defined.");e.W[t.toLowerCase()]=n}function pa(e,t,n){if(!(t.toLowerCase()in e.W))throw Error("Configuration "+t+" is not defined.");e.W[t.toLowerCase()]=n}function ga(e,t){if(!(e=e.get(t)))throw Error("Configuration "+t+" is required.");return e}function ma(){this.g=void 0,this.a={}}function va(e,t,n,r){for(var i=0;i<t.length;i++){var o=t.charAt(i);e.a[o]||(e.a[o]=new ma),e=e.a[o]}if(r&&void 0!==e.g)throw Error('The collection already contains the key "'+t+'"');e.g=n}function ya(e,t){for(var n in void 0!==e.g&&t.push(e.g),e.a)ya(e.a[n],t)}function ba(e,t,n){for(var r in void 0!==e.g&&n.push(t),e.a)ba(e.a[r],t+r,n)}function wa(e){for(this.a=e,this.g=new ma,e=0;e<this.a.length;e++){var t=this.g.get("+"+this.a[e].b);t?t.push(this.a[e]):this.g.add("+"+this.a[e].b,[this.a[e]])}}function ka(e,t){var n={},r=0;for(void 0!==(e=e.g).g&&(n[r]=e.g);r<t.length;r++){var i=t.charAt(r);if(!(i in e.a))break;void 0!==(e=e.a[i]).g&&(n[r]=e.g)}for(var o in n)if(n.hasOwnProperty(o))return n[o];return[]}function xa(e){for(var t=0;t<Ea.length;t++)if(Ea[t].c===e)return Ea[t];return null}function _a(e){e=e.toUpperCase();for(var t=[],n=0;n<Ea.length;n++)Ea[n].f===e&&t.push(Ea[n]);return t}function Ia(e){if(0<e.length&&"+"==e.charAt(0)){e=e.substring(1);for(var t=[],n=0;n<Ea.length;n++)Ea[n].b==e&&t.push(Ea[n]);e=t}else e=_a(e);return e}function Sa(e){e.sort((function(e,t){return e.name.localeCompare(t.name,"en")}))}ha.prototype.get=function(e){if(!(e.toLowerCase()in this.W))throw Error("Configuration "+e+" is not defined.");return this.W[e.toLowerCase()]},(e=ma.prototype).set=function(e,t){va(this,e,t,!1)},e.add=function(e,t){va(this,e,t,!0)},e.get=function(e){e:{for(var t=this,n=0;n<e.length;n++)if(!(t=t.a[e.charAt(n)])){e=void 0;break e}e=t}return e?e.g:void 0},e.la=function(){var e=[];return ya(this,e),e},e.ja=function(){var e=[];return ba(this,"",e),e},e.clear=function(){this.a={},this.g=void 0};var Ea=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"\xc5land Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"C\xf4te d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Cura\xe7ao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"R\xe9union",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barth\xe9lemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"S\xe3o Tom\xe9 and Pr\xedncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];Sa(Ea);var Ca=new wa(Ea);function Ta(e,t){this.a=e,this.Aa=t}function Na(e){e=Q(e);var t=ka(Ca,e);return 0<t.length?new Ta("1"==t[0].b?"1-US-0":t[0].c,Q(e.substr(t[0].b.length+1))):null}function Aa(e){var t=xa(e.a);if(!t)throw Error("Country ID "+e.a+" not found.");return"+"+t.b+e.Aa}function Pa(e,t){for(var n=0;n<e.length;n++)if(!B(Ra,e[n])&&(null!==Oa&&e[n]in Oa||B(t,e[n])))return e[n];return null}var Ra=["emailLink","password","phone"],Oa={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function Da(){this.a=new ha,fa(this.a,"autoUpgradeAnonymousUsers"),fa(this.a,"callbacks"),fa(this.a,"credentialHelper",cs),fa(this.a,"immediateFederatedRedirect",!1),fa(this.a,"popupMode",!1),fa(this.a,"privacyPolicyUrl"),fa(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),fa(this.a,"queryParameterForWidgetMode","mode"),fa(this.a,"signInFlow"),fa(this.a,"signInOptions"),fa(this.a,"signInSuccessUrl"),fa(this.a,"siteName"),fa(this.a,"tosUrl"),fa(this.a,"widgetUrl"),fa(this.a,"adminRestrictedOperation")}function La(e){var t=!!e.a.get("autoUpgradeAnonymousUsers");return t&&!ns(e)&&eo('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),t}function Ma(e){e=e.a.get("signInOptions")||[];for(var t=[],n=0;n<e.length;n++){var r=e[n];(r=x(r)?r:{provider:r}).provider&&t.push(r)}return t}function ja(e,t){e=Ma(e);for(var n=0;n<e.length;n++)if(e[n].provider===t)return e[n];return null}function Fa(e){return Ma(e).map((function(e){return e.provider}))}function Ua(e,t){e=Va(e);for(var n=0;n<e.length;n++)if(e[n].providerId===t)return e[n];return null}function Va(e){return Ma(e).map((function(e){if(Oa[e.provider]||B(ps,e.provider)){for(var t in e={providerId:e.provider,S:e.providerName||null,V:e.fullLabel||null,ta:e.buttonColor||null,za:e.iconUrl?Nt(Pt(e.iconUrl)).toString():null})null===e[t]&&delete e[t];return e}return{providerId:e.provider,S:e.providerName||null,V:e.fullLabel||null,ta:e.buttonColor||null,za:e.iconUrl?Nt(Pt(e.iconUrl)).toString():null,Ob:e.loginHintKey||null}}))}function za(e){var t,n=ja(e,xu.auth.GoogleAuthProvider.PROVIDER_ID);if(t=n&&n.clientId){e:{if("http:"===(window.location&&window.location.protocol)||"https:"===(window.location&&window.location.protocol))for(r in e=e.a.get("credentialHelper"),us)if(us[r]===e){var r=us[r];break e}r=cs}t=r===ls}return t&&n.clientId||null}function Ba(e){return!!((e=ja(e,xu.auth.EmailAuthProvider.PROVIDER_ID))&&e.disableSignUp&&e.disableSignUp.status)}function qa(e){return!(!(e=e.a.get("adminRestrictedOperation")||null)||!e.status)}function Ga(e,t){return e=(e=ja(e,t))&&e.scopes,Array.isArray(e)?e:[]}function $a(e,t){return x(e=(e=ja(e,t))&&e.customParameters)?(e=ae(e),t===xu.auth.GoogleAuthProvider.PROVIDER_ID&&delete e.login_hint,t===xu.auth.GithubAuthProvider.PROVIDER_ID&&delete e.login,e):null}function Ka(e){if(!(e=ja(e,xu.auth.PhoneAuthProvider.PROVIDER_ID)))return null;var t=e.whitelistedCountries,n=e.blacklistedCountries;if("undefined"!==typeof t&&(!Array.isArray(t)||0==t.length))throw Error("WhitelistedCountries must be a non-empty array.");if("undefined"!==typeof n&&!Array.isArray(n))throw Error("BlacklistedCountries must be an array.");if(t&&n)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!t&&!n)return Ea;if(e=[],t){n={};for(var r=0;r<t.length;r++)for(var i=Ia(t[r]),o=0;o<i.length;o++)n[i[o].c]=i[o];for(var a in n)n.hasOwnProperty(a)&&e.push(n[a])}else{for(a={},t=0;t<n.length;t++)for(i=Ia(n[t]),r=0;r<i.length;r++)a[i[r].c]=i[r];for(i=0;i<Ea.length;i++)null!==a&&Ea[i].c in a||e.push(Ea[i])}return e}function Ha(e){return ga(e.a,"queryParameterForWidgetMode")}function Wa(e){var t=e.a.get("tosUrl")||null;if(e=e.a.get("privacyPolicyUrl")||null,t&&!e&&io("Privacy Policy URL is missing, the link will not be displayed."),t&&e){if("function"===typeof t)return t;if("string"===typeof t)return function(){di(t)}}return null}function Qa(e){var t=e.a.get("tosUrl")||null,n=e.a.get("privacyPolicyUrl")||null;if(n&&!t&&io("Term of Service URL is missing, the link will not be displayed."),t&&n){if("function"===typeof n)return n;if("string"===typeof n)return function(){di(n)}}return null}function Ya(e){return!(e=ja(e,xu.auth.EmailAuthProvider.PROVIDER_ID))||"undefined"===typeof e.requireDisplayName||!!e.requireDisplayName}function Ja(e){return!(!(e=ja(e,xu.auth.EmailAuthProvider.PROVIDER_ID))||e.signInMethod!==xu.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function Xa(e){var t=!!e.a.get("immediateFederatedRedirect"),n=Fa(e);return e=Za(e),t&&1==n.length&&!B(Ra,n[0])&&e==ds}function Za(e){for(var t in e=e.a.get("signInFlow"),hs)if(hs[t]==e)return hs[t];return ds}function es(e){return rs(e).signInSuccess||null}function ts(e){return rs(e).signInSuccessWithAuthResult||null}function ns(e){return rs(e).signInFailure||null}function rs(e){return e.a.get("callbacks")||{}}var is,os,as,ss,ls="googleyolo",cs="none",us={nc:ls,NONE:cs},ds="redirect",hs={qc:"popup",rc:ds},fs={mc:"callback",RECOVER_EMAIL:"recoverEmail",sc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",tc:"select",uc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},ps=["anonymous"],gs=["sitekey","tabindex","callback","expired-callback"],ms={};function vs(e,t,n,r){ms[e].apply(null,Array.prototype.slice.call(arguments,1))}function ys(e){return e.classList?e.classList:f(e=e.className)&&e.match(/\S+/g)||[]}function bs(e,t){return e.classList?e.classList.contains(t):B(ys(e),t)}function ws(e,t){e.classList?e.classList.add(t):bs(e,t)||(e.className+=0<e.className.length?" "+t:t)}function ks(e,t){e.classList?e.classList.remove(t):bs(e,t)&&(e.className=U(ys(e),(function(e){return e!=t})).join(" "))}function xs(e){var t=e.type;switch(f(t)&&t.toLowerCase()){case"checkbox":case"radio":return e.checked?e.value:null;case"select-one":return 0<=(t=e.selectedIndex)?e.options[t].value:null;case"select-multiple":t=[];for(var n,r=0;n=e.options[r];r++)n.selected&&t.push(n.value);return t.length?t:null;default:return null!=e.value?e.value:null}}function _s(e,t){var n=e.type;switch(f(n)&&n.toLowerCase()){case"checkbox":case"radio":e.checked=t;break;case"select-one":if(e.selectedIndex=-1,f(t))for(var r=0;n=e.options[r];r++)if(n.value==t){n.selected=!0;break}break;case"select-multiple":for(f(t)&&(t=[t]),r=0;n=e.options[r];r++)if(n.selected=!1,t)for(var i,o=0;i=t[o];o++)n.value==i&&(n.selected=!0);break;default:e.value=null!=t?t:""}}function Is(e,t,n,r,i,o){if(ut&&!wt("525"))return!0;if(ht&&i)return Ss(e);if(i&&!r)return!1;if(!lt&&("number"==typeof t&&(t=Es(t)),(!n||ht)&&(17==t||18==t||ht&&91==t)||ht&&16==t&&(r||o)))return!1;if((ut||at)&&r&&n)switch(e){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(it&&r&&t==e)return!1;switch(e){case 13:return!lt||!o&&!i&&!(n&&r);case 27:return!(ut||at||lt)}return(!lt||!(r||i||o))&&Ss(e)}function Ss(e){if(48<=e&&57>=e||96<=e&&106>=e||65<=e&&90>=e||(ut||at)&&0==e)return!0;switch(e){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return lt;default:return!1}}function Es(e){if(lt)e=function(e){switch(e){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return e}}(e);else if(ht&&ut&&93===e)e=91;return e}function Cs(e){kr.call(this),this.a=e,cr(e,"keydown",this.g,!1,this),cr(e,"click",this.h,!1,this)}function Ts(e,t){var n=new As(t);if(xr(e,n)){n=new Ns(t);try{xr(e,n)}finally{t.stopPropagation()}}}function Ns(e){Xn.call(this,e.a),this.type="action"}function As(e){Xn.call(this,e.a),this.type="beforeaction"}function Ps(e){kr.call(this),this.a=e,e=it?"focusout":"blur",this.g=cr(this.a,it?"focusin":"focus",this,!it),this.h=cr(this.a,e,this,!it)}function Rs(e,t){kr.call(this),this.g=e||1,this.a=t||d,this.h=C(this.gc,this),this.j=P()}function Os(e){e.Ka=!1,e.aa&&(e.a.clearTimeout(e.aa),e.aa=null)}function Ds(e){Bn.call(this),this.g=e,this.a={}}O(Cs,kr),Cs.prototype.g=function(e){(13==e.keyCode||ut&&3==e.keyCode)&&Ts(this,e)},Cs.prototype.h=function(e){Ts(this,e)},Cs.prototype.o=function(){Cs.K.o.call(this),hr(this.a,"keydown",this.g,!1,this),hr(this.a,"click",this.h,!1,this),delete this.a},O(Ns,Xn),O(As,Xn),O(Ps,kr),Ps.prototype.handleEvent=function(e){var t=new Xn(e.a);t.type="focusin"==e.type||"focus"==e.type?"focusin":"focusout",xr(this,t)},Ps.prototype.o=function(){Ps.K.o.call(this),fr(this.g),fr(this.h),delete this.a},O(Rs,kr),(e=Rs.prototype).Ka=!1,e.aa=null,e.gc=function(){if(this.Ka){var e=P()-this.j;0<e&&e<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-e):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),xr(this,"tick"),this.Ka&&(Os(this),this.start()))}},e.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=P())},e.o=function(){Rs.K.o.call(this),Os(this),delete this.a},O(Ds,Bn);var Ls=[];function Ms(e,t,n,r){b(n)||(n&&(Ls[0]=n.toString()),n=Ls);for(var i=0;i<n.length;i++){var o=cr(t,n[i],r||e.handleEvent,!1,e.g||e);if(!o)break;e.a[o.key]=o}}function js(e){oe(e.a,(function(e,t){this.a.hasOwnProperty(t)&&fr(e)}),e),e.a={}}function Fs(e){kr.call(this),this.a=null,this.g=e,e=it||at||ut&&!wt("531")&&"TEXTAREA"==e.tagName,this.h=new Ds(this),Ms(this.h,this.g,e?["keydown","paste","cut","drop","input"]:"input",this)}function Us(e){null!=e.a&&(d.clearTimeout(e.a),e.a=null)}function Vs(e){return(e=new Xn(e.a)).type="input",e}function zs(e,t){kr.call(this),e&&(this.Oa&&Ks(this),this.qa=e,this.Na=cr(this.qa,"keypress",this,t),this.Ya=cr(this.qa,"keydown",this.Jb,t,this),this.Oa=cr(this.qa,"keyup",this.Kb,t,this))}Ds.prototype.o=function(){Ds.K.o.call(this),js(this)},Ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},O(Fs,kr),Fs.prototype.handleEvent=function(e){if("input"==e.type)it&&wt(10)&&0==e.keyCode&&0==e.j||(Us(this),xr(this,Vs(e)));else if("keydown"!=e.type||function(e){if(e.altKey&&!e.ctrlKey||e.metaKey||112<=e.keyCode&&123>=e.keyCode)return!1;if(Ss(e.keyCode))return!0;switch(e.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!lt;default:return 166>e.keyCode||183<e.keyCode}}(e)){var t="keydown"==e.type?this.g.value:null;it&&229==e.keyCode&&(t=null);var n=Vs(e);Us(this),this.a=function(e,t){if(k(e))t&&(e=C(e,t));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=C(e.handleEvent,e)}return 2147483647<Number(0)?-1:d.setTimeout(e,0)}((function(){this.a=null,this.g.value!=t&&xr(this,n)}),this)}},Fs.prototype.o=function(){Fs.K.o.call(this),this.h.m(),Us(this),delete this.g},O(zs,kr),(e=zs.prototype).qa=null,e.Na=null,e.Ya=null,e.Oa=null,e.R=-1,e.X=-1,e.Ua=!1;var Bs={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},qs={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Gs=!ut||wt("525"),$s=ht&&lt;function Ks(e){e.Na&&(fr(e.Na),fr(e.Ya),fr(e.Oa),e.Na=null,e.Ya=null,e.Oa=null),e.qa=null,e.R=-1,e.X=-1}function Hs(e,t,n,r){Xn.call(this,r),this.type="key",this.keyCode=e,this.j=t,this.repeat=n}function Ws(e,t,n,r){this.top=e,this.right=t,this.bottom=n,this.left=r}function Qs(e,t){var n=Zt(e);return n.defaultView&&n.defaultView.getComputedStyle&&(e=n.defaultView.getComputedStyle(e,null))&&(e[t]||e.getPropertyValue(t))||""}function Ys(e){try{var t=e.getBoundingClientRect()}catch(Je){return{left:0,top:0,right:0,bottom:0}}return it&&e.ownerDocument.body&&(e=e.ownerDocument,t.left-=e.documentElement.clientLeft+e.body.clientLeft,t.top-=e.documentElement.clientTop+e.body.clientTop),t}function Js(e){var t=Zt(e),n=new Gt(0,0),r=t?Zt(t):document;return e==(r=!it||9<=Number(vt)||"CSS1Compat"==Kt(r).a.compatMode?r.documentElement:r.body)||(e=Ys(e),t=Jt(r=Kt(t).a),r=r.parentWindow||r.defaultView,t=it&&wt("10")&&r.pageYOffset!=t.scrollTop?new Gt(t.scrollLeft,t.scrollTop):new Gt(r.pageXOffset||t.scrollLeft,r.pageYOffset||t.scrollTop),n.a=e.left+t.a,n.g=e.top+t.g),n}(e=zs.prototype).Jb=function(e){(ut||at)&&(17==this.R&&!e.ctrlKey||18==this.R&&!e.altKey||ht&&91==this.R&&!e.metaKey)&&(this.X=this.R=-1),-1==this.R&&(e.ctrlKey&&17!=e.keyCode?this.R=17:e.altKey&&18!=e.keyCode?this.R=18:e.metaKey&&91!=e.keyCode&&(this.R=91)),Gs&&!Is(e.keyCode,this.R,e.shiftKey,e.ctrlKey,e.altKey,e.metaKey)?this.handleEvent(e):(this.X=Es(e.keyCode),$s&&(this.Ua=e.altKey))},e.Kb=function(e){this.X=this.R=-1,this.Ua=e.altKey},e.handleEvent=function(e){var t=e.a,n=t.altKey;if(it&&"keypress"==e.type)var r=this.X,i=13!=r&&27!=r?t.keyCode:0;else(ut||at)&&"keypress"==e.type?(r=this.X,i=0<=t.charCode&&63232>t.charCode&&Ss(r)?t.charCode:0):rt&&!ut?i=Ss(r=this.X)?t.keyCode:0:("keypress"==e.type?($s&&(n=this.Ua),t.keyCode==t.charCode?32>t.keyCode?(r=t.keyCode,i=0):(r=this.X,i=t.charCode):(r=t.keyCode||this.X,i=t.charCode||0)):(r=t.keyCode||this.X,i=t.charCode||0),ht&&63==i&&224==r&&(r=191));var o=r=Es(r);r?63232<=r&&r in Bs?o=Bs[r]:25==r&&e.shiftKey&&(o=9):t.keyIdentifier&&t.keyIdentifier in qs&&(o=qs[t.keyIdentifier]),lt&&Gs&&"keypress"==e.type&&!Is(o,this.R,e.shiftKey,e.ctrlKey,n,e.metaKey)||(e=o==this.R,this.R=o,(t=new Hs(o,i,e,t)).altKey=n,xr(this,t))},e.N=function(){return this.qa},e.o=function(){zs.K.o.call(this),Ks(this)},O(Hs,Xn),Ws.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},Ws.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},Ws.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},Ws.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};var Xs={thin:2,medium:4,thick:6};function Zs(e,t){if("none"==(e.currentStyle?e.currentStyle[t+"Style"]:null))return 0;var n=e.currentStyle?e.currentStyle[t+"Width"]:null;if(n in Xs)e=Xs[n];else if(/^\d+px?$/.test(n))e=parseInt(n,10);else{t=e.style.left;var r=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,e.style.left=n,n=e.style.pixelLeft,e.style.left=t,e.runtimeStyle.left=r,e=+n}return e}function el(){}function tl(e){kr.call(this),this.s=e||Kt(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}function nl(e,t){return e.g?Wt(t,e.g||e.s.a):null}function rl(e){return e.L||(e.L=new Ds(e)),e.L}function il(e,t){e.Ea&&F(e.Ea,t,void 0)}function ol(e,t){var n=tn(e,"firebaseui-textfield");t?(ks(e,"firebaseui-input-invalid"),ws(e,"firebaseui-input"),n&&ks(n,"firebaseui-textfield-invalid")):(ks(e,"firebaseui-input"),ws(e,"firebaseui-input-invalid"),n&&ws(n,"firebaseui-textfield-invalid"))}function al(e,t,n){$n(e,T(Kn,t=new Fs(t))),Ms(rl(e),t,"input",n)}function sl(e,t,n){$n(e,T(Kn,t=new zs(t))),Ms(rl(e),t,"key",(function(e){13==e.keyCode&&(e.stopPropagation(),e.preventDefault(),n(e))}))}function ll(e,t,n){$n(e,T(Kn,t=new Cs(t))),Ms(rl(e),t,"action",(function(e){e.stopPropagation(),e.preventDefault(),n(e)}))}function cl(e){ws(e,"firebaseui-hidden")}function ul(e,t){t&&en(e,t),ks(e,"firebaseui-hidden")}function dl(e){return!bs(e,"firebaseui-hidden")&&"none"!=e.style.display}function hl(e){var t=(e=e||{}).email,n=e.disabled,r='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return r=e.wc?r+"Enter new email address":r+"Email",r+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+kn(null!=t?t:"")+'"'+(n?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',vn(r)}function fl(e){var t='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return t=(e=(e=e||{}).label)?t+fn(e):t+"Next",vn(t+"</button>")}function pl(){var e=""+fl({label:bn("Sign In")});return vn(e)}function gl(){var e=""+fl({label:bn("Save")});return vn(e)}function ml(){var e=""+fl({label:bn("Continue")});return vn(e)}function vl(e){var t='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return t=(e=(e=e||{}).label)?t+fn(e):t+"Choose password",vn(t+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function yl(){var e='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return vn((e={}.current?e+"Current password":e+"Password")+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function bl(){return vn('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function wl(e){var t='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return t=(e=(e=e||{}).label)?t+fn(e):t+"Cancel",vn(t+"</button>")}function kl(e){var t="";return e.F&&e.D&&(t+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),vn(t)}function xl(e){var t="";return e.F&&e.D&&(t+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),vn(t)}function _l(e){return e='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+fn(e.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',vn(e)}function Il(e){var t=e.content;return e=e.Ab,vn('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(e?" "+kn(e):"")+'">'+fn(t)+"</dialog>")}function Sl(e){var t=e.message;return vn(Il({content:wn('<div class="firebaseui-dialog-icon-wrapper"><div class="'+kn(e.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+fn(t)+"</div>")}))}function El(e){for(var t='<div class="firebaseui-list-box-actions">',n=(e=e.items).length,r=0;r<n;r++){var i=e[r];t+='<button type="button" data-listboxid="'+kn(i.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(i.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+kn(i.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+fn(i.label)+"</div></button>"}return t=""+Il({Ab:bn("firebaseui-list-box-dialog"),content:wn(t+"</div>")}),vn(t)}function Cl(e){return vn((e=e||{}).tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}function Tl(e,t){return mn((e=(e=e||{}).ga).S?e.S:t.hb[e.providerId]?""+t.hb[e.providerId]:e.providerId&&0==e.providerId.indexOf("saml.")||e.providerId&&0==e.providerId.indexOf("oidc.")?e.providerId.substring(5):""+e.providerId)}function Nl(e){Rl(e,"upgradeElement")}function Al(e){Rl(e,"downgradeElements")}v(el),el.prototype.a=0,O(tl,kr),(e=tl.prototype).Lb=el.Xa(),e.N=function(){return this.g},e.Za=function(e){if(this.Y&&this.Y!=e)throw Error("Method not supported");tl.K.Za.call(this,e)},e.kb=function(){this.g=this.s.a.createElement("DIV")},e.render=function(e){if(this.na)throw Error("Component already rendered");this.g||this.kb(),e?e.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},e.v=function(){this.na=!0,il(this,(function(e){!e.na&&e.N()&&e.v()}))},e.ya=function(){il(this,(function(e){e.na&&e.ya()})),this.L&&js(this.L),this.na=!1},e.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),il(this,(function(e){e.m()})),this.g&&Xt(this.g),this.Y=this.g=this.oa=this.Ea=null,tl.K.o.call(this)},e.removeChild=function(e,t){if(e){var n=f(e)?e:e.cb||(e.cb=":"+(e.Lb.a++).toString(36));if(this.oa&&n?e=(null!==(e=this.oa)&&n in e?e[n]:void 0)||null:e=null,n&&e){var r=this.oa;if(n in r&&delete r[n],q(this.Ea,e),t&&(e.ya(),e.g&&Xt(e.g)),null==(t=e))throw Error("Unable to set parent component");t.Y=null,tl.K.Za.call(t,null)}}if(!e)throw Error("Child is not in parent component");return e},_l.a="firebaseui.auth.soy2.element.infoBar",Sl.a="firebaseui.auth.soy2.element.progressDialog",El.a="firebaseui.auth.soy2.element.listBoxDialog",Cl.a="firebaseui.auth.soy2.element.busyIndicator";var Pl=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function Rl(e,t){e&&window.componentHandler&&window.componentHandler[t]&&Pl.forEach((function(n){bs(e,n)&&window.componentHandler[t](e),F(Ht(n,e),(function(e){window.componentHandler[t](e)}))}))}function Ol(e,t,n){if(Dl.call(this),document.body.appendChild(e),e.showModal||window.dialogPolyfill.registerDialog(e),e.showModal(),Nl(e),t&&ll(this,e,(function(t){var n=e.getBoundingClientRect();(t.clientX<n.left||n.left+n.width<t.clientX||t.clientY<n.top||n.top+n.height<t.clientY)&&Dl.call(this)})),!n){var r=this.N().parentElement||this.N().parentNode;if(r){var i=this;this.da=function(){if(e.open){var t=e.getBoundingClientRect().height,n=r.getBoundingClientRect().height,o=r.getBoundingClientRect().top-document.body.getBoundingClientRect().top,a=r.getBoundingClientRect().left-document.body.getBoundingClientRect().left,s=e.getBoundingClientRect().width,l=r.getBoundingClientRect().width;e.style.top=(o+(n-t)/2).toString()+"px",t=a+(l-s)/2,e.style.left=t.toString()+"px",e.style.right=(document.body.getBoundingClientRect().width-t-s).toString()+"px"}else window.removeEventListener("resize",i.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function Dl(){var e=Ll.call(this);e&&(Al(e),e.open&&e.close(),Xt(e),this.da&&window.removeEventListener("resize",this.da))}function Ll(){return Wt("firebaseui-id-dialog")}function Ml(){Xt(jl.call(this))}function jl(){return nl(this,"firebaseui-id-info-bar")}function Fl(){return nl(this,"firebaseui-id-dismiss-info-bar")}var Ul={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function Vl(e,t,n){for(var r in Jn.call(this,e,t),n)this[r]=n[r]}function zl(e,t,n,r,i){tl.call(this,n),this.fb=e,this.eb=t,this.Fa=!1,this.Ga=r||null,this.A=this.ca=null,this.Z=ae(Ul),le(this.Z,i||{})}function Bl(e){return e.N().parentElement||e.N().parentNode}function ql(e,t,n){sl(e,t,(function(){n.focus()}))}function Gl(e,t,n){sl(e,t,(function(){n()}))}function $l(e,t,n){t=(e=e||{}).Va;var r=e.ia;return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+hl(e)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(t?wl(null):"")+fl(null)+'</div></div><div class="firebaseui-card-footer">'+(r?xl(n):kl(n))+"</div></form></div>",vn(e)}function Kl(e,t,n){return t=(e=e||{}).ia,e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+hl(e)+yl()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+bl()+'</div><div class="firebaseui-form-actions">'+pl()+'</div></div><div class="firebaseui-card-footer">'+(t?xl(n):kl(n))+"</div></form></div>",vn(e)}function Hl(e,t,n){var r=(e=e||{}).Tb;t=e.Ta;var i=e.ia,o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+hl(e);return r?(e='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+kn(null!=(e=(e=e||{}).name)?e:"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',e=vn(e)):e="",n=o+e+vl(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(t?wl(null):"")+gl()+'</div></div><div class="firebaseui-card-footer">'+(i?xl(n):kl(n))+"</div></form></div>",vn(n)}function Wl(e,t,n){return t=(e=e||{}).Ta,e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+hl(e)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(t?wl(null):"")+fl({label:bn("Send")})+'</div></div><div class="firebaseui-card-footer">'+kl(n)+"</div></form></div>",vn(e)}function Ql(e,t,n){t=e.G;var r="";return r+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="Follow the instructions sent to <strong>"+fn(e.email)+"</strong> to recover your password")+'</p></div><div class="firebaseui-card-actions">',t&&(r+='<div class="firebaseui-form-actions">'+fl({label:bn("Done")})+"</div>"),r+='</div><div class="firebaseui-card-footer">'+kl(n)+"</div></div>",vn(r)}function Yl(e,t,n){return vn('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+Cl(null)+"</div></div>")}function Jl(e,t,n){return vn('<div class="firebaseui-container firebaseui-id-page-spinner">'+Cl({tb:!0})+"</div>")}function Xl(){return vn('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}function Zl(e,t,n){return t="",t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+(e="A sign-in email with additional instructions was sent to <strong>"+fn(e.email)+"</strong>. Check your email to complete sign-in.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+vn('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>')+'</div><div class="firebaseui-form-actions">'+wl({label:bn("Back")})+'</div></div><div class="firebaseui-card-footer">'+kl(n)+"</div></form></div>",vn(t)}function ec(e,t,n){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn\'t work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+vn('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+wl({label:bn("Back")})+'</div></div><div class="firebaseui-card-footer">'+kl(n)+"</div></form></div>",vn(e)}function tc(e,t,n){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+hl(e)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+wl(null)+fl(null)+'</div></div><div class="firebaseui-card-footer">'+kl(n)+"</div></form></div>",vn(e)}function nc(){var e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+wl({label:bn("Dismiss")})+"</div></div></div>";return vn(e)}function rc(){var e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+wl({label:bn("Dismiss")})+"</div></div></div>";return vn(e)}function ic(e,t,n){return t="",t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(e="You\u2019ve already used <strong>"+fn(e.email)+"</strong> to sign in. Enter your password for that account.")+"</p>"+yl()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+bl()+'</div><div class="firebaseui-form-actions">'+pl()+'</div></div><div class="firebaseui-card-footer">'+kl(n)+"</div></form></div>",vn(t)}function oc(e,t,n){var r=e.email;return t="",e=bn(e=""+Tl(e,n)),t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+(r="You\u2019ve already used <strong>"+fn(r)+"</strong>. You can connect your <strong>"+fn(e)+"</strong> account with <strong>"+fn(r)+"</strong> by signing in with email link below.")+'<p class="firebaseui-text firebaseui-text-justify">'+(e="For this flow to successfully connect your "+fn(e)+" account with this email, you have to open the link on the same device or browser.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+pl()+'</div></div><div class="firebaseui-card-footer">'+kl(n)+"</div></form></div>",vn(t)}function ac(e,t,n){t="";var r=""+Tl(e,n);return t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+(e="You originally intended to connect <strong>"+fn(r=bn(r))+"</strong> to your email account but have opened the link on a different device where you are not signed in.")+'</p><p class="firebaseui-text firebaseui-text-justify">'+(r="If you still want to connect your <strong>"+fn(r)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ml()+'</div></div><div class="firebaseui-card-footer">'+kl(n)+"</div></form></div>",vn(t)}function sc(e,t,n){var r=e.email;return t="",e=bn(e=""+Tl(e,n)),t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(r="You\u2019ve already used <strong>"+fn(r)+"</strong>. Sign in with "+fn(e)+" to continue.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+fl({label:bn("Sign in with "+e)})+'</div></div><div class="firebaseui-card-footer">'+kl(n)+"</div></form></div>",vn(t)}function lc(e,t,n){var r=(e=e||{}).kc;t=e.yb,e=e.Eb;var i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return r?i+=r="<strong>"+fn(r)+"</strong> is not authorized to view the requested page.":i+="User is not authorized to view the requested page.",i+="</p>",t&&(i+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+(t="Please contact <strong>"+fn(t)+"</strong> for authorization.")+"</p>"),i+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',e&&(i+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),i+='</div><div class="firebaseui-form-actions">'+wl({label:bn("Back")})+'</div></div><div class="firebaseui-card-footer">'+kl(n)+"</div></form></div>",vn(i)}function cc(e,t,n){return t="",t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="To continue sign in with <strong>"+fn(e.email)+"</strong> on this device, you have to recover the password.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+wl(null)+fl({label:bn("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+kl(n)+"</div></form></div>",vn(t)}function uc(e){var t="";return t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content">'+('<p class="firebaseui-text">for <strong>'+fn(e.email)+"</strong></p>")+vl(function(e){function t(){}var n={label:bn("New password")};for(var r in t.prototype=e,e=new t,n)e[r]=n[r];return e}(e))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+gl()+"</div></div></form></div>",vn(t)}function dc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+ml()+"</div>":"")+"</div></div>",vn(e)}function hc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+ml()+"</div>":"")+"</div></div>",vn(e)}function fc(e){var t=e.G,n="";return n+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="Your sign-in email address has been changed back to <strong>"+fn(e.email)+"</strong>.")+'</p><p class="firebaseui-text">If you didn\u2019t ask to change your sign-in email, it\u2019s possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(t?'<div class="firebaseui-form-actions">'+ml()+"</div>":"")+"</div></form></div>",vn(n)}function pc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still can\u2019t reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+ml()+"</div>":"")+"</div></div>",vn(e)}function gc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+ml()+"</div>":"")+"</div></div>",vn(e)}function mc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+ml()+"</div>":"")+"</div></div>",vn(e)}function vc(e){var t=e.G,n="";return n+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="You can now sign in with your new email <strong>"+fn(e.email)+"</strong>.")+'</p></div><div class="firebaseui-card-actions">'+(t?'<div class="firebaseui-form-actions">'+ml()+"</div>":"")+"</div></div>",vn(n)}function yc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+ml()+"</div>":"")+"</div></div>",vn(e)}function bc(e){var t=e.factorId,n=e.phoneNumber;e=e.G;var r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';if("phone"===t)r+=t="The <strong>"+fn(t)+" "+fn(n)+"</strong> was removed as a second authentication step.";else r+="The device or app was removed as a second authentication step.";return r+='</p><p class="firebaseui-text">If you don\'t recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(e?'<div class="firebaseui-form-actions">'+ml()+"</div>":"")+"</div></form></div>",vn(r)}function wc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn\'t remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn\'t work, contact support for assistance.</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+ml()+"</div>":"")+"</div></div>",vn(e)}function kc(e){var t=e.zb;return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+fn(e.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',t&&(e+=fl({label:bn("Retry")})),vn(e+"</div></div></div>")}function xc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+fn(e.errorMessage)+"</p></div></div>",vn(e)}function _c(e,t,n){var r=e.Qb;return t="",t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+(e="Continue with "+fn(e.jc)+"?")+'</h2><p class="firebaseui-text">'+(r="You originally wanted to sign in with "+fn(r))+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+wl(null)+fl({label:bn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+kl(n)+"</div></form></div>",vn(t)}function Ic(e,t,n){var r='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';t=(e=e.Sb).length;for(var i=0;i<t;i++){var o={ga:e[i]},a=n,s=(o=o||{}).ga,l=o,c="";switch((l=l||{}).ga.providerId){case"google.com":c+="firebaseui-idp-google";break;case"github.com":c+="firebaseui-idp-github";break;case"facebook.com":c+="firebaseui-idp-facebook";break;case"twitter.com":c+="firebaseui-idp-twitter";break;case"phone":c+="firebaseui-idp-phone";break;case"anonymous":c+="firebaseui-idp-anonymous";break;case"password":c+="firebaseui-idp-password";break;default:c+="firebaseui-idp-generic"}l=(l='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+kn(mn(c))+' firebaseui-id-idp-button" data-provider-id="'+kn(s.providerId)+'" style="background-color:')+kn(_n(mn((c=(c=(c=o)||{}).ga).ta?c.ta:a.wa[c.providerId]?""+a.wa[c.providerId]:0==c.providerId.indexOf("saml.")?""+a.wa.saml:0==c.providerId.indexOf("oidc.")?""+a.wa.oidc:""+a.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var u=o;c=a,u=(u=u||{}).ga,c=yn(u.za?xn(u.za):c.xa[u.providerId]?xn(c.xa[u.providerId]):0==u.providerId.indexOf("saml.")?xn(c.xa.saml):0==u.providerId.indexOf("oidc.")?xn(c.xa.oidc):xn(c.xa.password)),l=l+kn(xn(c))+'"></span>',"password"==s.providerId?(l+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',s.V?l+=fn(s.V):s.S?l+=o="Sign in with "+fn(Tl(o,a)):l+="Sign in with email",l+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',l=s.S?l+fn(s.S):l+"Email",l+="</span>"):"phone"==s.providerId?(l+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',s.V?l+=fn(s.V):s.S?l+=o="Sign in with "+fn(Tl(o,a)):l+="Sign in with phone",l+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',l=s.S?l+fn(s.S):l+"Phone",l+="</span>"):"anonymous"==s.providerId?(l+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',s.V?l+=fn(s.V):s.S?l+=o="Sign in with "+fn(Tl(o,a)):l+="Continue as guest",l+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',l=s.S?l+fn(s.S):l+"Guest",l+="</span>"):(l+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',s.V?l+=fn(s.V):l+=c="Sign in with "+fn(Tl(o,a)),l+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(s.S?fn(s.S):fn(Tl(o,a)))+"</span>"),r+='<li class="firebaseui-list-item">'+(s=vn(l+"</button>"))+"</li>"}return r+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+xl(n)+"</div></div>",vn(r)}function Sc(e,t,n){var r,i=(e=e||{}).Gb,o=e.Va;return t=e.ia,e='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+kn(null!=(e=(e=e||{}).Aa)?e:"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',r=(e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+vn(e))+(r=i?vn('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):"")+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(o?wl(null):"")+fl({label:bn("Verify")})+'</div></div><div class="firebaseui-card-footer">',t?(t='<p class="firebaseui-tos firebaseui-phone-tos">',t=n.F&&n.D?t+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':t+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",n=vn(t+"</p>")):n=vn('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+kl(n),vn(r+n+"</div></form></div>")}function Ec(e,t,n){var r="";return e='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+fn(t=(e=e||{}).phoneNumber)+"</a>",fn(t),t=r,n='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+e+"</p>"+(r=vn('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+wl(null)+fl({label:bn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+kl(n)+"</div></form>",e=vn('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),vn(t+(n+e+"</div>"))}function Cc(){return vn('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}function Tc(e,t,n){var r='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';t=(e=e.ec).length;for(var i=0;i<t;i++){var o=e[i],a="",s=fn(o.displayName),l=o.tenantId?o.tenantId:"top-level-project";a+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+kn(l=bn(l))+' firebaseui-id-tenant-selection-button"'+(o.tenantId?'data-tenant-id="'+kn(o.tenantId)+'"':"")+'style="background-color:'+kn(_n(o.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+kn(xn(o.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',o.V?a+=fn(o.V):a+=o="Sign in to "+fn(o.displayName),r+='<li class="firebaseui-list-item">'+(a=vn(a+'</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+s+"</span></button>"))+"</li>"}return r+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+xl(n)+"</div></div>",vn(r)}function Nc(e,t,n){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+hl(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+fl(null)+'</div></div><div class="firebaseui-card-footer">'+xl(n)+"</div></form></div>",vn(e)}function Ac(){return nl(this,"firebaseui-id-submit")}function Pc(){return nl(this,"firebaseui-id-secondary-link")}function Rc(e,t){ll(this,Ac.call(this),(function(t){e(t)}));var n=Pc.call(this);n&&t&&ll(this,n,(function(e){t(e)}))}function Oc(){return nl(this,"firebaseui-id-password")}function Dc(){return nl(this,"firebaseui-id-password-error")}function Lc(){var e=Oc.call(this),t=Dc.call(this);al(this,e,(function(){dl(t)&&(ol(e,!0),cl(t))}))}function Mc(){var e=Oc.call(this),t=Dc.call(this);return xs(e)?(ol(e,!0),cl(t),t=!0):(ol(e,!1),ul(t,mn("Enter your password").toString()),t=!1),t?xs(e):null}function jc(e,t,n,r,i,o){zl.call(this,ic,{email:e},o,"passwordLinking",{F:r,D:i}),this.w=t,this.H=n}O(Vl,Jn),O(zl,tl),(e=zl.prototype).kb=function(){var e=cn(this.fb,this.eb,this.Z,this.s);Nl(e),this.g=e},e.v=function(){if(zl.K.v.call(this),Er(Bl(this),new Vl("pageEnter",Bl(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var e=this.Z.F;ll(this,this.bb(),(function(){e()}))}if(this.ab()&&this.Z.D){var t=this.Z.D;ll(this,this.ab(),(function(){t()}))}},e.ya=function(){Er(Bl(this),new Vl("pageExit",Bl(this),{pageId:this.Ga})),zl.K.ya.call(this)},e.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,Al(this.N()),zl.K.o.call(this)},e.I=function(e,t,n,r){function i(){if(o.T)return null;o.Fa=!1,window.clearTimeout(o.ca),o.ca=null,o.A&&(Al(o.A),Xt(o.A),o.A=null)}var o=this;return o.Fa?null:(function(e){e.Fa=!0;var t=bs(e.N(),"firebaseui-use-spinner");e.ca=window.setTimeout((function(){e.N()&&null===e.A&&(e.A=cn(Cl,{tb:t},null,e.s),e.N().appendChild(e.A),Nl(e.A))}),500)}(o),e.apply(null,t).then(n,r).then(i,i))},N(zl.prototype,{a:function(e){Ml.call(this);var t=cn(_l,{message:e},null,this.s);this.N().appendChild(t),ll(this,Fl.call(this),(function(){Xt(t)}))},yc:Ml,Ac:jl,zc:Fl,$:function(e,t){e=cn(Sl,{Ma:e,message:t},null,this.s),Ol.call(this,e)},h:Dl,Cb:Ll,Cc:function(){return nl(this,"firebaseui-tos")},bb:function(){return nl(this,"firebaseui-tos-link")},ab:function(){return nl(this,"firebaseui-pp-link")},Dc:function(){return nl(this,"firebaseui-tos-list")}}),$l.a="firebaseui.auth.soy2.page.signIn",Kl.a="firebaseui.auth.soy2.page.passwordSignIn",Hl.a="firebaseui.auth.soy2.page.passwordSignUp",Wl.a="firebaseui.auth.soy2.page.passwordRecovery",Ql.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent",Yl.a="firebaseui.auth.soy2.page.callback",Jl.a="firebaseui.auth.soy2.page.spinner",Xl.a="firebaseui.auth.soy2.page.blank",Zl.a="firebaseui.auth.soy2.page.emailLinkSignInSent",ec.a="firebaseui.auth.soy2.page.emailNotReceived",tc.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation",nc.a="firebaseui.auth.soy2.page.differentDeviceError",rc.a="firebaseui.auth.soy2.page.anonymousUserMismatch",ic.a="firebaseui.auth.soy2.page.passwordLinking",oc.a="firebaseui.auth.soy2.page.emailLinkSignInLinking",ac.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice",sc.a="firebaseui.auth.soy2.page.federatedLinking",lc.a="firebaseui.auth.soy2.page.unauthorizedUser",cc.a="firebaseui.auth.soy2.page.unsupportedProvider",uc.a="firebaseui.auth.soy2.page.passwordReset",dc.a="firebaseui.auth.soy2.page.passwordResetSuccess",hc.a="firebaseui.auth.soy2.page.passwordResetFailure",fc.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess",pc.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure",gc.a="firebaseui.auth.soy2.page.emailVerificationSuccess",mc.a="firebaseui.auth.soy2.page.emailVerificationFailure",vc.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess",yc.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure",bc.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess",wc.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure",kc.a="firebaseui.auth.soy2.page.recoverableError",xc.a="firebaseui.auth.soy2.page.unrecoverableError",_c.a="firebaseui.auth.soy2.page.emailMismatch",Ic.a="firebaseui.auth.soy2.page.providerSignIn",Sc.a="firebaseui.auth.soy2.page.phoneSignInStart",Ec.a="firebaseui.auth.soy2.page.phoneSignInFinish",Cc.a="firebaseui.auth.soy2.page.signOut",Tc.a="firebaseui.auth.soy2.page.selectTenant",Nc.a="firebaseui.auth.soy2.page.providerMatchByEmail",s(jc,zl),jc.prototype.v=function(){this.P(),this.M(this.w,this.H),Gl(this,this.i(),this.w),this.i().focus(),zl.prototype.v.call(this)},jc.prototype.o=function(){this.w=null,zl.prototype.o.call(this)},jc.prototype.j=function(){return xs(nl(this,"firebaseui-id-email"))},N(jc.prototype,{i:Oc,B:Dc,P:Lc,u:Mc,ea:Ac,ba:Pc,M:Rc});var Fc=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function Uc(){return nl(this,"firebaseui-id-email")}function Vc(){return nl(this,"firebaseui-id-email-error")}function zc(e){var t=Uc.call(this),n=Vc.call(this);al(this,t,(function(){dl(n)&&(ol(t,!0),cl(n))})),e&&sl(this,t,(function(){e()}))}function Bc(){return Q(xs(Uc.call(this))||"")}function qc(){var e=Uc.call(this),t=Vc.call(this),n=xs(e)||"";return n?Fc.test(n)?(ol(e,!0),cl(t),t=!0):(ol(e,!1),ul(t,mn("That email address isn't correct").toString()),t=!1):(ol(e,!1),ul(t,mn("Enter your email address to continue").toString()),t=!1),t?Q(xs(e)):null}function Gc(e,t,n,r,i,o,a){zl.call(this,Kl,{email:n,ia:!!o},a,"passwordSignIn",{F:r,D:i}),this.w=e,this.H=t}function $c(e,t,n,r,i,o){zl.call(this,e,t,r,i||"notice",o),this.i=n||null}function Kc(e,t,n,r,i){$c.call(this,Ql,{email:e,G:!!t},t,i,"passwordRecoveryEmailSent",{F:n,D:r})}function Hc(e,t){$c.call(this,gc,{G:!!e},e,t,"emailVerificationSuccess")}function Wc(e,t){$c.call(this,mc,{G:!!e},e,t,"emailVerificationFailure")}function Qc(e,t,n){$c.call(this,vc,{email:e,G:!!t},t,n,"verifyAndChangeEmailSuccess")}function Yc(e,t){$c.call(this,yc,{G:!!e},e,t,"verifyAndChangeEmailFailure")}function Jc(e,t){$c.call(this,wc,{G:!!e},e,t,"revertSecondFactorAdditionFailure")}function Xc(e){$c.call(this,Cc,void 0,void 0,e,"signOut")}function Zc(e,t){$c.call(this,dc,{G:!!e},e,t,"passwordResetSuccess")}function eu(e,t){$c.call(this,hc,{G:!!e},e,t,"passwordResetFailure")}function tu(e,t){$c.call(this,pc,{G:!!e},e,t,"emailChangeRevokeFailure")}function nu(e,t,n){$c.call(this,kc,{errorMessage:e,zb:!!t},t,n,"recoverableError")}function ru(e,t){$c.call(this,xc,{errorMessage:e},void 0,t,"unrecoverableError")}function iu(e){if("auth/invalid-credential"===e.code&&e.message&&-1!==e.message.indexOf("error=consent_required"))return{code:"auth/user-cancelled"};if(e.message&&-1!==e.message.indexOf("HTTP Cloud Function returned an error:")){var t=JSON.parse(e.message.substring(e.message.indexOf("{"),e.message.lastIndexOf("}")+1));return{code:e.code,message:t&&t.error&&t.error.message||e.message}}return e}function ou(e,t,n,r){function i(n){if(!n.name||"cancel"!=n.name){e:{var r=n.message;try{var i=((JSON.parse(r).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(i&&i.length){var o=!0;break e}}catch($e){}o=!1}if(o)n=Bl(t),t.m(),hu(e,n,void 0,mn("Your sign-in session has expired. Please try again.").toString());else{if(o=n&&n.message||"",n.code){if("auth/email-already-in-use"==n.code||"auth/credential-already-in-use"==n.code)return;o=lu(n)}t.a(o)}}}if(Fd(e),r)return au(e,n),Jr();if(!n.credential)throw Error("No credential found!");if(!Td(e).currentUser&&!n.user)throw Error("User not logged in.");try{var o=function(e,t){return zd(e),Ld(e,(function(n){if(e.j&&!e.j.isAnonymous&&La(Vd(e))&&!Td(e).currentUser)return qd(e).then((function(){return"password"==t.credential.providerId&&(t.credential=null),t}));if(n)return qd(e).then((function(){return n.linkWithCredential(t.credential)})).then((function(e){return t.user=e.user,t.credential=e.credential,t.operationType=e.operationType,t.additionalUserInfo=e.additionalUserInfo,t}),(function(n){if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential)throw n;return Gd(e,n,t.credential)}));if(!t.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return qd(e).then((function(){return Nd(e).updateCurrentUser(t.user)})).then((function(){return t.user=Nd(e).currentUser,t.operationType="signIn",t.credential&&t.credential.providerId&&"password"==t.credential.providerId&&(t.credential=null),t}))}))}(e,n)}catch(ct){return eo(ct.code||ct.message,ct),t.a(ct.code||ct.message),Jr()}return n=o.then((function(t){au(e,t)}),i).then(void 0,i),jd(e,o),Jr(n)}function au(e,t){if(!t.user)throw Error("No user found");var n=ts(Vd(e));if(es(Vd(e))&&n&&io("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),n){n=ts(Vd(e));var r=sa(Ad(e))||void 0;oa(ta,Ad(e));var i=!1;ui()?(n&&!n(t,r)||(i=!0,qt(window.opener.location,su(e,r))),n||window.close()):n&&!n(t,r)||(i=!0,qt(window.location,su(e,r))),i||e.reset()}else{n=t.user,t=t.credential,r=es(Vd(e)),i=sa(Ad(e))||void 0,oa(ta,Ad(e));var o=!1;ui()?(r&&!r(n,t,i)||(o=!0,qt(window.opener.location,su(e,i))),r||window.close()):r&&!r(n,t,i)||(o=!0,qt(window.location,su(e,i))),o||e.reset()}}function su(e,t){if(!(e=t||Vd(e).a.get("signInSuccessUrl")))throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return e}function lu(e){var t={code:e.code},n="";switch((t=t||{}).code){case"auth/email-already-in-use":n+="The email address is already used by another account";break;case"auth/requires-recent-login":case"auth/user-token-expired":n+=Un();break;case"auth/too-many-requests":n+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":n+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":n+="That email address doesn't match an existing account";break;case"auth/weak-password":n+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":n+="The email and password you entered don't match";break;case"auth/network-request-failed":n+="A network error has occurred";break;case"auth/invalid-phone-number":n+=Dn();break;case"auth/invalid-verification-code":n+=mn("Wrong code. Try again.");break;case"auth/code-expired":n+="This code is no longer valid";break;case"auth/expired-action-code":n+="This code has expired.";break;case"auth/invalid-action-code":n+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(t=mn(n).toString())return t;try{return JSON.parse(e.message),eo("Internal error: "+e.message,void 0),Mn().toString()}catch(nt){return e.message}}function cu(e,t,n,r){function i(){!function(e,t){aa(ea,{tenantId:e.a},t)}(new po(e.h.tenantId||null),Ad(e)),jd(e,t.I(C(e.dc,e),[l],(function(){if("file:"===(window.location&&window.location.protocol))return jd(e,Sd(e).then((function(n){t.m(),oa(ea,Ad(e)),vs("callback",e,s,Jr(n))}),o))}),a))}function o(r){if(oa(ea,Ad(e)),!r.name||"cancel"!=r.name)switch(r=iu(r),r.code){case"auth/popup-blocked":i();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":t.a(lu(r));break;case"auth/admin-restricted-operation":t.m(),qa(Vd(e))?vs("handleUnauthorizedUser",e,s,null,n):vs("callback",e,s,Xr(r));break;default:t.m(),vs("callback",e,s,Xr(r))}}function a(n){oa(ea,Ad(e)),n.name&&"cancel"==n.name||(eo("signInWithRedirect: "+n.code,void 0),n=lu(n),"blank"==t.Ga&&Xa(Vd(e))?(t.m(),vs("providerSignIn",e,s,n)):t.a(n))}var s=Bl(t),l=function(e,t,n){var r=Oa[t]&&xu.auth[Oa[t]]?new xu.auth[Oa[t]]:0==t.indexOf("saml.")?new xu.auth.SAMLAuthProvider(t):new xu.auth.OAuthProvider(t);if(!r)throw Error("Invalid Firebase Auth provider!");var i=Ga(Vd(e),t);if(r.addScope)for(var o=0;o<i.length;o++)r.addScope(i[o]);return i=$a(Vd(e),t)||{},n&&(e=t==xu.auth.GoogleAuthProvider.PROVIDER_ID?"login_hint":t==xu.auth.GithubAuthProvider.PROVIDER_ID?"login":(e=Ua(Vd(e),t))&&e.Ob)&&(i[e]=n),r.setCustomParameters&&r.setCustomParameters(i),r}(e,n,r);Za(Vd(e))==ds?i():jd(e,function(e,t){return zd(e),Ld(e,(function(n){return n&&!la(Ad(e))?n.linkWithPopup(t).then((function(e){return e}),(function(t){if(t&&"auth/email-already-in-use"==t.code&&t.email&&t.credential)throw t;return Gd(e,t)})):Td(e).signInWithPopup(t)}))}(e,l).then((function(n){t.m(),vs("callback",e,s,Jr(n))}),o))}function uu(e){return 1==(e=Fa(Vd(e))).length&&e[0]==xu.auth.EmailAuthProvider.PROVIDER_ID}function du(e){return 1==(e=Fa(Vd(e))).length&&e[0]==xu.auth.PhoneAuthProvider.PROVIDER_ID}function hu(e,t,n,r){uu(e)?r?vs("signIn",e,t,n,r):mu(e,t,n):e&&du(e)&&!r?vs("phoneSignInStart",e,t):e&&Xa(Vd(e))&&!r?vs("federatedRedirect",e,t,n):vs("providerSignIn",e,t,r,n)}function fu(e,t,n,r){var i=Bl(t);jd(e,t.I(C(Td(e).fetchSignInMethodsForEmail,Td(e)),[n],(function(o){t.m(),pu(e,i,o,n,r)}),(function(e){e=lu(e),t.a(e)})))}function pu(e,t,n,r,i,o){n.length||Ja(Vd(e))&&!Ja(Vd(e))?B(n,xu.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?vs("passwordSignIn",e,t,r,o):1==n.length&&n[0]===xu.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?Ja(Vd(e))?vs("sendEmailLinkForSignIn",e,t,r,(function(){vs("signIn",e,t)})):vs("unsupportedProvider",e,t,r):(n=Pa(n,Fa(Vd(e))))?(ua(new uo(r),Ad(e)),vs("federatedSignIn",e,t,r,n,i)):vs("unsupportedProvider",e,t,r):Ba(Vd(e))?vs("handleUnauthorizedUser",e,t,r,xu.auth.EmailAuthProvider.PROVIDER_ID):Ja(Vd(e))?vs("sendEmailLinkForSignIn",e,t,r,(function(){vs("signIn",e,t)})):vs("passwordSignUp",e,t,r,void 0,void 0,o)}function gu(e,t,n,r,i,o){var a=Bl(t);jd(e,t.I(C(e.Ib,e),[n,o],(function(){t.m(),vs("emailLinkSignInSent",e,a,n,r,o)}),i))}function mu(e,t,n){n?vs("prefilledEmailSignIn",e,t,n):vs("signIn",e,t)}function vu(){return be(fi(),"oobCode")}function yu(){var e=be(fi(),"continueUrl");return e?function(){qt(window.location,e)}:null}function bu(e,t){zl.call(this,rc,void 0,t,"anonymousUserMismatch"),this.i=e}function wu(e){zl.call(this,Yl,void 0,e,"callback")}function ku(e,t,n){if(n.user){var r={user:n.user,credential:n.credential,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo},i=la(Ad(e)),o=i&&i.g;if(o&&!function(e,t){if(t==e.email)return!0;if(e.providerData)for(var n=0;n<e.providerData.length;n++)if(t==e.providerData[n].email)return!0;return!1}(n.user,o))!function(e,t,n){var r=Bl(t);jd(e,qd(e).then((function(){t.m(),vs("emailMismatch",e,r,n)}),(function(e){e.name&&"cancel"==e.name||(e=lu(e.code),t.a(e))})))}(e,t,r);else{var a=i&&i.a;a?jd(e,n.user.linkWithCredential(a).then((function(n){r={user:n.user,credential:a,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo},_u(e,t,r)}),(function(n){Iu(e,t,n)}))):_u(e,t,r)}}else n=Bl(t),t.m(),ca(Ad(e)),hu(e,n)}function _u(e,t,n){ca(Ad(e)),ou(e,t,n)}function Iu(e,t,n){var r=Bl(t);ca(Ad(e)),n=lu(n),t.m(),hu(e,r,void 0,n)}function Su(e,t,n,r){var i=Bl(t);jd(e,Td(e).fetchSignInMethodsForEmail(n).then((function(o){t.m(),o.length?B(o,xu.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?vs("passwordLinking",e,i,n):1==o.length&&o[0]===xu.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?vs("emailLinkSignInLinking",e,i,n):(o=Pa(o,Fa(Vd(e))))?vs("federatedLinking",e,i,n,o,r):(ca(Ad(e)),vs("unsupportedProvider",e,i,n)):(ca(Ad(e)),vs("passwordRecovery",e,i,n,!1,jn().toString()))}),(function(n){Iu(e,t,n)})))}function Eu(e,t){zl.call(this,nc,void 0,t,"differentDeviceError"),this.i=e}function Cu(e,t,n,r){zl.call(this,fc,{email:e,G:!!n},r,"emailChangeRevoke"),this.l=t,this.i=n||null}function Tu(){return nl(this,"firebaseui-id-new-password")}function Nu(){return nl(this,"firebaseui-id-password-toggle")}function Au(){this.Ra=!this.Ra;var e=Nu.call(this),t=Tu.call(this);this.Ra?(t.type="text",ws(e,"firebaseui-input-toggle-off"),ks(e,"firebaseui-input-toggle-on")):(t.type="password",ws(e,"firebaseui-input-toggle-on"),ks(e,"firebaseui-input-toggle-off")),t.focus()}function Pu(){return nl(this,"firebaseui-id-new-password-error")}function Ru(){this.Ra=!1;var e=Tu.call(this);e.type="password";var t=Pu.call(this);al(this,e,(function(){dl(t)&&(ol(e,!0),cl(t))}));var n=Nu.call(this);ws(n,"firebaseui-input-toggle-on"),ks(n,"firebaseui-input-toggle-off"),function(e,t,n){$n(e,T(Kn,t=new Ps(t))),Ms(rl(e),t,"focusin",n)}(this,e,(function(){ws(n,"firebaseui-input-toggle-focus"),ks(n,"firebaseui-input-toggle-blur")})),function(e,t,n){$n(e,T(Kn,t=new Ps(t))),Ms(rl(e),t,"focusout",n)}(this,e,(function(){ws(n,"firebaseui-input-toggle-blur"),ks(n,"firebaseui-input-toggle-focus")})),ll(this,n,C(Au,this))}function Ou(){var e=Tu.call(this),t=Pu.call(this);return xs(e)?(ol(e,!0),cl(t),t=!0):(ol(e,!1),ul(t,mn("Enter your password").toString()),t=!1),t?xs(e):null}function Du(e,t,n){zl.call(this,uc,{email:e},n,"passwordReset"),this.l=t}function Lu(e,t,n,r,i){zl.call(this,bc,{factorId:e,phoneNumber:n||null,G:!!r},i,"revertSecondFactorAdditionSuccess"),this.l=t,this.i=r||null}function Mu(e,t,n,r){"auth/weak-password"==(r&&r.code)?(e=lu(r),ol(n.i(),!1),ul(n.w(),e),n.i().focus()):(n&&n.m(),(n=new eu).render(t),Ed(e,n))}function ju(e,t){try{var n="number"==typeof e.selectionStart}catch(nt){n=!1}n?(e.selectionStart=t,e.selectionEnd=t):it&&!wt("9")&&("textarea"==e.type&&(t=e.value.substring(0,t).replace(/(\r\n|\r|\n)/g,"\n").length),(e=e.createTextRange()).collapse(!0),e.move("character",t),e.select())}function Fu(e,t,n,r,i,o){zl.call(this,tc,{email:n},o,"emailLinkSignInConfirmation",{F:r,D:i}),this.l=e,this.u=t}function Uu(e,t,n,r,i){zl.call(this,ac,{ga:e},i,"emailLinkSignInLinkingDifferentDevice",{F:n,D:r}),this.i=t}function Vu(e){zl.call(this,Xl,void 0,e,"blank")}function zu(e,t,n,r,i){var o=new Vu,a=new Ve(n),s=a.a.a.get(Ge.$a)||"",l=a.a.a.get(Ge.Sa)||"",c="1"===a.a.a.get(Ge.Qa),u=ze(a),d=a.a.a.get(Ge.PROVIDER_ID)||null;a=a.a.a.get(Ge.vb)||null,Ud(e,a);var h=!ia(na,Ad(e)),f=r||function(e,t){var n=null;if(t=ia(na,t))try{var r=Mo(e,t),i=JSON.parse(r);n=i&&i.email||null}catch(o){}return n}(l,Ad(e)),p=(r=function(e,t){var n=null;if(t=ia(ra,t))try{var r=Mo(e,t);n=JSON.parse(r)}catch(i){}return fo(n||null)}(l,Ad(e)))&&r.a;d&&p&&p.providerId!==d&&(p=null),o.render(t),Ed(e,o),jd(e,o.I((function(){var t=Jr(null);t=u&&h||h&&c?Xr(Error("anonymous-user-not-found")):function(e,t){var n=ze(new Ve(t));return n?(t=new Gr((function(t,r){var i=Nd(e).onAuthStateChanged((function(e){i(),e&&e.isAnonymous&&e.uid===n?t(e):e&&e.isAnonymous&&e.uid!==n?r(Error("anonymous-user-mismatch")):r(Error("anonymous-user-not-found"))}));jd(e,i)})),jd(e,t),t):Jr(null)}(e,n).then((function(e){if(d&&!p)throw Error("pending-credential-not-found");return e}));var r=null;return t.then((function(t){return r=t,i?null:Td(e).checkActionCode(s)})).then((function(){return r}))}),[],(function(r){f?function(e,t,n,r,i,o){var a=Bl(t);t.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",mn("Signing in...").toString());var s=null;i=(o?function(e,t,n,r,i){zd(e);var o=i||null,a=xu.auth.EmailAuthProvider.credentialWithLink(n,r);return n=o?Td(e).signInWithEmailLink(n,r).then((function(e){return e.user.linkWithCredential(o)})).then((function(){return qd(e)})).then((function(){return Gd(e,{code:"auth/email-already-in-use"},o)})):Td(e).fetchSignInMethodsForEmail(n).then((function(n){return n.length?Gd(e,{code:"auth/email-already-in-use"},a):t.linkWithCredential(a)})),jd(e,n),n}(e,o,n,r,i):function(e,t,n,r){zd(e);var i,o=r||null;return t=Td(e).signInWithEmailLink(t,n).then((function(e){if(i={user:e.user,credential:null,operationType:e.operationType,additionalUserInfo:e.additionalUserInfo},o)return e.user.linkWithCredential(o).then((function(e){i={user:e.user,credential:o,operationType:i.operationType,additionalUserInfo:e.additionalUserInfo}}))})).then((function(){qd(e)})).then((function(){return Nd(e).updateCurrentUser(i.user)})).then((function(){return i.user=Nd(e).currentUser,i})),jd(e,t),t}(e,n,r,i)).then((function(n){oa(ra,Ad(e)),oa(na,Ad(e)),t.h(),t.$("firebaseui-icon-done",mn("Signed in!").toString()),s=setTimeout((function(){t.h(),ou(e,t,n,!0)}),1e3),jd(e,(function(){t&&(t.h(),t.m()),clearTimeout(s)}))}),(function(i){if(t.h(),t.m(),!i.name||"cancel"!=i.name){var o=lu(i=iu(i));"auth/email-already-in-use"==i.code||"auth/credential-already-in-use"==i.code?(oa(ra,Ad(e)),oa(na,Ad(e))):"auth/invalid-email"==i.code?(o=mn("The email provided does not match the current sign-in session.").toString(),vs("emailLinkConfirmation",e,a,r,Bu,null,o)):hu(e,a,n,o)}})),jd(e,i)}(e,o,f,n,p,r):c?(o.m(),vs("differentDeviceError",e,t)):(o.m(),vs("emailLinkConfirmation",e,t,n,Bu))}),(function(r){var i=void 0;if(!r||!r.name||"cancel"!=r.name)switch(o.m(),r&&r.message){case"anonymous-user-not-found":vs("differentDeviceError",e,t);break;case"anonymous-user-mismatch":vs("anonymousUserMismatch",e,t);break;case"pending-credential-not-found":vs("emailLinkNewDeviceLinking",e,t,n,qu);break;default:r&&(i=lu(r)),hu(e,t,void 0,i)}})))}function Bu(e,t,n,r){zu(e,t,r,n,!0)}function qu(e,t,n){zu(e,t,n)}function Gu(e,t,n,r,i,o){zl.call(this,oc,{email:e,ga:t},o,"emailLinkSignInLinking",{F:r,D:i}),this.i=n}function $u(e,t,n,r,i,o){zl.call(this,Zl,{email:e},o,"emailLinkSignInSent",{F:r,D:i}),this.u=t,this.i=n}function Ku(e,t,n,r,i,o,a){zl.call(this,_c,{jc:e,Qb:t},a,"emailMismatch",{F:i,D:o}),this.l=n,this.i=r}function Hu(e,t,n,r,i){zl.call(this,ec,void 0,i,"emailNotReceived",{F:n,D:r}),this.l=e,this.i=t}function Wu(e,t,n,r,i,o){zl.call(this,sc,{email:e,ga:t},o,"federatedLinking",{F:r,D:i}),this.i=n}function Qu(e,t,n,r,i,o){zl.call(this,Wl,{email:n,Ta:!!t},o,"passwordRecovery",{F:r,D:i}),this.l=e,this.u=t}function Yu(){return nl(this,"firebaseui-id-name")}function Ju(){return nl(this,"firebaseui-id-name-error")}function Xu(e,t,n,r,i,o,a,s,l){zl.call(this,Hl,{email:r,Tb:e,name:i,Ta:!!n,ia:!!s},l,"passwordSignUp",{F:o,D:a}),this.w=t,this.H=n,this.B=e}function Zu(e,t){var n=Ya(Vd(e)),r=t.j(),i=null;n&&(i=t.M());var o=t.P();if(r){if(n){if(!i)return void t.u().focus();i=ie(i)}if(o){var a=xu.auth.EmailAuthProvider.credential(r,o);jd(e,t.I(C(e.Yb,e),[r,o],(function(r){var o={user:r.user,credential:a,operationType:r.operationType,additionalUserInfo:r.additionalUserInfo};return n?(r=r.user.updateProfile({displayName:i}).then((function(){return ou(e,t,o)})),jd(e,r),r):ou(e,t,o)}),(function(n){if(!n.name||"cancel"!=n.name){var i=iu(n);switch(n=lu(i),i.code){case"auth/email-already-in-use":return function(e,t,n,r){function i(){var e=lu(r);ol(t.i(),!1),ul(t.U(),e),t.i().focus()}var o=Td(e).fetchSignInMethodsForEmail(n).then((function(r){r.length?i():(r=Bl(t),t.m(),vs("passwordRecovery",e,r,n,!1,jn().toString()))}),(function(){i()}));return jd(e,o),o}(e,t,r,i);case"auth/too-many-requests":n=mn("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":ol(t.l(),!1),ul(t.ba(),n);break;case"auth/admin-restricted-operation":qa(Vd(e))?(n=Bl(t),t.m(),vs("handleUnauthorizedUser",e,n,r,xu.auth.EmailAuthProvider.PROVIDER_ID)):t.a(n);break;default:eo(i="setAccountInfo: "+Fo(i),void 0),t.a(n)}}})))}else t.l().focus()}else t.i().focus()}function ed(){return nl(this,"firebaseui-id-phone-confirmation-code")}function td(){return nl(this,"firebaseui-id-phone-confirmation-code-error")}function nd(){return nl(this,"firebaseui-id-resend-countdown")}function rd(e,t,n,r,i,o,a,s,l){zl.call(this,Ec,{phoneNumber:i},l,"phoneSignInFinish",{F:a,D:s}),this.jb=o,this.i=new Rs(1e3),this.B=o,this.P=e,this.l=t,this.H=n,this.M=r}s(Gc,zl),Gc.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),ql(this,this.l(),this.i()),Gl(this,this.i(),this.w),xs(this.l())?this.i().focus():this.l().focus(),zl.prototype.v.call(this)},Gc.prototype.o=function(){this.H=this.w=null,zl.prototype.o.call(this)},N(Gc.prototype,{l:Uc,U:Vc,P:zc,M:Bc,j:qc,i:Oc,B:Dc,ea:Lc,u:Mc,ua:Ac,pa:Pc,ba:Rc}),O($c,zl),$c.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),$c.K.v.call(this)},$c.prototype.o=function(){this.i=null,$c.K.o.call(this)},N($c.prototype,{l:Ac,w:Pc,u:Rc}),O(Kc,$c),O(Hc,$c),O(Wc,$c),O(Qc,$c),O(Yc,$c),O(Jc,$c),O(Xc,$c),O(Zc,$c),O(eu,$c),O(tu,$c),O(nu,$c),O(ru,$c),s(bu,zl),bu.prototype.v=function(){var e=this;ll(this,this.l(),(function(){e.i()})),this.l().focus(),zl.prototype.v.call(this)},bu.prototype.o=function(){this.i=null,zl.prototype.o.call(this)},N(bu.prototype,{l:Pc}),ms.anonymousUserMismatch=function(e,t){var n=new bu((function(){n.m(),hu(e,t)}));n.render(t),Ed(e,n)},s(wu,zl),wu.prototype.I=function(e,t,n,r){return e.apply(null,t).then(n,r)},ms.callback=function(e,t,n){var r=new wu;r.render(t),Ed(e,r),n=n||Sd(e),jd(e,n.then((function(t){ku(e,r,t)}),(function(n){if((n=iu(n))&&("auth/account-exists-with-different-credential"==n.code||"auth/email-already-in-use"==n.code)&&n.email&&n.credential)ua(new uo(n.email,n.credential),Ad(e)),Su(e,r,n.email);else if(n&&"auth/user-cancelled"==n.code){var i=la(Ad(e)),o=lu(n);i&&i.a?Su(e,r,i.g,o):i?fu(e,r,i.g,o):Iu(e,r,n)}else n&&"auth/credential-already-in-use"==n.code||(n&&"auth/operation-not-supported-in-this-environment"==n.code&&uu(e)?ku(e,r,{user:null,credential:null}):n&&"auth/admin-restricted-operation"==n.code&&qa(Vd(e))?(r.m(),ca(Ad(e)),vs("handleUnauthorizedUser",e,t,null,null)):Iu(e,r,n))})))},s(Eu,zl),Eu.prototype.v=function(){var e=this;ll(this,this.l(),(function(){e.i()})),this.l().focus(),zl.prototype.v.call(this)},Eu.prototype.o=function(){this.i=null,zl.prototype.o.call(this)},N(Eu.prototype,{l:Pc}),ms.differentDeviceError=function(e,t){var n=new Eu((function(){n.m(),hu(e,t)}));n.render(t),Ed(e,n)},s(Cu,zl),Cu.prototype.v=function(){var e=this;ll(this,nl(this,"firebaseui-id-reset-password-link"),(function(){e.l()})),this.i&&(this.w(this.i),this.u().focus()),zl.prototype.v.call(this)},Cu.prototype.o=function(){this.l=this.i=null,zl.prototype.o.call(this)},N(Cu.prototype,{u:Ac,B:Pc,w:Rc}),s(Du,zl),Du.prototype.v=function(){this.H(),this.B(this.l),Gl(this,this.i(),this.l),this.i().focus(),zl.prototype.v.call(this)},Du.prototype.o=function(){this.l=null,zl.prototype.o.call(this)},N(Du.prototype,{i:Tu,w:Pu,M:Nu,H:Ru,u:Ou,U:Ac,P:Pc,B:Rc}),s(Lu,zl),Lu.prototype.v=function(){var e=this;ll(this,nl(this,"firebaseui-id-reset-password-link"),(function(){e.l()})),this.i&&(this.w(this.i),this.u().focus()),zl.prototype.v.call(this)},Lu.prototype.o=function(){this.l=this.i=null,zl.prototype.o.call(this)},N(Lu.prototype,{u:Ac,B:Pc,w:Rc}),ms.passwordReset=function(e,t,n,r){jd(e,Td(e).verifyPasswordResetCode(n).then((function(i){var o=new Du(i,(function(){!function(e,t,n,r,i){var o=n.u();o&&jd(e,n.I(C(Td(e).confirmPasswordReset,Td(e)),[r,o],(function(){n.m();var r=new Zc(i);r.render(t),Ed(e,r)}),(function(r){Mu(e,t,n,r)})))}(e,t,o,n,r)}));o.render(t),Ed(e,o)}),(function(){Mu(e,t)})))},ms.emailChangeRevocation=function(e,t,n){var r=null;jd(e,Td(e).checkActionCode(n).then((function(t){return r=t.data.email,Td(e).applyActionCode(n)})).then((function(){!function(e,t,n){var r=new Cu(n,(function(){jd(e,r.I(C(Td(e).sendPasswordResetEmail,Td(e)),[n],(function(){r.m(),(r=new Kc(n,void 0,Wa(Vd(e)),Qa(Vd(e)))).render(t),Ed(e,r)}),(function(){r.a(Ln().toString())})))}));r.render(t),Ed(e,r)}(e,t,r)}),(function(){var n=new tu;n.render(t),Ed(e,n)})))},ms.emailVerification=function(e,t,n,r){jd(e,Td(e).applyActionCode(n).then((function(){var n=new Hc(r);n.render(t),Ed(e,n)}),(function(){var n=new Wc;n.render(t),Ed(e,n)})))},ms.revertSecondFactorAddition=function(e,t,n){var r=null,i=null;jd(e,Td(e).checkActionCode(n).then((function(t){return r=t.data.email,i=t.data.multiFactorInfo,Td(e).applyActionCode(n)})).then((function(){!function(e,t,n,r){var i=new Lu(r.factorId,(function(){i.I(C(Td(e).sendPasswordResetEmail,Td(e)),[n],(function(){i.m(),(i=new Kc(n,void 0,Wa(Vd(e)),Qa(Vd(e)))).render(t),Ed(e,i)}),(function(){i.a(Ln().toString())}))}),r.phoneNumber);i.render(t),Ed(e,i)}(e,t,r,i)}),(function(){var n=new Jc;n.render(t),Ed(e,n)})))},ms.verifyAndChangeEmail=function(e,t,n,r){var i=null;jd(e,Td(e).checkActionCode(n).then((function(t){return i=t.data.email,Td(e).applyActionCode(n)})).then((function(){var n=new Qc(i,r);n.render(t),Ed(e,n)}),(function(){var n=new Yc;n.render(t),Ed(e,n)})))},s(Fu,zl),Fu.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),ju(this.i(),(this.i().value||"").length),zl.prototype.v.call(this)},Fu.prototype.o=function(){this.u=this.l=null,zl.prototype.o.call(this)},N(Fu.prototype,{i:Uc,M:Vc,w:zc,H:Bc,j:qc,U:Ac,P:Pc,B:Rc}),ms.emailLinkConfirmation=function(e,t,n,r,i,o){var a=new Fu((function(){var i=a.j();i?(a.m(),r(e,t,i,n)):a.i().focus()}),(function(){a.m(),hu(e,t,i||void 0)}),i||void 0,Wa(Vd(e)),Qa(Vd(e)));a.render(t),Ed(e,a),o&&a.a(o)},s(Uu,zl),Uu.prototype.v=function(){this.u(this.i),this.l().focus(),zl.prototype.v.call(this)},Uu.prototype.o=function(){this.i=null,zl.prototype.o.call(this)},N(Uu.prototype,{l:Ac,u:Rc}),ms.emailLinkNewDeviceLinking=function(e,t,n,r){var i=new Ve(n);if(n=i.a.a.get(Ge.PROVIDER_ID)||null,Be(i,null),n){var o=new Uu(Ua(Vd(e),n),(function(){o.m(),r(e,t,i.toString())}),Wa(Vd(e)),Qa(Vd(e)));o.render(t),Ed(e,o)}else hu(e,t)},s(Vu,zl),ms.emailLinkSignInCallback=zu,s(Gu,zl),Gu.prototype.v=function(){this.u(this.i),this.l().focus(),zl.prototype.v.call(this)},Gu.prototype.o=function(){this.i=null,zl.prototype.o.call(this)},N(Gu.prototype,{l:Ac,u:Rc}),ms.emailLinkSignInLinking=function(e,t,n){var r=la(Ad(e));if(ca(Ad(e)),r){var i=r.a.providerId,o=new Gu(n,Ua(Vd(e),i),(function(){!function(e,t,n,r){var i=Bl(t);gu(e,t,n,(function(){hu(e,i,n)}),(function(r){if(!r.name||"cancel"!=r.name){var o=lu(r);r&&"auth/network-request-failed"==r.code?t.a(o):(t.m(),hu(e,i,n,o))}}),r)}(e,o,n,r)}),Wa(Vd(e)),Qa(Vd(e)));o.render(t),Ed(e,o)}else hu(e,t)},s($u,zl),$u.prototype.v=function(){var e=this;ll(this,this.l(),(function(){e.i()})),ll(this,nl(this,"firebaseui-id-trouble-getting-email-link"),(function(){e.u()})),this.l().focus(),zl.prototype.v.call(this)},$u.prototype.o=function(){this.i=this.u=null,zl.prototype.o.call(this)},N($u.prototype,{l:Pc}),ms.emailLinkSignInSent=function(e,t,n,r,i){var o=new $u(n,(function(){o.m(),vs("emailNotReceived",e,t,n,r,i)}),(function(){o.m(),r()}),Wa(Vd(e)),Qa(Vd(e)));o.render(t),Ed(e,o)},s(Ku,zl),Ku.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),zl.prototype.v.call(this)},Ku.prototype.o=function(){this.i=null,zl.prototype.o.call(this)},N(Ku.prototype,{u:Ac,B:Pc,w:Rc}),ms.emailMismatch=function(e,t,n){var r=la(Ad(e));if(r){var i=new Ku(n.user.email,r.g,(function(){var t=i;ca(Ad(e)),ou(e,t,n)}),(function(){var t=n.credential.providerId,o=Bl(i);i.m(),r.a?vs("federatedLinking",e,o,r.g,t):vs("federatedSignIn",e,o,r.g,t)}),Wa(Vd(e)),Qa(Vd(e)));i.render(t),Ed(e,i)}else hu(e,t)},s(Hu,zl),Hu.prototype.v=function(){var e=this;ll(this,this.u(),(function(){e.i()})),ll(this,this.Da(),(function(){e.l()})),this.u().focus(),zl.prototype.v.call(this)},Hu.prototype.Da=function(){return nl(this,"firebaseui-id-resend-email-link")},Hu.prototype.o=function(){this.i=this.l=null,zl.prototype.o.call(this)},N(Hu.prototype,{u:Pc}),ms.emailNotReceived=function(e,t,n,r,i){var o=new Hu((function(){gu(e,o,n,r,(function(e){e=lu(e),o.a(e)}),i)}),(function(){o.m(),hu(e,t,n)}),Wa(Vd(e)),Qa(Vd(e)));o.render(t),Ed(e,o)},s(Wu,zl),Wu.prototype.v=function(){this.u(this.i),this.l().focus(),zl.prototype.v.call(this)},Wu.prototype.o=function(){this.i=null,zl.prototype.o.call(this)},N(Wu.prototype,{l:Ac,u:Rc}),ms.federatedLinking=function(e,t,n,r,i){var o=la(Ad(e));if(o&&o.a){var a=new Wu(n,Ua(Vd(e),r),(function(){cu(e,a,r,n)}),Wa(Vd(e)),Qa(Vd(e)));a.render(t),Ed(e,a),i&&a.a(i)}else hu(e,t)},ms.federatedRedirect=function(e,t,n){var r=new Vu;r.render(t),Ed(e,r),cu(e,r,t=Fa(Vd(e))[0],n)},ms.federatedSignIn=function(e,t,n,r,i){var o=new Wu(n,Ua(Vd(e),r),(function(){cu(e,o,r,n)}),Wa(Vd(e)),Qa(Vd(e)));o.render(t),Ed(e,o),i&&o.a(i)},ms.passwordLinking=function(e,t,n){var r=la(Ad(e));ca(Ad(e));var i=r&&r.a;if(i){var o=new jc(n,(function(){!function(e,t,n,r){var i=t.u();i?jd(e,t.I(C(e.Xb,e),[n,i],(function(n){return n=n.user.linkWithCredential(r).then((function(n){return ou(e,t,{user:n.user,credential:r,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})})),jd(e,n),n}),(function(e){if(!e.name||"cancel"!=e.name)switch(e.code){case"auth/wrong-password":ol(t.i(),!1),ul(t.B(),lu(e));break;case"auth/too-many-requests":t.a(lu(e));break;default:eo("signInWithEmailAndPassword: "+e.message,void 0),t.a(lu(e))}}))):t.i().focus()}(e,o,n,i)}),(function(){o.m(),vs("passwordRecovery",e,t,n)}),Wa(Vd(e)),Qa(Vd(e)));o.render(t),Ed(e,o)}else hu(e,t)},s(Qu,zl),Qu.prototype.v=function(){this.B(),this.H(this.l,this.u),xs(this.i())||this.i().focus(),Gl(this,this.i(),this.l),zl.prototype.v.call(this)},Qu.prototype.o=function(){this.u=this.l=null,zl.prototype.o.call(this)},N(Qu.prototype,{i:Uc,w:Vc,B:zc,M:Bc,j:qc,U:Ac,P:Pc,H:Rc}),ms.passwordRecovery=function(e,t,n,r,i){var o=new Qu((function(){!function(e,t){var n=t.j();if(n){var r=Bl(t);jd(e,t.I(C(Td(e).sendPasswordResetEmail,Td(e)),[n],(function(){t.m();var i=new Kc(n,(function(){i.m(),hu(e,r)}),Wa(Vd(e)),Qa(Vd(e)));i.render(r),Ed(e,i)}),(function(e){ol(t.i(),!1),ul(t.w(),lu(e))})))}else t.i().focus()}(e,o)}),r?void 0:function(){o.m(),hu(e,t)},n,Wa(Vd(e)),Qa(Vd(e)));o.render(t),Ed(e,o),i&&o.a(i)},ms.passwordSignIn=function(e,t,n,r){var i=new Gc((function(){!function(e,t){var n=t.j(),r=t.u();if(n)if(r){var i=xu.auth.EmailAuthProvider.credential(n,r);jd(e,t.I(C(e.bc,e),[n,r],(function(n){return ou(e,t,{user:n.user,credential:i,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})}),(function(e){if(!e.name||"cancel"!=e.name)switch(e.code){case"auth/email-already-in-use":break;case"auth/email-exists":ol(t.l(),!1),ul(t.U(),lu(e));break;case"auth/too-many-requests":case"auth/wrong-password":ol(t.i(),!1),ul(t.B(),lu(e));break;default:eo("verifyPassword: "+e.message,void 0),t.a(lu(e))}})))}else t.i().focus();else t.l().focus()}(e,i)}),(function(){var n=i.M();i.m(),vs("passwordRecovery",e,t,n)}),n,Wa(Vd(e)),Qa(Vd(e)),r);i.render(t),Ed(e,i)},s(Xu,zl),Xu.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(ql(this,this.i(),this.u()),ql(this,this.u(),this.l())):ql(this,this.i(),this.l()),this.w&&Gl(this,this.l(),this.w),xs(this.i())?this.B&&!xs(this.u())?this.u().focus():this.l().focus():this.i().focus(),zl.prototype.v.call(this)},Xu.prototype.o=function(){this.H=this.w=null,zl.prototype.o.call(this)},N(Xu.prototype,{i:Uc,U:Vc,ea:zc,jb:Bc,j:qc,u:Yu,Bc:Ju,Ja:function(){var e=Yu.call(this),t=Ju.call(this);al(this,e,(function(){dl(t)&&(ol(e,!0),cl(t))}))},M:function(){var e=Yu.call(this),t=Ju.call(this),n=xs(e);return ol(e,n=!/^[\s\xa0]*$/.test(null==n?"":String(n))),n?(cl(t),t=!0):(ul(t,mn("Enter your account name").toString()),t=!1),t?Q(xs(e)):null},l:Tu,ba:Pu,lb:Nu,ua:Ru,P:Ou,Nb:Ac,Mb:Pc,pa:Rc}),ms.passwordSignUp=function(e,t,n,r,i,o){var a=new Xu(Ya(Vd(e)),(function(){Zu(e,a)}),i?void 0:function(){a.m(),hu(e,t)},n,r,Wa(Vd(e)),Qa(Vd(e)),o);a.render(t),Ed(e,a)},s(rd,zl),rd.prototype.v=function(){var e=this;this.U(this.jb),cr(this.i,"tick",this.w,!1,this),this.i.start(),ll(this,nl(this,"firebaseui-id-change-phone-number-link"),(function(){e.P()})),ll(this,this.Da(),(function(){e.M()})),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),zl.prototype.v.call(this)},rd.prototype.o=function(){this.M=this.H=this.l=this.P=null,Os(this.i),hr(this.i,"tick",this.w),this.i=null,zl.prototype.o.call(this)},rd.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(Os(this.i),hr(this.i,"tick",this.w),this.ua(),this.lb())},N(rd.prototype,{u:ed,pa:td,Ja:function(e){var t=ed.call(this),n=td.call(this);al(this,t,(function(){dl(n)&&(ol(t,!0),cl(n))})),e&&sl(this,t,(function(){e()}))},ba:function(){var e=Q(xs(ed.call(this))||"");return/^\d{6}$/.test(e)?e:null},Fb:nd,U:function(e){en(nd.call(this),mn("Resend code in "+(9<e?"0:":"0:0")+e).toString())},ua:function(){cl(this.Fb())},Da:function(){return nl(this,"firebaseui-id-resend-link")},lb:function(){ul(this.Da())},Nb:Ac,Mb:Pc,ea:Rc}),ms.phoneSignInFinish=function(e,t,n,r,i,o){var a=new rd((function(){a.m(),vs("phoneSignInStart",e,t,n)}),(function(){!function(e,t,n,r){function i(e){t.u().focus(),ol(t.u(),!1),ul(t.pa(),e)}var o=t.ba();o?(t.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",mn("Verifying...").toString()),jd(e,t.I(C(r.confirm,r),[o],(function(n){t.h(),t.$("firebaseui-icon-done",mn("Verified!").toString());var r=setTimeout((function(){t.h(),t.m();var r={user:Nd(e).currentUser,credential:null,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo};ou(e,t,r,!0)}),1e3);jd(e,(function(){t&&t.h(),clearTimeout(r)}))}),(function(r){if(r.name&&"cancel"==r.name)t.h();else{var o=iu(r);switch(r=lu(o),o.code){case"auth/credential-already-in-use":t.h();break;case"auth/code-expired":o=Bl(t),t.h(),t.m(),vs("phoneSignInStart",e,o,n,r);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":t.h(),i(r);break;default:t.h(),t.a(r)}}})))):i(mn("Wrong code. Try again.").toString())}(e,a,n,i)}),(function(){a.m(),hu(e,t)}),(function(){a.m(),vs("phoneSignInStart",e,t,n)}),Aa(n),r,Wa(Vd(e)),Qa(Vd(e)));a.render(t),Ed(e,a),o&&a.a(o)};var id=!it&&!(We("Safari")&&!(Xe()||We("Coast")||We("Opera")||We("Edge")||We("Firefox")||We("FxiOS")||We("Silk")||We("Android")));function od(e,t){return/-[a-z]/.test(t)?null:id&&e.dataset?!We("Android")||Xe()||We("Firefox")||We("FxiOS")||We("Opera")||We("Silk")||t in e.dataset?void 0===(e=e.dataset[t])?null:e:null:e.getAttribute("data-"+String(t).replace(/([A-Z])/g,"-$1").toLowerCase())}function ad(e,t,n){var r=this;e=cn(El,{items:e},null,this.s),Ol.call(this,e,!0,!0),n&&(n=function(e,t){e=(e||document).getElementsByTagName("BUTTON");for(var n=0;n<e.length;n++)if(od(e[n],"listboxid")===t)return e[n];return null}(e,n))&&(n.focus(),function(e,t){var n=(t=t||Jt(document))||Jt(document),r=Js(e),i=Js(n);if(!it||9<=Number(vt)){a=Qs(n,"borderLeftWidth");var o=Qs(n,"borderRightWidth");s=Qs(n,"borderTopWidth"),l=Qs(n,"borderBottomWidth"),o=new Ws(parseFloat(s),parseFloat(o),parseFloat(l),parseFloat(a))}else{var a=Zs(n,"borderLeft");o=Zs(n,"borderRight");var s=Zs(n,"borderTop"),l=Zs(n,"borderBottom");o=new Ws(s,o,l,a)}n==Jt(document)?(a=r.a-n.scrollLeft,r=r.g-n.scrollTop,!it||10<=Number(vt)||(a+=o.left,r+=o.top)):(a=r.a-i.a-o.left,r=r.g-i.g-o.top),i=e.offsetWidth,o=e.offsetHeight,s=ut&&!i&&!o,e=h(i)&&!s||!e.getBoundingClientRect?new $t(i,o):new $t((e=Ys(e)).right-e.left,e.bottom-e.top),i=n.clientHeight-e.height,o=n.scrollLeft,s=n.scrollTop,n=new Gt(o+=Math.min(a,Math.max(a-(n.clientWidth-e.width),0)),s+=Math.min(r,Math.max(r-i,0))),t.scrollLeft=n.a,t.scrollTop=n.g}(n,e)),ll(this,e,(function(e){(e=(e=tn(e.target,"firebaseui-id-list-box-dialog-button"))&&od(e,"listboxid"))&&(Dl.call(r),t(e))}))}function sd(){return nl(this,"firebaseui-id-phone-number")}function ld(){return nl(this,"firebaseui-id-country-selector")}function cd(){return nl(this,"firebaseui-id-phone-number-error")}function ud(e,t){var n=e.a,r=dd("1-US-0",n),i=null;if(!(i=t&&dd(t,n)?t:r?"1-US-0":0<n.length?n[0].c:null))throw Error("No available default country");pd.call(this,i,e)}function dd(e,t){return!(!(e=xa(e))||!B(t,e))}function hd(e){return"firebaseui-flag-"+e.f}function fd(e){var t=this;ad.call(this,function(e){return e.map((function(e){return{id:e.c,Ma:"firebaseui-flag "+hd(e),label:e.name+" \u200e+"+e.b}}))}(e.a),(function(n){pd.call(t,n,e,!0),t.O().focus()}),this.Ba)}function pd(e,t,n){var r=xa(e);r&&(n&&((t=ka(t,n=Q(xs(sd.call(this))||""))).length&&t[0].b!=r.b&&(n="+"+r.b+n.substr(t[0].b.length+1),_s(sd.call(this),n))),t=xa(this.Ba),this.Ba=e,e=nl(this,"firebaseui-id-country-selector-flag"),t&&ks(e,hd(t)),ws(e,hd(r)),en(nl(this,"firebaseui-id-country-selector-code"),"\u200e+"+r.b))}function gd(e,t,n,r,i,o,a,s,l,c){zl.call(this,Sc,{Gb:t,Aa:l||null,Va:!!n,ia:!!o},c,"phoneSignInStart",{F:r,D:i}),this.H=s||null,this.M=t,this.l=e,this.w=n||null,this.pa=a||null}function md(e,t,n,r){try{var i=t.U(as)}catch(Ye){return}i?is?(t.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",mn("Verifying...").toString()),jd(e,t.I(C(e.cc,e),[Aa(i),n],(function(n){var r=Bl(t);t.$("firebaseui-icon-done",mn("Code sent!").toString());var o=setTimeout((function(){t.h(),t.m(),vs("phoneSignInFinish",e,r,i,15,n)}),1e3);jd(e,(function(){t&&t.h(),clearTimeout(o)}))}),(function(n){if(t.h(),!n.name||"cancel"!=n.name){grecaptcha.reset(ss),is=null;var r=n&&n.message||"";if(n.code)switch(n.code){case"auth/too-many-requests":r=mn("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":return t.O().focus(),void ul(t.B(),Dn().toString());case"auth/admin-restricted-operation":if(qa(Vd(e)))return n=Bl(t),t.m(),void vs("handleUnauthorizedUser",e,n,Aa(i),xu.auth.PhoneAuthProvider.PROVIDER_ID);r=lu(n);break;default:r=lu(n)}t.a(r)}})))):os?ul(t.u(),mn("Solve the reCAPTCHA").toString()):!os&&r&&t.i().click():(t.O().focus(),ul(t.B(),Dn().toString()))}function vd(e,t,n,r,i){zl.call(this,Ic,{Sb:t},i,"providerSignIn",{F:n,D:r}),this.i=e}function yd(e,t,n,r,i,o,a){zl.call(this,$l,{email:n,Va:!!t,ia:!!o},a,"signIn",{F:r,D:i}),this.i=e,this.u=t}function bd(e,t,n,r,i,o,a){zl.call(this,lc,{kc:e,yb:n,Eb:!!r},a,"unauthorizedUser",{F:i,D:o}),this.l=t,this.i=r}function wd(e,t,n,r,i,o){zl.call(this,cc,{email:e},o,"unsupportedProvider",{F:r,D:i}),this.l=t,this.i=n}function kd(e,t){this.$=!1;var n=Id(t);if(_d[n])throw Error('An AuthUI instance already exists for the key "'+n+'"');_d[n]=this,this.a=e,this.u=null,this.Y=!1,xd(this.a),this.h=xu.initializeApp({apiKey:e.app.options.apiKey,authDomain:e.app.options.authDomain},e.app.name+"-firebaseui-temp").auth(),(e=e.emulatorConfig)&&(n=e.port,this.h.useEmulator(e.protocol+"://"+e.host+(null===n?"":":"+n),e.options)),xd(this.h),this.h.setPersistence&&this.h.setPersistence(xu.auth.Auth.Persistence.SESSION),this.oa=t,this.ca=new Da,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=Pi.Xa(),this.j=this.C=null,this.da=this.A=!1}function xd(e){e&&e.INTERNAL&&e.INTERNAL.logFramework&&e.INTERNAL.logFramework("FirebaseUI-web")}s(gd,zl),gd.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||ql(this,this.O(),this.i()),Gl(this,this.i(),this.l),this.O().focus(),ju(this.O(),(this.O().value||"").length),zl.prototype.v.call(this)},gd.prototype.o=function(){this.w=this.l=null,zl.prototype.o.call(this)},N(gd.prototype,{Cb:Ll,O:sd,B:cd,ea:function(e,t,n){var r=this,i=sd.call(this),o=ld.call(this),a=cd.call(this),s=e||Ca,l=s.a;if(0==l.length)throw Error("No available countries provided.");ud.call(r,s,t),ll(this,o,(function(){fd.call(r,s)})),al(this,i,(function(){dl(a)&&(ol(i,!0),cl(a));var e=Q(xs(i)||""),t=xa(this.Ba),n=ka(s,e);e=dd("1-US-0",l),n.length&&n[0].b!=t.b&&(t=n[0],pd.call(r,"1"==t.b&&e?"1-US-0":t.c,s))})),n&&sl(this,i,(function(){n()}))},U:function(e){var t=Q(xs(sd.call(this))||""),n=(e=e||Ca).a,r=ka(Ca,t);if(r.length&&!B(n,r[0]))throw _s(sd.call(this)),sd.call(this).focus(),ul(cd.call(this),mn("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return n=xa(this.Ba),r.length&&r[0].b!=n.b&&pd.call(this,r[0].c,e),r.length&&(t=t.substr(r[0].b.length+1)),t?new Ta(this.Ba,t):null},Ja:ld,ba:function(){return nl(this,"firebaseui-recaptcha-container")},u:function(){return nl(this,"firebaseui-id-recaptcha-error")},i:Ac,ua:Pc,P:Rc}),ms.phoneSignInStart=function(e,t,n,r){var i=function(e){var t=null;if(Ma(e).forEach((function(e){e.provider==xu.auth.PhoneAuthProvider.PROVIDER_ID&&x(e.recaptchaParameters)&&!Array.isArray(e.recaptchaParameters)&&(t=ae(e.recaptchaParameters))})),t){var n=[];gs.forEach((function(e){"undefined"!==typeof t[e]&&(n.push(e),delete t[e])})),n.length&&io('The following provided "recaptchaParameters" keys are not allowed: '+n.join(", "))}return t}(Vd(e))||{};is=null,os=!(i&&"invisible"===i.size);var o=du(e),a=function(e){var t=(e=ja(e,xu.auth.PhoneAuthProvider.PROVIDER_ID))&&e.defaultCountry||null;t=t&&_a(t);var n=null;return e&&"string"===typeof e.loginHint&&(n=Na(e.loginHint)),t&&t[0]||n&&xa(n.a)||null}(Vd(e)),s=o?function(e){var t=null;return(e=ja(e,xu.auth.PhoneAuthProvider.PROVIDER_ID))&&"string"===typeof e.loginHint&&(t=Na(e.loginHint)),e&&e.defaultNationalNumber||t&&t.Aa||null}(Vd(e)):null;a=n&&n.a||a&&a.c||null,n=n&&n.Aa||s,(s=Ka(Vd(e)))&&Sa(s),as=s?new wa(Ka(Vd(e))):Ca;var l=new gd((function(t){md(e,l,c,!(!t||!t.keyCode))}),os,o?null:function(){c.clear(),l.m(),hu(e,t)},Wa(Vd(e)),Qa(Vd(e)),o,as,a,n);l.render(t),Ed(e,l),r&&l.a(r),i.callback=function(t){l.u()&&cl(l.u()),is=t,os||md(e,l,c)},i["expired-callback"]=function(){is=null};var c=new xu.auth.RecaptchaVerifier(os?l.ba():l.i(),i,Nd(e).app);jd(e,l.I(C(c.render,c),[],(function(e){ss=e}),(function(n){n.name&&"cancel"==n.name||(n=lu(n),l.m(),hu(e,t,void 0,n))})))},ms.prefilledEmailSignIn=function(e,t,n){var r=new Vu;r.render(t),Ed(e,r),jd(e,r.I(C(Td(e).fetchSignInMethodsForEmail,Td(e)),[n],(function(i){r.m();var o=!(!uu(e)||!Pd(e));pu(e,t,i,n,void 0,o)}),(function(i){i=lu(i),r.m(),vs("signIn",e,t,n,i)})))},s(vd,zl),vd.prototype.v=function(){this.l(this.i),zl.prototype.v.call(this)},vd.prototype.o=function(){this.i=null,zl.prototype.o.call(this)},N(vd.prototype,{l:function(e){function t(t){e(t)}for(var n=this.g?Ht("firebaseui-id-idp-button",this.g||this.s.a):[],r=0;r<n.length;r++){var i=n[r];ll(this,i,T(t,od(i,"providerId")))}}}),ms.providerSignIn=function(e,t,n,r){var i=new vd((function(n){n==xu.auth.EmailAuthProvider.PROVIDER_ID?(i.m(),mu(e,t,r)):n==xu.auth.PhoneAuthProvider.PROVIDER_ID?(i.m(),vs("phoneSignInStart",e,t)):"anonymous"==n?function(e,t){jd(e,t.I(C(e.$b,e),[],(function(n){return t.m(),ou(e,t,n,!0)}),(function(e){e.name&&"cancel"==e.name||(eo("ContinueAsGuest: "+e.code,void 0),e=lu(e),t.a(e))})))}(e,i):cu(e,i,n,r),zd(e),e.l.cancel()}),Va(Vd(e)),Wa(Vd(e)),Qa(Vd(e)));i.render(t),Ed(e,i),n&&i.a(n),function(e){zd(e);try{Ri(e.l,za(Vd(e)),function(e){var t;return zd(e),(t=e.Z)||(e=Vd(e),e=$a(e,xu.auth.GoogleAuthProvider.PROVIDER_ID),t=!(!e||"select_account"!==e.prompt)),t}(e)).then((function(t){return!!e.g&&function(e,t,n){if(n&&n.credential&&n.clientId===za(Vd(e))){if(Ga(Vd(e),xu.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var r=JSON.parse(atob(n.credential.split(".")[1])).email}catch(Ye){}return cu(e,t,xu.auth.GoogleAuthProvider.PROVIDER_ID,r),Jr(!0)}return function(n){var r=!1;return n=t.I(C(e.ac,e),[n],(function(n){var i=Bl(t);t.m(),vs("callback",e,i,Jr(n)),r=!0}),(function(n){if((!n.name||"cancel"!=n.name)&&(!n||"auth/credential-already-in-use"!=n.code))if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential){var r=Bl(t);t.m(),vs("callback",e,r,Xr(n))}else n&&"auth/admin-restricted-operation"==n.code&&qa(Vd(e))?(n=Bl(t),t.m(),vs("handleUnauthorizedUser",e,n,null,xu.auth.GoogleAuthProvider.PROVIDER_ID)):(n=lu(n),t.a(n))})),jd(e,n),n.then((function(){return r}),(function(){return!1}))}(xu.auth.GoogleAuthProvider.credential(n.credential))}return n&&t.a(mn("The selected credential for the authentication provider is not supported!").toString()),Jr(!1)}(e,e.g,t)}))}catch(t){}}(e)},ms.sendEmailLinkForSignIn=function(e,t,n,r){var i=new wu;i.render(t),Ed(e,i),gu(e,i,n,r,(function(r){i.m(),r&&"auth/admin-restricted-operation"==r.code&&qa(Vd(e))?vs("handleUnauthorizedUser",e,t,n,xu.auth.EmailAuthProvider.PROVIDER_ID):(r=lu(r),vs("signIn",e,t,n,r))}))},s(yd,zl),yd.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),ju(this.l(),(this.l().value||"").length),zl.prototype.v.call(this)},yd.prototype.o=function(){this.u=this.i=null,zl.prototype.o.call(this)},N(yd.prototype,{l:Uc,M:Vc,w:zc,H:Bc,j:qc,U:Ac,P:Pc,B:Rc}),ms.signIn=function(e,t,n,r){var i=uu(e),o=new yd((function(){var t=o,n=t.j()||"";n&&fu(e,t,n)}),i?null:function(){o.m(),hu(e,t,n)},n,Wa(Vd(e)),Qa(Vd(e)),i);o.render(t),Ed(e,o),r&&o.a(r)},s(bd,zl),bd.prototype.v=function(){var e=this,t=nl(this,"firebaseui-id-unauthorized-user-help-link");this.i&&t&&ll(this,t,(function(){e.i()})),ll(this,this.u(),(function(){e.l()})),this.u().focus(),zl.prototype.v.call(this)},bd.prototype.o=function(){this.i=this.l=null,zl.prototype.o.call(this)},N(bd.prototype,{u:Pc}),ms.handleUnauthorizedUser=function(e,t,n,r){function i(){hu(e,t)}r===xu.auth.EmailAuthProvider.PROVIDER_ID?i=function(){mu(e,t)}:r===xu.auth.PhoneAuthProvider.PROVIDER_ID&&(i=function(){vs("phoneSignInStart",e,t)});var o=null,a=null;r===xu.auth.EmailAuthProvider.PROVIDER_ID&&Ba(Vd(e))?(o=function(e){return(e=ja(e,xu.auth.EmailAuthProvider.PROVIDER_ID))&&e.disableSignUp&&e.disableSignUp.adminEmail||null}(Vd(e)),a=function(e){if((e=ja(e,xu.auth.EmailAuthProvider.PROVIDER_ID))&&e.disableSignUp){var t=e.disableSignUp.helpLink||null;if(t&&"string"===typeof t)return function(){di(t)}}return null}(Vd(e))):qa(Vd(e))&&(o=function(e){return(e=e.a.get("adminRestrictedOperation"))&&e.adminEmail?e.adminEmail:null}(Vd(e)),a=function(e){if(e=e.a.get("adminRestrictedOperation")||null){var t=e.helpLink||null;if(t&&"string"===typeof t)return function(){di(t)}}return null}(Vd(e)));var s=new bd(n,(function(){s.m(),i()}),o,a,Wa(Vd(e)),Qa(Vd(e)));s.render(t),Ed(e,s)},s(wd,zl),wd.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),zl.prototype.v.call(this)},wd.prototype.o=function(){this.i=this.l=null,zl.prototype.o.call(this)},N(wd.prototype,{u:Ac,B:Pc,w:Rc}),ms.unsupportedProvider=function(e,t,n){var r=new wd(n,(function(){r.m(),vs("passwordRecovery",e,t,n)}),(function(){r.m(),hu(e,t,n)}),Wa(Vd(e)),Qa(Vd(e)));r.render(t),Ed(e,r)};var _d={};function Id(e){return e||"[DEFAULT]"}function Sd(e){return zd(e),e.i||(e.i=Ld(e,(function(t){return t&&!la(Ad(e))?Jr(Nd(e).getRedirectResult().then((function(e){return e}),(function(t){if(t&&"auth/email-already-in-use"==t.code&&t.email&&t.credential)throw t;return Gd(e,t)}))):Jr(Td(e).getRedirectResult().then((function(t){return La(Vd(e))&&!t.user&&e.j&&!e.j.isAnonymous?Nd(e).getRedirectResult():t})))}))),e.i}function Ed(e,t){zd(e),e.g=t}var Cd=null;function Td(e){return zd(e),e.h}function Nd(e){return zd(e),e.a}function Ad(e){return zd(e),e.oa}function Pd(e){return zd(e),e.O?e.O.emailHint:void 0}function Rd(e){return"signIn"===((e=new Ve(e)).a.a.get(Ge.ub)||null)&&!!e.a.a.get(Ge.$a)}function Od(e,t,n,r){zd(e),"undefined"!==typeof e.a.languageCode&&(e.u=e.a.languageCode);var i="en".replace(/_/g,"-");e.a.languageCode=i,e.h.languageCode=i,e.Y=!0,"undefined"!==typeof e.a.tenantId&&(e.h.tenantId=e.a.tenantId),e.ib(n),e.O=r||null;var o=d.document;e.C?e.C.then((function(){"complete"==o.readyState?Dd(e,t):dr(window,"load",(function(){Dd(e,t)}))})):"complete"==o.readyState?Dd(e,t):dr(window,"load",(function(){Dd(e,t)}))}function Dd(e,t){var n=hi(t,"Could not find the FirebaseUI widget element on the page.");if(n.setAttribute("lang","en".replace(/_/g,"-")),Cd){var r=Cd;zd(r),la(Ad(r))&&io("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),Cd.reset()}if(Cd=e,e.T=n,function(e,t){e.L=null,e.J=new Nr(t),e.J.register(),cr(e.J,"pageEnter",(function(t){if(t=t&&t.pageId,e.L!=t){var n=Vd(e);(n=rs(n).uiChanged||null)&&n(e.L,t),e.L=t}}))}(e,n),Ho(new Wo)&&Ho(new Qo)){t=hi(t,"Could not find the FirebaseUI widget element on the page."),n=(n=be(n=fi(),r=ga(Vd(e).a,"queryParameterForSignInSuccessUrl")))?Nt(Pt(n)).toString():null;e:{r=fi();var i=Ha(Vd(e));for(o in r=be(r,i)||"",fs)if(fs[o].toLowerCase()==r.toLowerCase()){var o=fs[o];break e}o="callback"}switch(o){case"callback":n&&(o=Ad(e),aa(ta,n,o)),e.nb()?vs("callback",e,t):hu(e,t,Pd(e));break;case"resetPassword":vs("passwordReset",e,t,vu(),yu());break;case"recoverEmail":vs("emailChangeRevocation",e,t,vu());break;case"revertSecondFactorAddition":vs("revertSecondFactorAddition",e,t,vu());break;case"verifyEmail":vs("emailVerification",e,t,vu(),yu());break;case"verifyAndChangeEmail":vs("verifyAndChangeEmail",e,t,vu(),yu());break;case"signIn":vs("emailLinkSignInCallback",e,t,fi()),Bd();break;case"select":n&&(o=Ad(e),aa(ta,n,o)),hu(e,t);break;default:throw Error("Unhandled widget operation.")}(t=rs(t=Vd(e)).uiShown||null)&&t()}else t=hi(t,"Could not find the FirebaseUI widget element on the page."),(o=new ru(mn("The browser you are using does not support Web Storage. Please try again in a different browser.").toString())).render(t),Ed(e,o);t=e.g&&"blank"==e.g.Ga&&Xa(Vd(e)),da(Ad(e))&&!t&&(Ud(e,(t=da(Ad(e))).a),oa(ea,Ad(e)))}function Ld(e,t){if(e.A)return t(Md(e));if(jd(e,(function(){e.A=!1})),La(Vd(e))){var n=new Gr((function(n){jd(e,e.a.onAuthStateChanged((function(r){e.j=r,e.A||(e.A=!0,n(t(Md(e))))})))}));return jd(e,n),n}return e.A=!0,t(null)}function Md(e){return zd(e),La(Vd(e))&&e.j&&e.j.isAnonymous?e.j:null}function jd(e,t){if(zd(e),t){e.s.push(t);var n=function(){$(e.s,(function(e){return e==t}))};"function"!=typeof t&&t.then(n,n)}}function Fd(e){"undefined"!==typeof e.a.languageCode&&e.Y&&(e.Y=!1,e.a.languageCode=e.u)}function Ud(e,t){e.a.tenantId=t,e.h.tenantId=t}function Vd(e){return zd(e),e.ca}function zd(e){if(e.$)throw Error("AuthUI instance is deleted!")}function Bd(){var e=fi();if(Rd(e)){for(var t in e=new Ve(e),Ge)Ge.hasOwnProperty(t)&&Me(e.a.a,Ge[t]);t={state:"signIn",mode:"emailLink",operation:"clear"};var n=d.document.title;d.history&&d.history.replaceState&&d.history.replaceState(t,n,e.toString())}}function qd(e){return zd(e),Td(e).signOut()}function Gd(e,t,n){if(zd(e),t&&t.code&&("auth/email-already-in-use"==t.code||"auth/credential-already-in-use"==t.code)){var r=ns(Vd(e));return Jr().then((function(){return r(new Vn("anonymous-upgrade-merge-conflict",null,n||t.credential))})).then((function(){throw e.g&&(e.g.m(),e.g=null),t}))}return Xr(t)}function $d(e,t,n,r){zl.call(this,Nc,void 0,r,"providerMatchByEmail",{F:t,D:n}),this.i=e}function Kd(e,t,n,r,i){zl.call(this,Tc,{ec:t},i,"selectTenant",{F:n,D:r}),this.i=e}function Hd(e){zl.call(this,Jl,void 0,e,"spinner")}function Wd(e){for(var t in this.a=new ha,fa(this.a,"authDomain"),fa(this.a,"displayMode",nh),fa(this.a,"tenants"),fa(this.a,"callbacks"),fa(this.a,"tosUrl"),fa(this.a,"privacyPolicyUrl"),e)if(e.hasOwnProperty(t))try{pa(this.a,t,e[t])}catch(Je){eo('Invalid config: "'+t+'"',void 0)}}function Qd(e){return e.a.get("callbacks")||{}}function Yd(e){var t=e.a.get("tosUrl")||null;if(e=e.a.get("privacyPolicyUrl")||null,t&&!e&&io("Privacy Policy URL is missing, the link will not be displayed."),t&&e){if("function"===typeof t)return t;if("string"===typeof t)return function(){di(t)}}return null}function Jd(e){var t=e.a.get("tosUrl")||null,n=e.a.get("privacyPolicyUrl")||null;if(n&&!t&&io("Terms of Service URL is missing, the link will not be displayed."),t&&n){if("function"===typeof n)return n;if("string"===typeof n)return function(){di(n)}}return null}function Xd(e,t){if(!(e=e.a.get("tenants"))||!e.hasOwnProperty(t)&&!e.hasOwnProperty(ih))throw Error("Invalid tenant configuration!")}function Zd(e,t,n){if(!(e=e.a.get("tenants")))throw Error("Invalid tenant configuration!");var r=[];if(!(e=e[t]||e[ih]))return eo("Invalid tenant configuration: "+t+" is not configured!",void 0),r;if(!(t=e.signInOptions))throw Error("Invalid tenant configuration: signInOptions are invalid!");return t.forEach((function(e){if("string"===typeof e)r.push(e);else if("string"===typeof e.provider){var t=e.hd;t&&n?(t instanceof RegExp?t:new RegExp("@"+t.replace(".","\\.")+"$")).test(n)&&r.push(e.provider):r.push(e.provider)}else eo(e="Invalid tenant configuration: signInOption "+JSON.stringify(e)+" is invalid!",void 0)})),r}function eh(e,t,n){return e=function(e,t){var n=th,r=void 0===r?{}:r;return Xd(e,t),e=e.a.get("tenants"),function(e,t,n){return n=void 0===n?{}:n,Object.keys(e).filter((function(e){return t.includes(e)})).reduce((function(t,n){return t[n]=e[n],t}),n)}(e[t]||e[ih],n,r)}(e,t),(t=e.signInOptions)&&n&&(t=t.filter((function(e){return"string"===typeof e?n.includes(e):n.includes(e.provider)})),e.signInOptions=t),e}(e=kd.prototype).nb=function(){return zd(this),!!da(Ad(this))||Rd(fi())},e.start=function(e,t){Od(this,e,t)},e.Db=function(){zd(this),this.Z=!0},e.reset=function(){zd(this);var e=this;this.T&&this.T.removeAttribute("lang"),this.J&&Cr(this.J),Fd(this),this.O=null,Bd(),oa(ea,Ad(this)),zd(this),this.l.cancel(),this.i=Jr({user:null,credential:null}),Cd==this&&(Cd=null),this.T=null;for(var t=0;t<this.s.length;t++)"function"==typeof this.s[t]?this.s[t]():this.s[t].cancel&&this.s[t].cancel();this.s=[],ca(Ad(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=qd(this).then((function(){e.C=null}),(function(){e.C=null})))},e.ib=function(e){zd(this);var t,n=this.ca;for(t in e)try{pa(n.a,t,e[t])}catch(nt){eo('Invalid config: "'+t+'"',void 0)}dt&&pa(n.a,"popupMode",!1),Ka(n),!this.da&&es(Vd(this))&&(io("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)},e.Wb=function(){zd(this);var e=Vd(this),t=ga(e.a,"widgetUrl");e=Ha(e);for(var n,r=t.search(ye),i=0,o=[];0<=(n=ve(t,i,e,r));)o.push(t.substring(i,n)),i=Math.min(t.indexOf("&",n)+1||r,r);o.push(t.substr(i)),t=o.join("").replace(we,"$1"),(e+=r="="+encodeURIComponent("select"))?(0>(r=t.indexOf("#"))&&(r=t.length),0>(i=t.indexOf("?"))||i>r?(i=r,n=""):n=t.substring(i+1,r),r=(t=[t.substr(0,i),n,t.substr(r)])[1],t[1]=e?r?r+"&"+e:e:r,r=t[0]+(t[1]?"?"+t[1]:"")+t[2]):r=t,Vd(this).a.get("popupMode")?(r=r||"about:blank",(e={width:500,height:600,top:0<(e=(window.screen.availHeight-600)/2)?e:0,left:0<(t=(window.screen.availWidth-500)/2)?t:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1}).target=e.target||r.target||"google_popup",e.width=e.width||690,e.height=e.height||500,(e=ci(r,e))&&e.focus()):qt(window.location,r)},e.Wa=function(){var e=this;return zd(this),this.h.app.delete().then((function(){var t=Id(Ad(e));delete _d[t],e.reset(),e.$=!0}))},e.Ib=function(e,t){zd(this);var n=this,r=function(){for(var e=32,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();if(!Ja(Vd(this)))return Xr(Error("Email link sign-in should be enabled to trigger email sending."));var i=function(e){if(Ja(e)){var t={url:fi(),handleCodeInApp:!0};(e=ja(e,xu.auth.EmailAuthProvider.PROVIDER_ID))&&"function"===typeof e.emailLinkSignIn&&le(t,e.emailLinkSignIn()),e=t.url;var n=fi();n instanceof ke||(n=Se(n)),e instanceof ke||(e=Se(e));var r=n;n=new ke(r);var i=!!e.j;i?xe(n,e.j):i=!!e.A,i?n.A=e.A:i=!!e.h,i?n.h=e.h:i=null!=e.C;var o=e.g;if(i)_e(n,e.C);else if(i=!!e.g)if("/"!=o.charAt(0)&&(r.h&&!r.g?o="/"+o:-1!=(r=n.g.lastIndexOf("/"))&&(o=n.g.substr(0,r+1)+o)),".."==o||"."==o)o="";else if(-1!=o.indexOf("./")||-1!=o.indexOf("/.")){r=0==o.lastIndexOf("/",0),o=o.split("/");for(var a=[],s=0;s<o.length;){var l=o[s++];"."==l?r&&s==o.length&&a.push(""):".."==l?((1<a.length||1==a.length&&""!=a[0])&&a.pop(),r&&s==o.length&&a.push("")):(a.push(l),r=!0)}o=a.join("/")}return i?n.g=o:i=""!==e.a.toString(),i?Ie(n,Fe(e.a)):i=!!e.s,i&&(n.s=e.s),t.url=n.toString(),t}return null}(Vd(this)),o=new Ve(i.url);return function(e,t){t?e.a.a.set(Ge.Sa,t):Me(e.a.a,Ge.Sa)}(o,r),t&&t.a&&(function(e,t,n){aa(ra,Lo(e,JSON.stringify(ho(t))),n)}(r,t,Ad(this)),Be(o,t.a.providerId)),function(e,t){null!==t?e.a.a.set(Ge.Qa,t?"1":"0"):Me(e.a.a,Ge.Qa)}(o,function(e){return!(!(e=ja(e,xu.auth.EmailAuthProvider.PROVIDER_ID))||!e.forceSameDevice)}(Vd(this))),Ld(this,(function(t){return t&&((t=t.uid)?o.a.a.set(Ge.Pa,t):Me(o.a.a,Ge.Pa)),i.url=o.toString(),Td(n).sendSignInLinkToEmail(e,i)})).then((function(){var t=Ad(n),i={};i.email=e,aa(na,Lo(r,JSON.stringify(i)),t)}),(function(e){throw oa(ra,Ad(n)),oa(na,Ad(n)),e}))},e.bc=function(e,t){zd(this);var n=this;return Td(this).signInWithEmailAndPassword(e,t).then((function(r){return Ld(n,(function(i){return i?qd(n).then((function(){return Gd(n,{code:"auth/email-already-in-use"},xu.auth.EmailAuthProvider.credential(e,t))})):r}))}))},e.Yb=function(e,t){zd(this);var n=this;return Ld(this,(function(r){if(r){var i=xu.auth.EmailAuthProvider.credential(e,t);return r.linkWithCredential(i)}return Td(n).createUserWithEmailAndPassword(e,t)}))},e.ac=function(e){zd(this);var t=this;return Ld(this,(function(n){return n?n.linkWithCredential(e).then((function(e){return e}),(function(n){if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential)throw n;return Gd(t,n,e)})):Td(t).signInWithCredential(e)}))},e.dc=function(e){zd(this);var t=this,n=this.i;return this.i=null,Ld(this,(function(n){return n&&!la(Ad(t))?n.linkWithRedirect(e):Td(t).signInWithRedirect(e)})).then((function(){}),(function(e){throw t.i=n,e}))},e.cc=function(e,t){zd(this);var n=this;return Ld(this,(function(r){return r?r.linkWithPhoneNumber(e,t).then((function(e){return new Li(e,(function(e){if("auth/credential-already-in-use"==e.code)return Gd(n,e);throw e}))})):Nd(n).signInWithPhoneNumber(e,t).then((function(e){return new Li(e)}))}))},e.$b=function(){return zd(this),Nd(this).signInAnonymously()},e.Xb=function(e,t){return zd(this),Td(this).signInWithEmailAndPassword(e,t)},s($d,zl),$d.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),ju(this.l(),(this.l().value||"").length),zl.prototype.v.call(this)},$d.prototype.o=function(){this.i=null,zl.prototype.o.call(this)},N($d.prototype,{l:Uc,H:Vc,u:zc,B:Bc,j:qc,M:Ac,w:Rc}),s(Kd,zl),Kd.prototype.v=function(){!function(e,t){function n(e){t(e)}for(var r=e.g?Ht("firebaseui-id-tenant-selection-button",e.g||e.s.a):[],i=0;i<r.length;i++){var o=r[i];ll(e,o,T(n,od(o,"tenantId")))}}(this,this.i),zl.prototype.v.call(this)},Kd.prototype.o=function(){this.i=null,zl.prototype.o.call(this)},s(Hd,zl);var th=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],nh="optionFirst",rh={pc:nh,oc:"identifierFirst"},ih="*";function oh(e,t){var n=this;this.s=hi(e),this.a={},Object.keys(t).forEach((function(e){n.a[e]=new Wd(t[e])})),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(e){this.ob=e||null},enumerable:!1})}function ah(e){e.j&&e.j.reset(),e.mb(),e.g&&e.g.m()}(e=oh.prototype).Ub=function(e,t){var n=this;ah(this);var r=e.apiKey;return new Gr((function(e,i){if(n.a.hasOwnProperty(r)){var o=Qd(n.a[r]).selectTenantUiHidden||null;if(function(e){for(var t in e=e.a.get("displayMode"),rh)if(rh[t]===e)return rh[t];return nh}(n.a[r])===nh){var a=[];t.forEach((function(e){e=e||"_";var t=n.a[r].a.get("tenants");if(!t)throw Error("Invalid tenant configuration!");(t=t[e]||t[ih])?e={tenantId:"_"!==e?e:null,V:t.fullLabel||null,displayName:t.displayName,za:t.iconUrl,ta:t.buttonColor}:(eo("Invalid tenant configuration: "+e+" is not configured!",void 0),e=null),e&&a.push(e)}));var s=function(t){t={tenantId:t,providerIds:Zd(n.a[r],t||"_")},e(t)};if(1===a.length)return void s(a[0].tenantId);n.g=new Kd((function(e){ah(n),o&&o(),s(e)}),a,Yd(n.a[r]),Jd(n.a[r]))}else n.g=new $d((function(){var i=n.g.j();if(i){for(var a=0;a<t.length;a++){var s=Zd(n.a[r],t[a]||"_",i);if(0!==s.length)return i={tenantId:t[a],providerIds:s,email:i},ah(n),o&&o(),void e(i)}n.g.a(Fn({code:"no-matching-tenant-for-email"}).toString())}}),Yd(n.a[r]),Jd(n.a[r]));n.g.render(n.s),(i=Qd(n.a[r]).selectTenantUiShown||null)&&i()}else{var l=Error("Invalid project configuration: API key is invalid!");l.code="invalid-configuration",n.pb(l),i(l)}}))},e.Pb=function(e,t){if(!this.a.hasOwnProperty(e))throw Error("Invalid project configuration: API key is invalid!");var n=t||void 0;Xd(this.a[e],t||"_");try{this.i=xu.app(n).auth()}catch(Sj){var r=this.a[e].a.get("authDomain");if(!r)throw Error("Invalid project configuration: authDomain is required!");(e=xu.initializeApp({apiKey:e,authDomain:r},n)).auth().tenantId=t,this.i=e.auth()}return this.i},e.Zb=function(e,t){var n=this;return new Gr((function(r,i){function o(t,r){n.j=new kd(e),Od(n.j,n.s,t,r)}var a=e.app.options.apiKey;n.a.hasOwnProperty(a)||i(Error("Invalid project configuration: API key is invalid!"));var s=eh(n.a[a],e.tenantId||"_",t&&t.providerIds);ah(n),i={signInSuccessWithAuthResult:function(e){return r(e),!1}};var l,c=Qd(n.a[a]).signInUiShown||null,u=!1;i.uiChanged=function(t,r){null===t&&"callback"===r?((t=Wt("firebaseui-id-page-callback",n.s))&&cl(t),n.h=new Hd,n.h.render(n.s)):u||null===t&&"spinner"===r||"blank"===r||(n.h&&(n.h.m(),n.h=null),u=!0,c&&c(e.tenantId))},s.callbacks=i,s.credentialHelper="none",t&&t.email&&(l={emailHint:t.email}),n.j?n.j.Wa().then((function(){o(s,l)})):o(s,l)}))},e.reset=function(){var e=this;return Jr().then((function(){e.j&&e.j.Wa()})).then((function(){e.j=null,ah(e)}))},e.Vb=function(){var e=this;this.h||this.A||(this.A=window.setTimeout((function(){ah(e),e.h=new Hd,e.g=e.h,e.h.render(e.s),e.A=null}),500))},e.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},e.Bb=function(){return ah(this),this.g=new Xc,this.g.render(this.s),Jr()},e.pb=function(e){var t,n=this,r=Fn({code:e.code}).toString()||e.message;ah(this),e.retry&&"function"===typeof e.retry&&(t=function(){n.reset(),e.retry()}),this.g=new nu(r,t),this.g.render(this.s)},e.Rb=function(e){var t=this;return Jr().then((function(){var n=t.i&&t.i.app.options.apiKey;if(!t.a.hasOwnProperty(n))throw Error("Invalid project configuration: API key is invalid!");if(Xd(t.a[n],e.tenantId||"_"),!t.i.currentUser||t.i.currentUser.uid!==e.uid)throw Error("The user being processed does not match the signed in user!");return(n=Qd(t.a[n]).beforeSignInSuccess||null)?n(e):e})).then((function(t){if(t.uid!==e.uid)throw Error("User with mismatching UID returned.");return t}))},R("firebaseui.auth.FirebaseUiHandler",oh),R("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",oh.prototype.Ub),R("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",oh.prototype.Pb),R("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",oh.prototype.Zb),R("firebaseui.auth.FirebaseUiHandler.prototype.reset",oh.prototype.reset),R("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",oh.prototype.Vb),R("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",oh.prototype.mb),R("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",oh.prototype.Bb),R("firebaseui.auth.FirebaseUiHandler.prototype.handleError",oh.prototype.pb),R("firebaseui.auth.FirebaseUiHandler.prototype.processUser",oh.prototype.Rb),R("firebaseui.auth.AuthUI",kd),R("firebaseui.auth.AuthUI.getInstance",(function(e){return e=Id(e),_d[e]?_d[e]:null})),R("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",kd.prototype.Db),R("firebaseui.auth.AuthUI.prototype.start",kd.prototype.start),R("firebaseui.auth.AuthUI.prototype.setConfig",kd.prototype.ib),R("firebaseui.auth.AuthUI.prototype.signIn",kd.prototype.Wb),R("firebaseui.auth.AuthUI.prototype.reset",kd.prototype.reset),R("firebaseui.auth.AuthUI.prototype.delete",kd.prototype.Wa),R("firebaseui.auth.AuthUI.prototype.isPendingRedirect",kd.prototype.nb),R("firebaseui.auth.AuthUIError",Vn),R("firebaseui.auth.AuthUIError.prototype.toJSON",Vn.prototype.toJSON),R("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",ls),R("firebaseui.auth.CredentialHelper.NONE",cs),R("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),Gr.prototype.catch=Gr.prototype.Ca,Gr.prototype.finally=Gr.prototype.fc}).apply("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:window)}).apply("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:window),"undefined"!==typeof window&&(window.dialogPolyfill=K_());var H_,W_,Q_=firebaseui.auth,Y_="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},J_={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],a=t+(o^n&(i^o))+r[0]+3614090360&4294967295;a=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(a<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=n+((a=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,o=this.h,a=0;a<t;){if(0==o)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[o++]=e.charCodeAt(a++),o==this.blockSize){n(this,i),o=0;break}}else for(;a<t;)if(i[o++]=e[a++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function o(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return s;if(0>e)return h(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var s=o(0),l=o(1),c=o(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function g(e,t){this.g=e,this.h=t}function m(e,t){if(u(t))throw Error("division by zero");if(u(e))return new g(s,s);if(d(e))return t=m(h(e),t),new g(h(t.g),h(t.h));if(d(t))return t=m(e,h(t)),new g(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),o=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=o.add(r);0>=c.l(e)&&(i=i.add(n),o=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new g(i,t)}for(i=s;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(o=a(n)).j(t);d(c)||0<c.l(e);)c=(o=a(n-=r)).j(t);u(o)&&(o=l),i=i.add(o),e=f(e,c)}return new g(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,o=[],a=0;a<i;a++)o[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=m(n,t).g,o=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,o=0;o<=t;o++){var a=i+(65535&this.i(o))+(65535&e.i(o)),s=(a>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);i=s>>>16,a&=65535,s&=65535,n[o]=s<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return s;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<e.g.length;o++){var l=this.i(i)>>>16,f=65535&this.i(i),g=e.i(o)>>>16,m=65535&e.i(o);n[2*i+2*o]+=f*m,p(n,2*i+2*o),n[2*i+2*o+1]+=l*m,p(n,2*i+2*o+1),n[2*i+2*o+1]+=f*g,p(n,2*i+2*o+1),n[2*i+2*o+2]+=l*g,p(n,2*i+2*o+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return m(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,W_=J_.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=s,o=0;o<t.length;o+=8){var l=Math.min(8,t.length-o),c=parseInt(t.substring(o,o+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},H_=J_.Integer=r}).apply("undefined"!==typeof Y_?Y_:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var X_,Z_,eI,tI,nI,rI,iI,oI,aI="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},sI={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof aI&&aI];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];if(!(a in i))break e;i=i[a]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function g(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function m(e){return m[" "](e),e}m[" "]=function(){};var v=-1!=g().indexOf("Gecko")&&!(-1!=g().toLowerCase().indexOf("webkit")&&-1==g().indexOf("Edge"))&&!(-1!=g().indexOf("Trident")||-1!=g().indexOf("MSIE"))&&-1==g().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function x(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function _(e){i.setTimeout((()=>{throw e}),0)}function I(){var e=N;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var S=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new E),(e=>e.reset()));class E{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let C,T=!1,N=new class{constructor(){this.h=this.g=null}add(e,t){const n=S.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},A=()=>{const e=i.Promise.resolve(void 0);C=()=>{e.then(P)}};var P=()=>{for(var e;e=I();){try{e.h.call(e.g)}catch(Je){_(Je)}var t=S;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}T=!1};function R(){this.s=this.s,this.C=this.C}function O(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}R.prototype.s=!1,R.prototype.ma=function(){this.s||(this.s=!0,this.N())},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},O.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(Je){}return e}();function L(e,t){if(O.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{m(t.nodeName);var i=!0;break e}catch(Ye){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:M[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&L.aa.h.call(this)}}d(L,O);var M={2:"touch",3:"pen",4:"mouse"};L.prototype.h=function(){L.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var j="closure_listenable_"+(1e6*Math.random()|0),F=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}z.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=q(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new U(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var G="closure_lm_"+(1e6*Math.random()|0),$={};function K(e,t,n,r,i){if(r&&r.once)return W(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)K(e,t[o],n,r,i);return null}return n=te(n),e&&e[j]?e.K(t,n,a(r)?!!r.capture:!!r,i):H(e,t,n,!1,r,i)}function H(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=a(i)?!!i.capture:!!i,l=Z(e);if(l||(e[G]=l=new z(e)),(n=l.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=X;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(J(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function W(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)W(e,t[o],n,r,i);return null}return n=te(n),e&&e[j]?e.L(t,n,a(r)?!!r.capture:!!r,i):H(e,t,n,!0,r,i)}function Q(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Q(e,t[o],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[j]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(o=e.g[t],n,r,i))&&(V(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,r,i)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[j])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(J(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[G]=null)):V(e)}}}function J(e){return e in $?$[e]:$[e]="on"+e}function X(e,t){if(e.da)e=!0;else{t=new L(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[G])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){R.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new O(t,e);else if(t instanceof O)t.target=t.target||e;else{var i=t;k(t=new O(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ie(a=t.g=n[o],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.da&&a.capture==n){var s=a.listener,l=a.ha||a.src;a.fa&&B(e.i,a),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}function oe(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=oe((()=>{e.g=null,e.i&&(e.i=!1,ae(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,R),ne.prototype[j]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class se extends R{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){R.call(this),this.h=e,this.g={}}d(le,R);var ce=[];function ue(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Y(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function ge(e){return e.h||(e.h=e.i())}function me(){}pe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){O.call(this,"d")}function be(){O.call(this,"c")}d(ye,O),d(be,O);var we={},ke=null;function xe(){return ke=ke||new ne}function _e(e){O.call(this,we.La,e)}function Ie(e){const t=xe();re(t,new _e(t))}function Se(e,t){O.call(this,we.STAT_EVENT,e),this.stat=t}function Ee(e){const t=xe();re(t,new Se(t,e))}function Ce(e,t){O.call(this,we.Ma,e),this.size=t}function Te(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ne(){this.g=!0}function Ae(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return de(n)}catch(at){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",d(_e,O),we.STAT_EVENT="statevent",d(Se,O),we.Ma="timingevent",d(Ce,O),Ne.prototype.xa=function(){this.g=!1},Ne.prototype.info=function(){};var Pe,Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Le(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Me}function Me(){this.i=null,this.g="",this.h=!1}d(De,pe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Pe=new De;var je={},Fe={};function Ue(e,t,n){e.L=1,e.v=bt(pt(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),qe(e),e.A=pt(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Rt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Me,e.g=wn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new se(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var o=0;o<i.length;o++){var a=K(n,i[o],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ie(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?je:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function qe(e){e.S=Date.now()+e.I,Ge(e,e.I)}function Ge(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Te(c(e.ba,e),t)}function $e(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||gn(e.j,e)}function He(e){$e(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function We(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||it(n.h,e)))if(!e.K&&it(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(tt){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;pn(n),rn(n)}dn(n),Ee(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Te(c(n.Za,n),6e3));if(1>=rt(n.h)&&n.ca){try{n.ca()}catch(tt){}n.ca=void 0}}else vn(n,11)}else if((e.K||n.g==e)&&pn(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(st(o,o.h),o.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,yt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=bn(r,r.J?r.ia:null,r.W),a.K){lt(r.h,a);var s=a,l=r.L;l&&(s.I=l),s.B&&($e(s),qe(s)),r.g=a}else un(r);0<n.i.length&&an(n)}else"stop"!=c[0]&&"close"!=c[0]||vn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?vn(n,7):nn(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ie()}catch(tt){}}Le.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Xt(e)?t.j():this.Y(e)},Le.prototype.Y=function(e){try{if(e==this.g)e:{const h=Xt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Zt(this.g)))){this.J||4!=h||7==t||Ie(),$e(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Zt(this.g);e="";var o=r.length,a=4==Xt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){He(this),Ke(this);var s="";break t}this.h.i=new i.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ee(12),He(this),Ke(this);break e}Ae(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,We(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<s.length;){if(e=Be(this,s),e==Fe){4==h&&(this.s=4,Ee(14),n=!1),Ae(this.i,this.l,null,"[Incomplete Response]");break}if(e==je){this.s=4,Ee(15),Ae(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}Ae(this.i,this.l,e,null),We(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=s.length||this.h.h||(this.s=1,Ee(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),hn(d),d.M=!0,Ee(11))}}else Ae(this.i,this.l,s,"[Invalid Chunked Response]"),He(this),Ke(this)}else Ae(this.i,this.l,s,null),We(this,s);4==h&&He(this),this.o&&!this.J&&(4==h?gn(this.j,this):(this.o=!1,qe(this)))}else(function(e){const t={};e=(e.g&&2<=Xt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=x(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,Ee(12)):(this.s=0,Ee(13)),He(this),Ke(this)}}}catch(dt){}},Le.prototype.cancel=function(){this.J=!0,He(this)},Le.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Ie(),Ee(17)),He(this),this.s=2,Ke(this)):Ge(this,this.S-e)};var Xe=class{constructor(e,t){this.g=e,this.map=t}};function Ze(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function et(e){return!!e.h||!!e.g&&e.g.size>=e.j}function rt(e){return e.h?1:e.g?e.g.size:0}function it(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function st(e,t){e.g?e.g.add(t):e.h=t}function lt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ct(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function ut(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(o(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Ze.prototype.cancel=function(){if(this.i=ct(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ht=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ft(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof ft){this.h=e.h,gt(this,e.j),this.o=e.o,this.g=e.g,mt(this,e.s),this.l=e.l;var t=e.i,n=new Tt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),vt(this,n),this.m=e.m}else e&&(t=String(e).match(ht))?(this.h=!1,gt(this,t[1]||"",!0),this.o=wt(t[2]||""),this.g=wt(t[3]||"",!0),mt(this,t[4]),this.l=wt(t[5]||"",!0),vt(this,t[6]||"",!0),this.m=wt(t[7]||"")):(this.h=!1,this.i=new Tt(null,this.h))}function pt(e){return new ft(e)}function gt(e,t,n){e.j=n?wt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function mt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function vt(e,t,n){t instanceof Tt?(e.i=t,function(e,t){t&&!e.j&&(Nt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(At(this,t),Rt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=kt(t,Et)),e.i=new Tt(t,e.h))}function yt(e,t,n){e.i.set(t,n)}function bt(e){return yt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function wt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function kt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,xt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function xt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ft.prototype.toString=function(){var e=[],t=this.j;t&&e.push(kt(t,_t,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(kt(t,_t,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(kt(n,"/"==n.charAt(0)?St:It,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",kt(n,Ct)),e.join("")};var _t=/[#\/\?@]/g,It=/[#\?:]/g,St=/[#\?]/g,Et=/[#\?@]/g,Ct=/#/g;function Tt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Nt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function At(e,t){Nt(e),t=Ot(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Pt(e,t){return Nt(e),t=Ot(e,t),e.g.has(t)}function Rt(e,t,n){At(e,t),0<n.length&&(e.i=null,e.g.set(Ot(e,t),h(n)),e.h+=n.length)}function Ot(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Dt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(Ye){}}function Lt(){this.g=new fe}function Mt(e,t,n){const r=n||"";try{ut(e,(function(e,n){let i=e;a(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(Sj){throw t.push(r+"type="+encodeURIComponent("_badmap")),Sj}}function jt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Ft(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ut(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Vt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,zt(e)}function zt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Bt(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function qt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Bt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):yt(e,t,n))}function Gt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Tt.prototype).add=function(e,t){Nt(this),this.i=null,e=Ot(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Nt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){Nt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Nt(this);let t=[];if("string"===typeof e)Pt(this,e)&&(t=t.concat(this.g.get(Ot(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Nt(this),this.i=null,Pt(this,e=Ot(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=o;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},d(jt,pe),jt.prototype.g=function(){return new Ft(this.l,this.j)},jt.prototype.i=function(e){return function(){return e}}({}),d(Ft,ne),(e=Ft.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,zt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,zt(this)),this.g&&(this.readyState=3,zt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ut(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Vt(this):zt(this),3==this.readyState&&Ut(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Vt(this))},e.Qa=function(e){this.g&&(this.response=e,Vt(this))},e.ga=function(){this.g&&Vt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ft.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Gt,ne);var $t=/^https?$/i,Kt=["POST","PUT"];function Ht(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Wt(e),Yt(e)}function Wt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Qt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Xt(e)||2!=e.Z()))if(e.u&&4==Xt(e))oe(e.Ea,0,e);else if(re(e,"readystatechange"),4==Xt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===r){var a=String(e.D).match(ht)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),o=!$t.test(a?a.toLowerCase():"")}n=o}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var s=2<Xt(e)?e.g.statusText:""}catch(at){s=""}e.l=s+" ["+e.Z()+"]",Wt(e)}}finally{Yt(e)}}}function Yt(e,t){if(e.g){Jt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(Sj){}}}function Jt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Xt(e){return e.g?e.g.readyState:0}function Zt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(ot){return null}}function en(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function tn(e){this.Aa=0,this.i=[],this.j=new Ne,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=en("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=en("baseRetryDelayMs",5e3,e),this.cb=en("retryDelaySeedMs",1e4,e),this.Wa=en("forwardChannelMaxRetries",2,e),this.wa=en("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ze(e&&e.concurrentRequestLimit),this.Da=new Lt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function nn(e){if(on(e),3==e.G){var t=e.U++,n=pt(e.I);if(yt(n,"SID",e.K),yt(n,"RID",t),yt(n,"TYPE","terminate"),ln(e,n),(t=new Le(e,e.j,t)).L=2,t.v=bt(pt(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(nt){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=wn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),qe(t)}yn(e)}function rn(e){e.g&&(hn(e),e.g.cancel(),e.g=null)}function on(e){rn(e),e.u&&(i.clearTimeout(e.u),e.u=null),pn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function an(e){if(!et(e.h)&&!e.s){e.s=!0;var t=e.Ga;C||A(),T||(C(),T=!0),N.add(t,e),e.B=0}}function sn(e,t){var n;n=t?t.l:e.U++;const r=pt(e.I);yt(r,"SID",e.K),yt(r,"RID",n),yt(r,"AID",e.T),ln(e,r),e.m&&e.o&&qt(r,e.m,e.o),n=new Le(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=cn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),st(e.h,n),Ue(n,r,t)}function ln(e,t){e.H&&y(e.H,(function(e,n){yt(t,n,e)})),e.l&&ut({},(function(e,n){yt(t,n,e)}))}function cn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const s=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{Mt(s,e,"req"+n+"_")}catch(dt){r&&r(s)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function un(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;C||A(),T||(C(),T=!0),N.add(t,e),e.v=0}}function dn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Te(c(e.Fa,e),mn(e,e.v)),e.v++,!0)}function hn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function fn(e){e.g=new Le(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=pt(e.qa);yt(t,"RID","rpc"),yt(t,"SID",e.K),yt(t,"AID",e.T),yt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&yt(t,"TO",e.ja),yt(t,"TYPE","xmlhttp"),ln(e,t),e.m&&e.o&&qt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=bt(pt(t)),n.m=null,n.P=!0,Ve(n,e)}function pn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function gn(e,t){var n=null;if(e.g==t){pn(e),hn(e),e.g=null;var r=2}else{if(!it(e.h,t))return;n=t.D,lt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=xe(),new Ce(r,n)),an(e)}else un(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(rt(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Te(c(e.Ga,e,t),mn(e,e.B)),e.B++,!0))}(e,t)||2==r&&dn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:vn(e,5);break;case 4:vn(e,10);break;case 3:vn(e,6);break;default:vn(e,2)}}function mn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function vn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new ft(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||gt(r,"https"),bt(r),t?function(e,t){const n=new Ne;if(i.Image){const r=new Image;r.onload=u(Dt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Dt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Dt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Dt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ne;const n=new AbortController,r=setTimeout((()=>{n.abort(),Dt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Dt(0,0,!0,t):Dt(0,0,!1,t)})).catch((()=>{clearTimeout(r),Dt(0,0,!1,t)}))}(r.toString(),n)}else Ee(2);e.G=0,e.l&&e.l.sa(t),yn(e),on(e)}function yn(e){if(e.G=0,e.ka=[],e.l){const t=ct(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function bn(e,t,n){var r=n instanceof ft?pt(n):new ft(n);if(""!=r.g)t&&(r.g=t+"."+r.g),mt(r,r.s);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var a=new ft(null);r&&gt(a,r),t&&(a.g=t),o&&mt(a,o),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&yt(r,n,t),yt(r,"VER",e.la),ln(e,r),r}function wn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Gt(new jt({eb:n})):new Gt(e.pa)).Ha(e.J),t}function kn(){}function xn(){}function _n(e,t){ne.call(this),this.g=new tn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new En(this)}function In(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Sn(){be.call(this),this.status=1}function En(e){this.g=e}(e=Gt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pe.g(),this.v=this.o?ge(this.o):ge(Pe),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(Ye){return void Ht(this,Ye)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),o=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Kt,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Jt(this),this.u=!0,this.g.send(e),this.u=!1}catch(Ye){Ht(this,Ye)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Yt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yt(this,!0)),Gt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Qt(this):this.bb())},e.bb=function(){Qt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Xt(this)?this.g.status:-1}catch(Qe){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(Qe){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=tn.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ee(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=bn(this,null,this.W),an(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Le(this,this.j,e);let o=this.o;if(this.S&&(o?(o=b(o),k(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=cn(this,i,t),yt(n=pt(this.I),"RID",e),yt(n,"CVER",22),this.D&&yt(n,"X-HTTP-Session-Id",this.D),ln(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Bt(o)))+"&"+t:this.m&&qt(n,this.m,o)),st(this.h,i),this.Ua&&yt(n,"TYPE","init"),this.P?(yt(n,"$req",t),yt(n,"SID","null"),i.T=!0,Ue(i,n,null)):Ue(i,n,t),this.G=2}}else 3==this.G&&(e?sn(this,e):0==this.i.length||et(this.h)||sn(this))},e.Fa=function(){if(this.u=null,fn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Te(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ee(10),rn(this),fn(this))},e.Za=function(){null!=this.C&&(this.C=null,rn(this),dn(this),Ee(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=kn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},xn.prototype.g=function(e,t){return new _n(e,t)},d(_n,ne),_n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){nn(this.g)},_n.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Xe(t.Ya++,e)),3==t.G&&an(t)},_n.prototype.N=function(){this.g.l=null,delete this.j,nn(this.g),delete this.g,_n.aa.N.call(this)},d(In,ye),d(Sn,be),d(En,kn),En.prototype.ua=function(){re(this.g,"a")},En.prototype.ta=function(e){re(this.g,new In(e))},En.prototype.sa=function(e){re(this.g,new Sn)},En.prototype.ra=function(){re(this.g,"b")},xn.prototype.createWebChannel=xn.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,oI=sI.createWebChannelTransport=function(){return new xn},iI=sI.getStatEventTarget=function(){return xe()},rI=sI.Event=we,nI=sI.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,tI=sI.ErrorCode=Re,Oe.COMPLETE="complete",eI=sI.EventType=Oe,me.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Z_=sI.WebChannel=me,sI.FetchXmlHttpFactory=jt,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,X_=sI.XhrIo=Gt}).apply("undefined"!==typeof aI?aI:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const lI="@firebase/firestore";class cI{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cI.UNAUTHENTICATED=new cI(null),cI.GOOGLE_CREDENTIALS=new cI("google-credentials-uid"),cI.FIRST_PARTY=new cI("first-party-uid"),cI.MOCK_USER=new cI("mock-user");let uI="10.14.0";const dI=new pl("@firebase/firestore");function hI(){return dI.logLevel}function fI(e){if(dI.logLevel<=cl.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(mI);dI.debug(`Firestore (${uI}): ${e}`,...i)}}function pI(e){if(dI.logLevel<=cl.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(mI);dI.error(`Firestore (${uI}): ${e}`,...i)}}function gI(e){if(dI.logLevel<=cl.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(mI);dI.warn(`Firestore (${uI}): ${e}`,...i)}}function mI(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch($e){return e}}function vI(){const e=`FIRESTORE (${uI}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw pI(e),new Error(e)}function yI(e,t){e||vI()}function bI(e,t){return e}const wI={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class kI extends qs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xI{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class _I{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class II{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(cI.UNAUTHENTICATED)))}shutdown(){}}class SI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class EI{constructor(e){this.t=e,this.currentUser=cI.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){yI(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new xI;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new xI,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{fI("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(fI("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new xI)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(fI("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(yI("string"==typeof t.accessToken),new _I(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return yI(null===e||"string"==typeof e),new cI(e)}}class CI{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=cI.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class TI{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new CI(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(cI.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class NI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AI{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){yI(void 0===this.o);const n=e=>{null!=e.error&&fI("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,fI("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{fI("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):fI("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(yI("string"==typeof e.token),this.R=e.token,new NI(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function PI(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class RI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=PI(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function OI(e,t){return e<t?-1:e>t?1:0}function DI(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function LI(e){return e+"\0"}class MI{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new kI(wI.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new kI(wI.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new kI(wI.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new kI(wI.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return MI.fromMillis(Date.now())}static fromDate(e){return MI.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new MI(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?OI(this.nanoseconds,e.nanoseconds):OI(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class jI{constructor(e){this.timestamp=e}static fromTimestamp(e){return new jI(e)}static min(){return new jI(new MI(0,0))}static max(){return new jI(new MI(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class FI{constructor(e,t,n){void 0===t?t=0:t>e.length&&vI(),void 0===n?n=e.length-t:n>e.length-t&&vI(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===FI.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof FI?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class UI extends FI{construct(e,t,n){return new UI(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new kI(wI.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new UI(e)}static emptyPath(){return new UI([])}}const VI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zI extends FI{construct(e,t,n){return new zI(e,t,n)}static isValidIdentifier(e){return VI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zI.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new zI(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new kI(wI.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new kI(wI.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new kI(wI.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new kI(wI.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zI(t)}static emptyPath(){return new zI([])}}class BI{constructor(e){this.path=e}static fromPath(e){return new BI(UI.fromString(e))}static fromName(e){return new BI(UI.fromString(e).popFirst(5))}static empty(){return new BI(UI.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===UI.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return UI.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new BI(new UI(e.slice()))}}class qI{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function GI(e){return e.fields.find((e=>2===e.kind))}function $I(e){return e.fields.filter((e=>2!==e.kind))}qI.UNKNOWN_ID=-1;class KI{constructor(e,t){this.fieldPath=e,this.kind=t}}class HI{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new HI(0,YI.min())}}function WI(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=jI.fromTimestamp(1e9===r?new MI(n+1,0):new MI(n,r));return new YI(i,BI.empty(),t)}function QI(e){return new YI(e.readTime,e.key,-1)}class YI{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new YI(jI.min(),BI.empty(),-1)}static max(){return new YI(jI.max(),BI.empty(),-1)}}function JI(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=BI.comparator(e.documentKey,t.documentKey),0!==n?n:OI(e.largestBatchId,t.largestBatchId))}const XI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function eS(e){if(e.code!==wI.FAILED_PRECONDITION||e.message!==XI)throw e;fI("LocalStore","Unexpectedly lost primary lease")}class tS{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&vI(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new tS(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof tS?t:tS.resolve(t)}catch(e){return tS.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):tS.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):tS.reject(t)}static resolve(e){return new tS(((t,n)=>{t(e)}))}static reject(e){return new tS(((t,n)=>{n(e)}))}static waitFor(e){return new tS(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=tS.resolve(!1);for(const n of e)t=t.next((e=>e?tS.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new tS(((n,r)=>{const i=e.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next((e=>{o[l]=e,++a,a===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new tS(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class nS{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new xI,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new aS(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=dS(t.target.error);this.V.reject(new aS(e,n))}}static open(e,t,n,r){try{return new nS(t,e.transaction(r,n))}catch(e){throw new aS(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(fI("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new lS(t)}}class rS{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===rS.S(Ds())&&pI("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return fI("SimpleDb","Removing database:",e),cS(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!zs())return!1;if(rS.v())return!0;const e=Ds(),t=rS.S(e),n=0<t&&t<10,r=iS(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static v(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.C)}static F(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}async M(e){return this.db||(fI("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new aS(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new kI(wI.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new kI(wI.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new aS(e,r))},r.onupgradeneeded=e=>{fI("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.O(t,r.transaction,e.oldVersion,this.version).next((()=>{fI("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.N&&(this.db.onversionchange=e=>this.N(e)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.M(e);const t=nS.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),tS.reject(e)))).toPromise();return o.catch((()=>{})),await t.m,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(fI("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function iS(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class oS{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return cS(this.B.delete())}}class aS extends kI{constructor(e,t){super(wI.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function sS(e){return"IndexedDbTransactionError"===e.name}class lS{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(fI("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(fI("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),cS(n)}add(e){return fI("SimpleDb","ADD",this.store.name,e,e),cS(this.store.add(e))}get(e){return cS(this.store.get(e)).next((t=>(void 0===t&&(t=null),fI("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return fI("SimpleDb","DELETE",this.store.name,e),cS(this.store.delete(e))}count(){return fI("SimpleDb","COUNT",this.store.name),cS(this.store.count())}U(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new tS(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.W(e,((e,n)=>{t.push(n)})).next((()=>t))}}G(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new tS(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}j(e,t){fI("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.H=!1;const r=this.cursor(n);return this.W(r,((e,t,n)=>n.delete()))}J(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.W(r,t)}Y(e){const t=this.cursor({});return new tS(((n,r)=>{t.onerror=e=>{const t=dS(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}W(e,t){const n=[];return new tS(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new oS(i),a=t(i.primaryKey,i.value,o);if(a instanceof tS){const e=a.catch((e=>(o.done(),tS.reject(e))));n.push(e)}o.isDone?r():null===o.K?i.continue():i.continue(o.K)}})).next((()=>tS.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function cS(e){return new tS(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=dS(e.target.error);n(t)}}))}let uS=!1;function dS(e){const t=rS.S(Ds());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new kI("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return uS||(uS=!0,setTimeout((()=>{throw e}),0)),e}}return e}class hS{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){fI("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{fI("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(e){sS(e)?fI("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await eS(e)}await this.X(6e4)}))}}class fS{constructor(e,t){this.localStore=e,this.persistence=t}async ee(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.te(t,e)))}te(e,t){const n=new Set;let r=t,i=!0;return tS.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return fI("IndexBackfiller",`Processing collection: ${t}`),this.ne(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}ne(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.re(r,n))).next((n=>(fI("IndexBackfiller",`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}re(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=QI(t);JI(r,n)>0&&(n=r)})),new YI(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class pS{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function gS(e){return null==e}function mS(e){return 0===e&&1/e==-1/0}function vS(e){return"number"==typeof e&&Number.isInteger(e)&&!mS(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function yS(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=wS(t)),t=bS(e.get(n),t);return wS(t)}function bS(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function wS(e){return e+"\x01\x01"}function kS(e){const t=e.length;if(yI(t>=2),2===t)return yI("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),UI.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("\x01",o);switch((t<0||t>n)&&vI(),e.charAt(t+1)){case"\x01":const n=e.substring(o,t);let a;0===i.length?a=n:(i+=n,a=i,i=""),r.push(a);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:vI()}o=t+2}return new UI(r)}pS.oe=-1;const xS=["userId","batchId"];function _S(e,t){return[e,yS(t)]}function IS(e,t,n){return[e,yS(t),n]}const SS={},ES=["prefixPath","collectionGroup","readTime","documentId"],CS=["prefixPath","collectionGroup","documentId"],TS=["collectionGroup","readTime","prefixPath","documentId"],NS=["canonicalId","targetId"],AS=["targetId","path"],PS=["path","targetId"],RS=["collectionId","parent"],OS=["indexId","uid"],DS=["uid","sequenceNumber"],LS=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],MS=["indexId","uid","orderedDocumentKey"],jS=["userId","collectionPath","documentId"],FS=["userId","collectionPath","largestBatchId"],US=["userId","collectionGroup","largestBatchId"],VS=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],zS=[...VS,"documentOverlays"],BS=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],qS=BS,GS=[...qS,"indexConfiguration","indexState","indexEntries"],$S=GS,KS=[...GS,"globals"];class HS extends ZI{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function WS(e,t){const n=bI(e);return rS.F(n._e,t)}function QS(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function YS(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function JS(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class XS{constructor(e,t){this.comparator=e,this.root=t||eE.EMPTY}insert(e,t){return new XS(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,eE.BLACK,null,null))}remove(e){return new XS(this.comparator,this.root.remove(e,this.comparator).copy(null,null,eE.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ZS(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ZS(this.root,e,this.comparator,!1)}getReverseIterator(){return new ZS(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ZS(this.root,e,this.comparator,!0)}}class ZS{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class eE{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:eE.RED,this.left=null!=r?r:eE.EMPTY,this.right=null!=i?i:eE.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new eE(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return eE.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return eE.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,eE.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,eE.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vI();if(this.right.isRed())throw vI();const e=this.left.check();if(e!==this.right.check())throw vI();return e+(this.isRed()?0:1)}}eE.EMPTY=null,eE.RED=!0,eE.BLACK=!1,eE.EMPTY=new class{constructor(){this.size=0}get key(){throw vI()}get value(){throw vI()}get color(){throw vI()}get left(){throw vI()}get right(){throw vI()}copy(e,t,n,r,i){return this}insert(e,t,n){return new eE(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class tE{constructor(e){this.comparator=e,this.data=new XS(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new nE(this.data.getIterator())}getIteratorFrom(e){return new nE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof tE))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new tE(this.comparator);return t.data=e,t}}class nE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function rE(e){return e.hasNext()?e.getNext():void 0}class iE{constructor(e){this.fields=e,e.sort(zI.comparator)}static empty(){return new iE([])}unionWith(e){let t=new tE(zI.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new iE(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return DI(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class oE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class aE{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new oE("Invalid base64 string: "+e):e}}(e);return new aE(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new aE(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return OI(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}aE.EMPTY_BYTE_STRING=new aE("");const sE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lE(e){if(yI(!!e),"string"==typeof e){let t=0;const n=sE.exec(e);if(yI(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:cE(e.seconds),nanos:cE(e.nanos)}}function cE(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function uE(e){return"string"==typeof e?aE.fromBase64String(e):aE.fromUint8Array(e)}function dE(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function hE(e){const t=e.mapValue.fields.__previous_value__;return dE(t)?hE(t):t}function fE(e){const t=lE(e.mapValue.fields.__local_write_time__.timestampValue);return new MI(t.seconds,t.nanos)}class pE{constructor(e,t,n,r,i,o,a,s,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=l}}class gE{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new gE("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof gE&&e.projectId===this.projectId&&e.database===this.database}}const mE={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},vE={nullValue:"NULL_VALUE"};function yE(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?dE(e)?4:DE(e)?9007199254740991:RE(e)?10:11:vI()}function bE(e,t){if(e===t)return!0;const n=yE(e);if(n!==yE(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return fE(e).isEqual(fE(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=lE(e.timestampValue),r=lE(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return uE(e.bytesValue).isEqual(uE(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return cE(e.geoPointValue.latitude)===cE(t.geoPointValue.latitude)&&cE(e.geoPointValue.longitude)===cE(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return cE(e.integerValue)===cE(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=cE(e.doubleValue),r=cE(t.doubleValue);return n===r?mS(n)===mS(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return DI(e.arrayValue.values||[],t.arrayValue.values||[],bE);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(QS(n)!==QS(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!bE(n[i],r[i])))return!1;return!0}(e,t);default:return vI()}}function wE(e,t){return void 0!==(e.values||[]).find((e=>bE(e,t)))}function kE(e,t){if(e===t)return 0;const n=yE(e),r=yE(t);if(n!==r)return OI(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return OI(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=cE(e.integerValue||e.doubleValue),r=cE(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return xE(e.timestampValue,t.timestampValue);case 4:return xE(fE(e),fE(t));case 5:return OI(e.stringValue,t.stringValue);case 6:return function(e,t){const n=uE(e),r=uE(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=OI(n[i],r[i]);if(0!==e)return e}return OI(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=OI(cE(e.latitude),cE(t.latitude));return 0!==n?n:OI(cE(e.longitude),cE(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return _E(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,o;const a=e.fields||{},s=t.fields||{},l=null===(n=a.value)||void 0===n?void 0:n.arrayValue,c=null===(r=s.value)||void 0===r?void 0:r.arrayValue,u=OI((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(o=null==c?void 0:c.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:_E(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===mE.mapValue&&t===mE.mapValue)return 0;if(e===mE.mapValue)return 1;if(t===mE.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let a=0;a<r.length&&a<o.length;++a){const e=OI(r[a],o[a]);if(0!==e)return e;const t=kE(n[r[a]],i[o[a]]);if(0!==t)return t}return OI(r.length,o.length)}(e.mapValue,t.mapValue);default:throw vI()}}function xE(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return OI(e,t);const n=lE(e),r=lE(t),i=OI(n.seconds,r.seconds);return 0!==i?i:OI(n.nanos,r.nanos)}function _E(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=kE(n[i],r[i]);if(e)return e}return OI(n.length,r.length)}function IE(e){return SE(e)}function SE(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=lE(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return uE(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return BI.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=SE(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${SE(e.fields[i])}`;return n+"}"}(e.mapValue):vI()}function EE(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function CE(e){return!!e&&"integerValue"in e}function TE(e){return!!e&&"arrayValue"in e}function NE(e){return!!e&&"nullValue"in e}function AE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function PE(e){return!!e&&"mapValue"in e}function RE(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function OE(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return YS(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=OE(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=OE(e.arrayValue.values[n]);return t}return Object.assign({},e)}function DE(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}const LE={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function ME(e){return"nullValue"in e?vE:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?EE(gE.empty(),BI.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?RE(e)?LE:{mapValue:{}}:vI()}function jE(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?EE(gE.empty(),BI.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?LE:"mapValue"in e?RE(e)?{mapValue:{}}:mE:vI()}function FE(e,t){const n=kE(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function UE(e,t){const n=kE(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class VE{constructor(e){this.value=e}static empty(){return new VE({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!PE(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=OE(t)}setAll(e){let t=zI.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=OE(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());PE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return bE(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];PE(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){YS(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new VE(OE(this.value))}}function zE(e){const t=[];return YS(e.fields,((e,n)=>{const r=new zI([e]);if(PE(n)){const e=zE(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new iE(t)}class BE{constructor(e,t,n,r,i,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new BE(e,0,jI.min(),jI.min(),jI.min(),VE.empty(),0)}static newFoundDocument(e,t,n,r){return new BE(e,1,t,jI.min(),n,r,0)}static newNoDocument(e,t){return new BE(e,2,t,jI.min(),jI.min(),VE.empty(),0)}static newUnknownDocument(e,t){return new BE(e,3,t,jI.min(),jI.min(),VE.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(jI.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=VE.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=VE.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jI.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof BE&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new BE(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qE{constructor(e,t){this.position=e,this.inclusive=t}}function GE(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(r=o.field.isKeyField()?BI.comparator(BI.fromName(a.referenceValue),n.key):kE(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function $E(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!bE(e.position[n],t.position[n]))return!1;return!0}class KE{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function HE(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class WE{}class QE extends WE{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new oC(e,t,n):"array-contains"===t?new cC(e,n):"in"===t?new uC(e,n):"not-in"===t?new dC(e,n):"array-contains-any"===t?new hC(e,n):new QE(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new aC(e,n):new sC(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(kE(t,this.value)):null!==t&&yE(this.value)===yE(t)&&this.matchesComparison(kE(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return vI()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class YE extends WE{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new YE(e,t)}matches(e){return JE(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function JE(e){return"and"===e.op}function XE(e){return"or"===e.op}function ZE(e){return eC(e)&&JE(e)}function eC(e){for(const t of e.filters)if(t instanceof YE)return!1;return!0}function tC(e){if(e instanceof QE)return e.field.canonicalString()+e.op.toString()+IE(e.value);if(ZE(e))return e.filters.map((e=>tC(e))).join(",");{const t=e.filters.map((e=>tC(e))).join(",");return`${e.op}(${t})`}}function nC(e,t){return e instanceof QE?function(e,t){return t instanceof QE&&e.op===t.op&&e.field.isEqual(t.field)&&bE(e.value,t.value)}(e,t):e instanceof YE?function(e,t){return t instanceof YE&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&nC(n,t.filters[r])),!0)}(e,t):void vI()}function rC(e,t){const n=e.filters.concat(t);return YE.create(n,e.op)}function iC(e){return e instanceof QE?function(e){return`${e.field.canonicalString()} ${e.op} ${IE(e.value)}`}(e):e instanceof YE?function(e){return e.op.toString()+" {"+e.getFilters().map(iC).join(" ,")+"}"}(e):"Filter"}class oC extends QE{constructor(e,t,n){super(e,t,n),this.key=BI.fromName(n.referenceValue)}matches(e){const t=BI.comparator(e.key,this.key);return this.matchesComparison(t)}}class aC extends QE{constructor(e,t){super(e,"in",t),this.keys=lC("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class sC extends QE{constructor(e,t){super(e,"not-in",t),this.keys=lC("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function lC(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>BI.fromName(e.referenceValue)))}class cC extends QE{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return TE(t)&&wE(t.arrayValue,this.value)}}class uC extends QE{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&wE(this.value.arrayValue,t)}}class dC extends QE{constructor(e,t){super(e,"not-in",t)}matches(e){if(wE(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!wE(this.value.arrayValue,t)}}class hC extends QE{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!TE(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>wE(this.value.arrayValue,e)))}}class fC{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function pC(e){return new fC(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function gC(e){const t=bI(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>tC(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),gS(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>IE(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>IE(e))).join(",")),t.ue=e}return t.ue}function mC(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!HE(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!nC(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!$E(e.startAt,t.startAt)&&$E(e.endAt,t.endAt)}function vC(e){return BI.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function yC(e,t){return e.filters.filter((e=>e instanceof QE&&e.field.isEqual(t)))}function bC(e,t,n){let r=vE,i=!0;for(const o of yC(e,t)){let e=vE,t=!0;switch(o.op){case"<":case"<=":e=ME(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=vE}FE({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];FE({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function wC(e,t,n){let r=mE,i=!0;for(const o of yC(e,t)){let e=mE,t=!0;switch(o.op){case">=":case">":e=jE(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=mE}UE({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];UE({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class kC{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function xC(e,t,n,r,i,o,a,s){return new kC(e,t,n,r,i,o,a,s)}function _C(e){return new kC(e)}function IC(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function SC(e){return null!==e.collectionGroup}function EC(e){const t=bI(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new tE(zI.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new KE(r,n))})),e.has(zI.keyField().canonicalString())||t.ce.push(new KE(zI.keyField(),n))}return t.ce}function CC(e){const t=bI(e);return t.le||(t.le=TC(t,EC(e))),t.le}function TC(e,t){if("F"===e.limitType)return pC(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new KE(e.field,t)}));const n=e.endAt?new qE(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new qE(e.startAt.position,e.startAt.inclusive):null;return pC(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function NC(e,t){const n=e.filters.concat([t]);return new kC(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function AC(e,t,n){return new kC(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function PC(e,t){return mC(CC(e),CC(t))&&e.limitType===t.limitType}function RC(e){return`${gC(CC(e))}|lt:${e.limitType}`}function OC(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>iC(e))).join(", ")}]`),gS(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>IE(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>IE(e))).join(",")),`Target(${t})`}(CC(e))}; limitType=${e.limitType})`}function DC(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):BI.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of EC(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=GE(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,EC(e),t))&&!(e.endAt&&!function(e,t,n){const r=GE(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,EC(e),t))}(e,t)}function LC(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function MC(e){return(t,n)=>{let r=!1;for(const i of EC(e)){const e=jC(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function jC(e,t,n){const r=e.field.isKeyField()?BI.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?kE(r,i):vI()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return vI()}}class FC{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){YS(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return JS(this.inner)}size(){return this.innerSize}}const UC=new XS(BI.comparator);function VC(){return UC}const zC=new XS(BI.comparator);function BC(){let e=zC;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function qC(e){let t=zC;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function GC(){return KC()}function $C(){return KC()}function KC(){return new FC((e=>e.toString()),((e,t)=>e.isEqual(t)))}const HC=new XS(BI.comparator),WC=new tE(BI.comparator);function QC(){let e=WC;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const YC=new tE(OI);function JC(){return YC}function XC(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mS(t)?"-0":t}}function ZC(e){return{integerValue:""+e}}function eT(e,t){return vS(t)?ZC(t):XC(e,t)}class tT{constructor(){this._=void 0}}function nT(e,t,n){return e instanceof oT?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&dE(t)&&(t=hE(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof aT?sT(e,t):e instanceof lT?cT(e,t):function(e,t){const n=iT(e,t),r=dT(n)+dT(e.Pe);return CE(n)&&CE(e.Pe)?ZC(r):XC(e.serializer,r)}(e,t)}function rT(e,t,n){return e instanceof aT?sT(e,t):e instanceof lT?cT(e,t):n}function iT(e,t){return e instanceof uT?function(e){return CE(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class oT extends tT{}class aT extends tT{constructor(e){super(),this.elements=e}}function sT(e,t){const n=hT(t);for(const r of e.elements)n.some((e=>bE(e,r)))||n.push(r);return{arrayValue:{values:n}}}class lT extends tT{constructor(e){super(),this.elements=e}}function cT(e,t){let n=hT(t);for(const r of e.elements)n=n.filter((e=>!bE(e,r)));return{arrayValue:{values:n}}}class uT extends tT{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function dT(e){return cE(e.integerValue||e.doubleValue)}function hT(e){return TE(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class fT{constructor(e,t){this.field=e,this.transform=t}}class pT{constructor(e,t){this.version=e,this.transformResults=t}}class gT{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new gT}static exists(e){return new gT(void 0,e)}static updateTime(e){return new gT(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mT(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class vT{}function yT(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new TT(e.key,gT.none()):new _T(e.key,e.data,gT.none());{const n=e.data,r=VE.empty();let i=new tE(zI.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new IT(e.key,r,new iE(i.toArray()),gT.none())}}function bT(e,t,n){e instanceof _T?function(e,t,n){const r=e.value.clone(),i=ET(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof IT?function(e,t,n){if(!mT(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=ET(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ST(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function wT(e,t,n,r){return e instanceof _T?function(e,t,n,r){if(!mT(e.precondition,t))return n;const i=e.value.clone(),o=CT(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof IT?function(e,t,n,r){if(!mT(e.precondition,t))return n;const i=CT(e.fieldTransforms,r,t),o=t.data;return o.setAll(ST(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return mT(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function kT(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=iT(r.transform,e||null);null!=i&&(null===n&&(n=VE.empty()),n.set(r.field,i))}return n||null}function xT(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&DI(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof aT&&t instanceof aT||e instanceof lT&&t instanceof lT?DI(e.elements,t.elements,bE):e instanceof uT&&t instanceof uT?bE(e.Pe,t.Pe):e instanceof oT&&t instanceof oT}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class _T extends vT{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class IT extends vT{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function ST(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function ET(e,t,n){const r=new Map;yI(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,rT(a,s,n[i]))}return r}function CT(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,nT(e,o,t))}return r}class TT extends vT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NT extends vT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class AT{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&bT(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=wT(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=wT(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=$C();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(r.key)?null:a;const s=yT(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(jI.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),QC())}isEqual(e){return this.batchId===e.batchId&&DI(this.mutations,e.mutations,((e,t)=>xT(e,t)))&&DI(this.baseMutations,e.baseMutations,((e,t)=>xT(e,t)))}}class PT{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){yI(e.mutations.length===n.length);let r=HC;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new PT(e,t,n,r)}}class RT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class OT{constructor(e,t){this.count=e,this.unchangedNames=t}}var DT,LT;function MT(e){switch(e){default:return vI();case wI.CANCELLED:case wI.UNKNOWN:case wI.DEADLINE_EXCEEDED:case wI.RESOURCE_EXHAUSTED:case wI.INTERNAL:case wI.UNAVAILABLE:case wI.UNAUTHENTICATED:return!1;case wI.INVALID_ARGUMENT:case wI.NOT_FOUND:case wI.ALREADY_EXISTS:case wI.PERMISSION_DENIED:case wI.FAILED_PRECONDITION:case wI.ABORTED:case wI.OUT_OF_RANGE:case wI.UNIMPLEMENTED:case wI.DATA_LOSS:return!0}}function jT(e){if(void 0===e)return pI("GRPC error has no .code"),wI.UNKNOWN;switch(e){case DT.OK:return wI.OK;case DT.CANCELLED:return wI.CANCELLED;case DT.UNKNOWN:return wI.UNKNOWN;case DT.DEADLINE_EXCEEDED:return wI.DEADLINE_EXCEEDED;case DT.RESOURCE_EXHAUSTED:return wI.RESOURCE_EXHAUSTED;case DT.INTERNAL:return wI.INTERNAL;case DT.UNAVAILABLE:return wI.UNAVAILABLE;case DT.UNAUTHENTICATED:return wI.UNAUTHENTICATED;case DT.INVALID_ARGUMENT:return wI.INVALID_ARGUMENT;case DT.NOT_FOUND:return wI.NOT_FOUND;case DT.ALREADY_EXISTS:return wI.ALREADY_EXISTS;case DT.PERMISSION_DENIED:return wI.PERMISSION_DENIED;case DT.FAILED_PRECONDITION:return wI.FAILED_PRECONDITION;case DT.ABORTED:return wI.ABORTED;case DT.OUT_OF_RANGE:return wI.OUT_OF_RANGE;case DT.UNIMPLEMENTED:return wI.UNIMPLEMENTED;case DT.DATA_LOSS:return wI.DATA_LOSS;default:return vI()}}(LT=DT||(DT={}))[LT.OK=0]="OK",LT[LT.CANCELLED=1]="CANCELLED",LT[LT.UNKNOWN=2]="UNKNOWN",LT[LT.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",LT[LT.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",LT[LT.NOT_FOUND=5]="NOT_FOUND",LT[LT.ALREADY_EXISTS=6]="ALREADY_EXISTS",LT[LT.PERMISSION_DENIED=7]="PERMISSION_DENIED",LT[LT.UNAUTHENTICATED=16]="UNAUTHENTICATED",LT[LT.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",LT[LT.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",LT[LT.ABORTED=10]="ABORTED",LT[LT.OUT_OF_RANGE=11]="OUT_OF_RANGE",LT[LT.UNIMPLEMENTED=12]="UNIMPLEMENTED",LT[LT.INTERNAL=13]="INTERNAL",LT[LT.UNAVAILABLE=14]="UNAVAILABLE",LT[LT.DATA_LOSS=15]="DATA_LOSS";let FT=null;function UT(){return new TextEncoder}const VT=new H_([4294967295,4294967295],0);function zT(e){const t=UT().encode(e),n=new W_;return n.update(t),new Uint8Array(n.digest())}function BT(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new H_([n,r],0),new H_([i,o],0)]}class qT{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new GT(`Invalid padding: ${t}`);if(n<0)throw new GT(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new GT(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new GT(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=H_.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(H_.fromNumber(n)));return 1===r.compare(VT)&&(r=new H_([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=zT(e),[n,r]=BT(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new qT(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Ie)return;const t=zT(e),[n,r]=BT(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class GT extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class $T{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,KT.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new $T(jI.min(),r,new XS(OI),VC(),QC())}}class KT{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new KT(n,t,QC(),QC(),QC())}}class HT{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class WT{constructor(e,t){this.targetId=e,this.me=t}}class QT{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:aE.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class YT{constructor(){this.fe=0,this.ge=ZT(),this.pe=aE.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=QC(),t=QC(),n=QC();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:vI()}})),new KT(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=ZT()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,yI(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class JT{constructor(e){this.Le=e,this.Be=new Map,this.ke=VC(),this.qe=XT(),this.Qe=new XS(OI)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:vI()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(vC(i))if(0===n){const e=new BI(i.path);this.Ue(t,e,BE.newNoDocument(e,jI.min()))}else yI(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==FT||FT.et(function(e,t,n,r,i){var o,a,s,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(s=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===s?void 0:s.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,a;try{o=uE(n).toUint8Array()}catch(e){if(e instanceof oE)return gI("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new qT(o,r,i)}catch(e){return gI(e instanceof GT?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Ie?null:a}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),o=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(o)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&vC(i.target)){const t=new BI(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,BE.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}}));let n=QC();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new $T(e,t,this.Qe,this.ke,n);return this.ke=VC(),this.qe=XT(),this.Qe=new XS(OI),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new YT,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new tE(OI),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||fI("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new YT),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function XT(){return new XS(BI.comparator)}function ZT(){return new XS(BI.comparator)}const eN={asc:"ASCENDING",desc:"DESCENDING"},tN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nN={and:"AND",or:"OR"};class rN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function iN(e,t){return e.useProto3Json||gS(t)?t:{value:t}}function oN(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function aN(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function sN(e,t){return oN(e,t.toTimestamp())}function lN(e){return yI(!!e),jI.fromTimestamp(function(e){const t=lE(e);return new MI(t.seconds,t.nanos)}(e))}function cN(e,t){return uN(e,t).canonicalString()}function uN(e,t){const n=function(e){return new UI(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function dN(e){const t=UI.fromString(e);return yI(ON(t)),t}function hN(e,t){return cN(e.databaseId,t.path)}function fN(e,t){const n=dN(t);if(n.get(1)!==e.databaseId.projectId)throw new kI(wI.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new kI(wI.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new BI(vN(n))}function pN(e,t){return cN(e.databaseId,t)}function gN(e){const t=dN(e);return 4===t.length?UI.emptyPath():vN(t)}function mN(e){return new UI(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function vN(e){return yI(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function yN(e,t,n){return{name:hN(e,t),fields:n.value.mapValue.fields}}function bN(e,t,n){const r=fN(e,t.name),i=lN(t.updateTime),o=t.createTime?lN(t.createTime):jI.min(),a=new VE({mapValue:{fields:t.fields}}),s=BE.newFoundDocument(r,i,o,a);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function wN(e,t){let n;if(t instanceof _T)n={update:yN(e,t.key,t.value)};else if(t instanceof TT)n={delete:hN(e,t.key)};else if(t instanceof IT)n={update:yN(e,t.key,t.data),updateMask:RN(t.fieldMask)};else{if(!(t instanceof NT))return vI();n={verify:hN(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof oT)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof aT)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof lT)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof uT)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw vI()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:sN(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:vI()}(e,t.precondition)),n}function kN(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?gT.updateTime(lN(e.updateTime)):void 0!==e.exists?gT.exists(e.exists):gT.none()}(t.currentDocument):gT.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)yI("REQUEST_TIME"===t.setToServerValue),n=new oT;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new aT(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new lT(e)}else"increment"in t?n=new uT(e,t.increment):vI();const r=zI.fromServerFormat(t.fieldPath);return new fT(r,n)}(e,t))):[];if(t.update){t.update.name;const i=fN(e,t.update.name),o=new VE({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new iE(t.map((e=>zI.fromServerFormat(e))))}(t.updateMask);return new IT(i,o,e,n,r)}return new _T(i,o,n,r)}if(t.delete){const r=fN(e,t.delete);return new TT(r,n)}if(t.verify){const r=fN(e,t.verify);return new NT(r,n)}return vI()}function xN(e,t){return{documents:[pN(e,t.path)]}}function _N(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=pN(e,i);const o=function(e){if(0!==e.length)return PN(YE.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:NN(e.field),direction:EN(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const s=iN(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function IN(e){let t=gN(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){yI(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=SN(e);return t instanceof YE&&ZE(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new KE(AN(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,gS(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new qE(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new qE(n,t)}(n.endAt)),xC(t,i,a,o,s,"F",l,c)}function SN(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=AN(e.unaryFilter.field);return QE.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=AN(e.unaryFilter.field);return QE.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=AN(e.unaryFilter.field);return QE.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=AN(e.unaryFilter.field);return QE.create(i,"!=",{nullValue:"NULL_VALUE"});default:return vI()}}(e):void 0!==e.fieldFilter?function(e){return QE.create(AN(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vI()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return YE.create(e.compositeFilter.filters.map((e=>SN(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return vI()}}(e.compositeFilter.op))}(e):vI()}function EN(e){return eN[e]}function CN(e){return tN[e]}function TN(e){return nN[e]}function NN(e){return{fieldPath:e.canonicalString()}}function AN(e){return zI.fromServerFormat(e.fieldPath)}function PN(e){return e instanceof QE?function(e){if("=="===e.op){if(AE(e.value))return{unaryFilter:{field:NN(e.field),op:"IS_NAN"}};if(NE(e.value))return{unaryFilter:{field:NN(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(AE(e.value))return{unaryFilter:{field:NN(e.field),op:"IS_NOT_NAN"}};if(NE(e.value))return{unaryFilter:{field:NN(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:NN(e.field),op:CN(e.op),value:e.value}}}(e):e instanceof YE?function(e){const t=e.getFilters().map((e=>PN(e)));return 1===t.length?t[0]:{compositeFilter:{op:TN(e.op),filters:t}}}(e):vI()}function RN(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function ON(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class DN{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:jI.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:jI.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:aE.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(e){return new DN(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new DN(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new DN(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new DN(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class LN{constructor(e){this.ct=e}}function MN(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:jN(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:hN(e,t.key),fields:t.data.value.mapValue.fields,updateTime:oN(e,t.version.toTimestamp()),createTime:oN(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:FN(t.version)};else{if(!t.isUnknownDocument())return vI();r.unknownDocument={path:n.path.toArray(),version:FN(t.version)}}return r}function jN(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function FN(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function UN(e){const t=new MI(e.seconds,e.nanoseconds);return jI.fromTimestamp(t)}function VN(e,t){const n=(t.baseMutations||[]).map((t=>kN(e.ct,t)));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map((t=>kN(e.ct,t))),i=MI.fromMillis(t.localWriteTimeMs);return new AT(t.batchId,i,n,r)}function zN(e){const t=UN(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?UN(e.lastLimboFreeSnapshotVersion):jI.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return yI(1===e.documents.length),CC(_C(gN(e.documents[0])))}(e.query):function(e){return CC(IN(e))}(e.query),new DN(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,aE.fromBase64String(e.resumeToken))}function BN(e,t){const n=FN(t.snapshotVersion),r=FN(t.lastLimboFreeSnapshotVersion);let i;i=vC(t.target)?xN(e.ct,t.target):_N(e.ct,t.target)._t;const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:gC(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function qN(e){const t=IN({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?AC(t,t.limit,"L"):t}function GN(e,t){return new RT(t.largestBatchId,kN(e.ct,t.overlayMutation))}function $N(e,t){const n=t.path.lastSegment();return[e,yS(t.path.popLast()),n]}function KN(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:FN(r.readTime),documentKey:yS(r.documentKey.path),largestBatchId:r.largestBatchId}}class HN{getBundleMetadata(e,t){return WN(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:UN(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return WN(e).put(function(e){return{bundleId:e.id,createTime:FN(lN(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return QN(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:qN(e.bundledQuery),readTime:UN(e.readTime)}}(e)}))}saveNamedQuery(e,t){return QN(e).put(function(e){return{name:e.name,readTime:FN(lN(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function WN(e){return WS(e,"bundles")}function QN(e){return WS(e,"namedQueries")}class YN{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){const n=t.uid||"";return new YN(e,n)}getOverlay(e,t){return JN(e).get($N(this.userId,t)).next((e=>e?GN(this.serializer,e):null))}getOverlays(e,t){const n=GC();return tS.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const o=new RT(t,i);r.push(this.ht(e,o))})),tS.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(yS(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(JN(e).j("collectionPathOverlayIndex",r))})),tS.waitFor(i)}getOverlaysForCollection(e,t,n){const r=GC(),i=yS(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return JN(e).U("collectionPathOverlayIndex",o).next((e=>{for(const t of e){const e=GN(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=GC();let o;const a=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return JN(e).J({index:"collectionGroupOverlayIndex",range:a},((e,t,n)=>{const a=GN(this.serializer,t);i.size()<r||a.largestBatchId===o?(i.set(a.getKey(),a),o=a.largestBatchId):n.done()})).next((()=>i))}ht(e,t){return JN(e).put(function(e,t,n){const[r,i,o]=$N(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:wN(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}function JN(e){return WS(e,"documentOverlays")}class XN{Pt(e){return WS(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next((e=>{const t=null==e?void 0:e.value;return t?aE.fromUint8Array(t):aE.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.Pt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class ZN{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(cE(e.integerValue));else if("doubleValue"in e){const n=cE(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),mS(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=lE(n)),t.Rt(`${n.seconds||""}`),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(uE(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?DE(e)?this.dt(t,Number.MAX_SAFE_INTEGER):RE(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):vI()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}wt(e,t){var n,r;const i=e.fields||{};this.dt(t,53);const o="value",a=(null===(r=null===(n=i[o].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(cE(a)),this.Vt(o,t),this.Tt(i[o],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),BI.fromName(e).path.forEach((e=>{this.dt(t,60),this.Dt(e,t)}))}dt(e,t){e.At(t)}ft(e){e.At(2)}}function eA(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function tA(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=eA(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}ZN.vt=new ZN;class nA{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ft(n.value),n=t.next();this.Mt()}xt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ot(n.value),n=t.next();this.Nt()}Lt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ft(e);else if(e<2048)this.Ft(960|e>>>6),this.Ft(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e);else{const e=t.codePointAt(0);this.Ft(240|e>>>18),this.Ft(128|63&e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e)}}this.Mt()}Bt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ot(e);else if(e<2048)this.Ot(960|e>>>6),this.Ot(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ot(480|e>>>12),this.Ot(128|63&e>>>6),this.Ot(128|63&e);else{const e=t.codePointAt(0);this.Ot(240|e>>>18),this.Ot(128|63&e>>>12),this.Ot(128|63&e>>>6),this.Ot(128|63&e)}}this.Nt()}kt(e){const t=this.qt(e),n=tA(t);this.Qt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Kt(e){const t=this.qt(e),n=tA(t);this.Qt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Ft(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(t)}Ot(e){const t=255&e;0===t?(this.Gt(0),this.Gt(255)):255===t?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class rA{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class iA{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class oA{constructor(){this.jt=new nA,this.Ht=new rA(this.jt),this.Jt=new iA(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return 0===e?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class aA{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Zt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new aA(this.indexId,this.documentKey,this.arrayValue,n)}}function sA(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=lA(e.arrayValue,t.arrayValue),0!==n?n:(n=lA(e.directionalValue,t.directionalValue),0!==n?n:BI.comparator(e.documentKey,t.documentKey)))}function lA(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class cA{constructor(e){this.Xt=new tE(((e,t)=>zI.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const t of e.filters){const e=t;e.isInequality()?this.Xt=this.Xt.add(e):this.tn.push(e)}}get nn(){return this.Xt.size>1}rn(e){if(yI(e.collectionGroup===this.collectionId),this.nn)return!1;const t=GI(e);if(void 0!==t&&!this.sn(t))return!1;const n=$I(e);let r=new Set,i=0,o=0;for(;i<n.length&&this.sn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Xt.size>0){const e=this.Xt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.on(e,t)||!this._n(this.en[o++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(o>=this.en.length||!this._n(this.en[o++],e))return!1}return!0}an(){if(this.nn)return null;let e=new tE(zI.comparator);const t=[];for(const n of this.tn)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new KI(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new KI(n.field,0))}for(const n of this.en)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new KI(n.field,"asc"===n.dir?0:1)));return new qI(qI.UNKNOWN_ID,this.collectionId,t,HI.empty())}sn(e){for(const t of this.tn)if(this.on(t,e))return!0;return!1}on(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}_n(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function uA(e){var t,n;if(yI(e instanceof QE||e instanceof YE),e instanceof QE){if(e instanceof uC){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>QE.create(e.field,"==",t))))||[];return YE.create(r,"or")}return e}const r=e.filters.map((e=>uA(e)));return YE.create(r,e.op)}function dA(e){if(0===e.getFilters().length)return[];const t=gA(uA(e));return yI(pA(t)),hA(t)||fA(t)?[t]:t.getFilters()}function hA(e){return e instanceof QE}function fA(e){return e instanceof YE&&ZE(e)}function pA(e){return hA(e)||fA(e)||function(e){if(e instanceof YE&&XE(e)){for(const t of e.getFilters())if(!hA(t)&&!fA(t))return!1;return!0}return!1}(e)}function gA(e){if(yI(e instanceof QE||e instanceof YE),e instanceof QE)return e;if(1===e.filters.length)return gA(e.filters[0]);const t=e.filters.map((e=>gA(e)));let n=YE.create(t,e.op);return n=yA(n),pA(n)?n:(yI(n instanceof YE),yI(JE(n)),yI(n.filters.length>1),n.filters.reduce(((e,t)=>mA(e,t))))}function mA(e,t){let n;return yI(e instanceof QE||e instanceof YE),yI(t instanceof QE||t instanceof YE),n=e instanceof QE?t instanceof QE?function(e,t){return YE.create([e,t],"and")}(e,t):vA(e,t):t instanceof QE?vA(t,e):function(e,t){if(yI(e.filters.length>0&&t.filters.length>0),JE(e)&&JE(t))return rC(e,t.getFilters());const n=XE(e)?e:t,r=XE(e)?t:e,i=n.filters.map((e=>mA(e,r)));return YE.create(i,"or")}(e,t),yA(n)}function vA(e,t){if(JE(t))return rC(t,e.getFilters());{const n=t.filters.map((t=>mA(e,t)));return YE.create(n,"or")}}function yA(e){if(yI(e instanceof QE||e instanceof YE),e instanceof QE)return e;const t=e.getFilters();if(1===t.length)return yA(t[0]);if(eC(e))return e;const n=t.map((e=>yA(e))),r=[];return n.forEach((t=>{t instanceof QE?r.push(t):t instanceof YE&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:YE.create(r,e.op)}class bA{constructor(){this.un=new wA}addToCollectionParentIndex(e,t){return this.un.add(t),tS.resolve()}getCollectionParents(e,t){return tS.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return tS.resolve()}deleteFieldIndex(e,t){return tS.resolve()}deleteAllFieldIndexes(e){return tS.resolve()}createTargetIndexes(e,t){return tS.resolve()}getDocumentsMatchingTarget(e,t){return tS.resolve(null)}getIndexType(e,t){return tS.resolve(0)}getFieldIndexes(e,t){return tS.resolve([])}getNextCollectionGroupToUpdate(e){return tS.resolve(null)}getMinOffset(e,t){return tS.resolve(YI.min())}getMinOffsetFromCollectionGroup(e,t){return tS.resolve(YI.min())}updateCollectionGroup(e,t,n){return tS.resolve()}updateIndexEntries(e,t){return tS.resolve()}}class wA{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new tE(UI.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new tE(UI.comparator)).toArray()}}const kA=new Uint8Array(0);class xA{constructor(e,t){this.databaseId=t,this.cn=new wA,this.ln=new FC((e=>gC(e)),((e,t)=>mC(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.cn.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.cn.add(t)}));const i={collectionId:n,parent:yS(r)};return _A(e).put(i)}return tS.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[LI(t),""],!1,!0);return _A(e).U(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(kS(r.parent))}return n}))}addFieldIndex(e,t){const n=SA(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=EA(e);return i.next((e=>{n.put(KN(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=SA(e),r=EA(e),i=IA(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=SA(e),n=IA(e),r=EA(e);return t.j().next((()=>n.j())).next((()=>r.j()))}createTargetIndexes(e,t){return tS.forEach(this.hn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new cA(t).an();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=IA(e);let r=!0;const i=new Map;return tS.forEach(this.hn(t),(t=>this.Pn(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=QC();const r=[];return tS.forEach(i,((i,o)=>{fI("IndexedDbIndexManager",`Using index ${function(e){return`id=${e.indexId}|cg=${e.collectionGroup}|f=${e.fields.map((e=>`${e.fieldPath}:${e.kind}`)).join(",")}`}(i)} to execute ${gC(t)}`);const a=function(e,t){const n=GI(t);if(void 0===n)return null;for(const r of yC(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),s=function(e,t){const n=new Map;for(const r of $I(t))for(const t of yC(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),l=function(e,t){const n=[];let r=!0;for(const i of $I(t)){const t=0===i.kind?bC(e,i.fieldPath,e.startAt):wC(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new qE(n,r)}(o,i),c=function(e,t){const n=[];let r=!0;for(const i of $I(t)){const t=0===i.kind?wC(e,i.fieldPath,e.endAt):bC(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new qE(n,r)}(o,i),u=this.In(i,o,l),d=this.In(i,o,c),h=this.Tn(i,o,s),f=this.En(i.indexId,a,u,l.inclusive,d,c.inclusive,h);return tS.forEach(f,(i=>n.G(i,t.limit).next((t=>{t.forEach((t=>{const n=BI.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return tS.resolve(null)}))}hn(e){let t=this.ln.get(e);return t||(t=0===e.filters.length?[e]:dA(YE.create(e.filters,"and")).map((t=>pC(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.ln.set(e,t),t)}En(e,t,n,r,i,o,a){const s=(null!=t?t.length:1)*Math.max(n.length,i.length),l=s/(null!=t?t.length:1),c=[];for(let u=0;u<s;++u){const s=t?this.dn(t[u/l]):kA,d=this.An(e,s,n[u%l],r),h=this.Rn(e,s,i[u%l],o),f=a.map((t=>this.An(e,s,t,!0)));c.push(...this.createRange(d,h,f))}return c}An(e,t,n,r){const i=new aA(e,BI.empty(),t,n);return r?i:i.Zt()}Rn(e,t,n,r){const i=new aA(e,BI.empty(),t,n);return r?i.Zt():i}Pn(e,t){const n=new cA(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.rn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.hn(t);return tS.forEach(r,(t=>this.Pn(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new tE(zI.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}Vn(e,t){const n=new oA;for(const r of $I(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Yt(r.kind);ZN.vt.It(e,i)}return n.zt()}dn(e){const t=new oA;return ZN.vt.It(e,t.Yt(0)),t.zt()}mn(e,t){const n=new oA;return ZN.vt.It(EE(this.databaseId,t),n.Yt(function(e){const t=$I(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.zt()}Tn(e,t,n){if(null===n)return[];let r=[];r.push(new oA);let i=0;for(const o of $I(e)){const e=n[i++];for(const n of r)if(this.fn(t,o.fieldPath)&&TE(e))r=this.gn(r,o,e);else{const t=n.Yt(o.kind);ZN.vt.It(e,t)}}return this.pn(r)}In(e,t,n){return this.Tn(e,t,n.position)}pn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].zt();return t}gn(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new oA;n.seed(e.zt()),ZN.vt.It(o,n.Yt(t.kind)),i.push(n)}return i}fn(e,t){return!!e.filters.find((e=>e instanceof QE&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=SA(e),r=EA(e);return(t?n.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.U()).next((e=>{const t=[];return tS.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new HI(t.sequenceNumber,new YI(UN(t.readTime),new BI(kS(t.documentKey)),t.largestBatchId)):HI.empty(),r=e.fields.map((e=>{let[t,n]=e;return new KI(zI.fromServerFormat(t),n)}));return new qI(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:OI(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=SA(e),i=EA(e);return this.yn(e).next((e=>r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>tS.forEach(t,(t=>i.put(KN(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return tS.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?tS.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),tS.forEach(i,(n=>this.wn(e,t,n).next((t=>{const i=this.Sn(r,n);return t.isEqual(i)?tS.resolve():this.bn(e,r,n,t,i)})))))))}))}Dn(e,t,n,r){return IA(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.mn(n,t.key),documentKey:t.key.path.toArray()})}vn(e,t,n,r){return IA(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.mn(n,t.key),t.key.path.toArray()])}wn(e,t,n){const r=IA(e);let i=new tE(sA);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.mn(n,t)])},((e,r)=>{i=i.add(new aA(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}Sn(e,t){let n=new tE(sA);const r=this.Vn(t,e);if(null==r)return n;const i=GI(t);if(null!=i){const o=e.data.field(i.fieldPath);if(TE(o))for(const i of o.arrayValue.values||[])n=n.add(new aA(t.indexId,e.key,this.dn(i),r))}else n=n.add(new aA(t.indexId,e.key,kA,r));return n}bn(e,t,n,r,i){fI("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),a=t.getIterator();let s=rE(o),l=rE(a);for(;s||l;){let e=!1,t=!1;if(s&&l){const r=n(s,l);r<0?t=!0:r>0&&(e=!0)}else null!=s?t=!0:e=!0;e?(r(l),l=rE(a)):t?(i(s),s=rE(o)):(s=rE(o),l=rE(a))}}(r,i,sA,(r=>{o.push(this.Dn(e,t,n,r))}),(r=>{o.push(this.vn(e,t,n,r))})),tS.waitFor(o)}yn(e){let t=1;return EA(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>sA(e,t))).filter(((e,t,n)=>!t||0!==sA(e,n[t-1])));const r=[];r.push(e);for(const o of n){const n=sA(o,e),i=sA(o,t);if(0===n)r[0]=e.Zt();else if(n>0&&i<0)r.push(o),r.push(o.Zt());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2){if(this.Cn(r[o],r[o+1]))return[];const e=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,kA,[]],t=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,kA,[]];i.push(IDBKeyRange.bound(e,t))}return i}Cn(e,t){return sA(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(CA)}getMinOffset(e,t){return tS.mapArray(this.hn(t),(t=>this.Pn(e,t).next((e=>e||vI())))).next(CA)}}function _A(e){return WS(e,"collectionParents")}function IA(e){return WS(e,"indexEntries")}function SA(e){return WS(e,"indexConfiguration")}function EA(e){return WS(e,"indexState")}function CA(e){yI(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;JI(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new YI(t.readTime,t.documentKey,n)}const TA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class NA{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new NA(e,NA.DEFAULT_COLLECTION_PERCENTILE,NA.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function AA(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),o=[],a=IDBKeyRange.only(n.batchId);let s=0;const l=r.J({range:a},((e,t,n)=>(s++,n.delete())));o.push(l.next((()=>{yI(1===s)})));const c=[];for(const u of n.mutations){const e=IS(t,u.key.path,n.batchId);o.push(i.delete(e)),c.push(u.key)}return tS.waitFor(o).next((()=>c))}function PA(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw vI();t=e.noDocument}return JSON.stringify(t).length}NA.DEFAULT_COLLECTION_PERCENTILE=10,NA.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,NA.DEFAULT=new NA(41943040,NA.DEFAULT_COLLECTION_PERCENTILE,NA.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),NA.DISABLED=new NA(-1,0,0);class RA{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Fn={}}static lt(e,t,n,r){yI(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new RA(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return DA(e).J({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=LA(e),o=DA(e);return o.add({}).next((a=>{yI("number"==typeof a);const s=new AT(a,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>wN(e.ct,t))),i=n.mutations.map((t=>wN(e.ct,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,s),c=[];let u=new tE(((e,t)=>OI(e.canonicalString(),t.canonicalString())));for(const e of r){const t=IS(this.userId,e.key.path,a);u=u.add(e.key.path.popLast()),c.push(o.put(l)),c.push(i.put(t,SS))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Fn[a]=s.keys()})),tS.waitFor(c).next((()=>s))}))}lookupMutationBatch(e,t){return DA(e).get(t).next((e=>e?(yI(e.userId===this.userId),VN(this.serializer,e)):null))}Mn(e,t){return this.Fn[t]?tS.resolve(this.Fn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Fn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return DA(e).J({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(yI(t.batchId>=n),i=VN(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return DA(e).J({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return DA(e).U("userMutationsIndex",t).next((e=>e.map((e=>VN(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=_S(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return LA(e).J({range:r},((n,r,o)=>{const[a,s,l]=n,c=kS(s);if(a===this.userId&&t.path.isEqual(c))return DA(e).get(l).next((e=>{if(!e)throw vI();yI(e.userId===this.userId),i.push(VN(this.serializer,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new tE(OI);const r=[];return t.forEach((t=>{const i=_S(this.userId,t.path),o=IDBKeyRange.lowerBound(i),a=LA(e).J({range:o},((e,r,i)=>{const[o,a,s]=e,l=kS(a);o===this.userId&&t.path.isEqual(l)?n=n.add(s):i.done()}));r.push(a)})),tS.waitFor(r).next((()=>this.xn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=_S(this.userId,n),o=IDBKeyRange.lowerBound(i);let a=new tE(OI);return LA(e).J({range:o},((e,t,i)=>{const[o,s,l]=e,c=kS(s);o===this.userId&&n.isPrefixOf(c)?c.length===r&&(a=a.add(l)):i.done()})).next((()=>this.xn(e,a)))}xn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(DA(e).get(t).next((e=>{if(null===e)throw vI();yI(e.userId===this.userId),n.push(VN(this.serializer,e))})))})),tS.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return AA(e._e,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.On(t.batchId)})),tS.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return tS.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return LA(e).J({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=kS(e[1]);r.push(t)}else n.done()})).next((()=>{yI(0===r.length)}))}))}containsKey(e,t){return OA(e,this.userId,t)}Nn(e){return MA(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function OA(e,t,n){const r=_S(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let a=!1;return LA(e).J({range:o,H:!0},((e,n,r)=>{const[o,s,l]=e;o===t&&s===i&&(a=!0),r.done()})).next((()=>a))}function DA(e){return WS(e,"mutations")}function LA(e){return WS(e,"documentMutations")}function MA(e){return WS(e,"mutationQueues")}class jA{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new jA(0)}static kn(){return new jA(-1)}}class FA{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.qn(e).next((t=>{const n=new jA(t.highestTargetId);return t.highestTargetId=n.next(),this.Qn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.qn(e).next((e=>jI.fromTimestamp(new MI(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.qn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.qn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Qn(e,r))))}addTargetData(e,t){return this.Kn(e,t).next((()=>this.qn(e).next((n=>(n.targetCount+=1,this.$n(t,n),this.Qn(e,n))))))}updateTargetData(e,t){return this.Kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>UA(e).delete(t.targetId))).next((()=>this.qn(e))).next((t=>(yI(t.targetCount>0),t.targetCount-=1,this.Qn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return UA(e).J(((o,a)=>{const s=zN(a);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r++,i.push(this.removeTargetData(e,s)))})).next((()=>tS.waitFor(i))).next((()=>r))}forEachTarget(e,t){return UA(e).J(((e,n)=>{const r=zN(n);t(r)}))}qn(e){return VA(e).get("targetGlobalKey").next((e=>(yI(null!==e),e)))}Qn(e,t){return VA(e).put("targetGlobalKey",t)}Kn(e,t){return UA(e).put(BN(this.serializer,t))}$n(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.qn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=gC(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return UA(e).J({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const o=zN(n);mC(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=zA(e);return t.forEach((t=>{const o=yS(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))})),tS.waitFor(r)}removeMatchingKeys(e,t,n){const r=zA(e);return tS.forEach(t,(t=>{const i=yS(t.path);return tS.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=zA(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=zA(e);let i=QC();return r.J({range:n,H:!0},((e,t,n)=>{const r=kS(e[1]),o=new BI(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=yS(t.path),r=IDBKeyRange.bound([n],[LI(n)],!1,!0);let i=0;return zA(e).J({index:"documentTargetsIndex",H:!0,range:r},((e,t,n)=>{let[r,o]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}ot(e,t){return UA(e).get(t).next((e=>e?zN(e):null))}}function UA(e){return WS(e,"targets")}function VA(e){return WS(e,"targetGlobal")}function zA(e){return WS(e,"targetDocuments")}function BA(e,t){let[n,r]=e,[i,o]=t;const a=OI(n,i);return 0===a?OI(r,o):a}class qA{constructor(e){this.Un=e,this.buffer=new tE(BA),this.Wn=0}Gn(){return++this.Wn}zn(e){const t=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();BA(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class GA{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(e){fI("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){sS(e)?fI("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await eS(e)}await this.Hn(3e5)}))}}class $A{constructor(e,t){this.Jn=e,this.params=t}calculateTargetCount(e,t){return this.Jn.Yn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return tS.resolve(pS.oe);const n=new qA(t);return this.Jn.forEachTarget(e,(e=>n.zn(e.sequenceNumber))).next((()=>this.Jn.Zn(e,(e=>n.zn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(fI("LruGarbageCollector","Garbage collection skipped; disabled"),tS.resolve(TA)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(fI("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),TA):this.Xn(e,t)))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,t){let n,r,i,o,a,s,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(fI("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),hI()<=cl.DEBUG&&fI("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-c}ms\n\tDetermined least recently used ${r} in `+(a-o)+"ms\n"+`\tRemoved ${i} targets in `+(s-a)+"ms\n"+`\tRemoved ${e} documents in `+(l-s)+"ms\n"+`Total Duration: ${l-c}ms`),tS.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function KA(e,t){return new $A(e,t)}class HA{constructor(e,t){this.db=e,this.garbageCollector=KA(this,t)}Yn(e){const t=this.er(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}er(e){let t=0;return this.Zn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Zn(e,t){return this.tr(e,((e,n)=>t(n)))}addReference(e,t,n){return WA(e,n)}removeReference(e,t,n){return WA(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return WA(e,t)}nr(e,t){return function(e,t){let n=!1;return MA(e).Y((r=>OA(e,r,t).next((e=>(e&&(n=!0),tS.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.tr(e,((o,a)=>{if(a<=t){const t=this.nr(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o,jI.min()),zA(e).delete(function(e){return[0,yS(e.path)]}(o)))))}));r.push(t)}})).next((()=>tS.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return WA(e,t)}tr(e,t){const n=zA(e);let r,i=pS.oe;return n.J({index:"documentTargetsIndex"},((e,n)=>{let[o,a]=e,{path:s,sequenceNumber:l}=n;0===o?(i!==pS.oe&&t(new BI(kS(r)),i),i=l,r=s):i=pS.oe})).next((()=>{i!==pS.oe&&t(new BI(kS(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function WA(e,t){return zA(e).put(function(e,t){return{targetId:0,path:yS(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class QA{constructor(){this.changes=new FC((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,BE.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?tS.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class YA{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return eP(e).put(n)}removeEntry(e,t,n){return eP(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],jN(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.rr(e,n))))}getEntry(e,t){let n=BE.newInvalidDocument(t);return eP(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(tP(t))},((e,r)=>{n=this.ir(t,r)})).next((()=>n))}sr(e,t){let n={size:0,document:BE.newInvalidDocument(t)};return eP(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(tP(t))},((e,r)=>{n={document:this.ir(t,r),size:PA(r)}})).next((()=>n))}getEntries(e,t){let n=VC();return this._r(e,t,((e,t)=>{const r=this.ir(e,t);n=n.insert(e,r)})).next((()=>n))}ar(e,t){let n=VC(),r=new XS(BI.comparator);return this._r(e,t,((e,t)=>{const i=this.ir(e,t);n=n.insert(e,i),r=r.insert(e,PA(t))})).next((()=>({documents:n,ur:r})))}_r(e,t,n){if(t.isEmpty())return tS.resolve();let r=new tE(rP);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(tP(r.first()),tP(r.last())),o=r.getIterator();let a=o.getNext();return eP(e).J({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=BI.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;a&&rP(a,i)<0;)n(a,null),a=o.getNext();a&&a.isEqual(i)&&(n(a,t),a=o.hasNext()?o.getNext():null),a?r.$(tP(a)):r.done()})).next((()=>{for(;a;)n(a,null),a=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const o=t.path,a=[o.popLast().toArray(),o.lastSegment(),jN(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return eP(e).U(IDBKeyRange.bound(a,s,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=VC();for(const i of e){const e=this.ir(BI.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(DC(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=VC();const o=nP(t,n),a=nP(t,YI.max());return eP(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},((e,t,n)=>{const o=this.ir(BI.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new XA(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return ZA(e).get("remoteDocumentGlobalKey").next((e=>(yI(!!e),e)))}rr(e,t){return ZA(e).put("remoteDocumentGlobalKey",t)}ir(e,t){if(t){const e=function(e,t){let n;if(t.document)n=bN(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=BI.fromSegments(t.noDocument.path),r=UN(t.noDocument.readTime);n=BE.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return vI();{const e=BI.fromSegments(t.unknownDocument.path),r=UN(t.unknownDocument.version);n=BE.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new MI(e[0],e[1]);return jI.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(jI.min()))return e}return BE.newInvalidDocument(e)}}function JA(e){return new YA(e)}class XA extends QA{constructor(e,t){super(),this.cr=e,this.trackRemovals=t,this.lr=new FC((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new tE(((e,t)=>OI(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const a=this.lr.get(i);if(t.push(this.cr.removeEntry(e,i,a.readTime)),o.isValidDocument()){const s=MN(this.cr.serializer,o);r=r.add(i.path.popLast());const l=PA(s);n+=l-a.size,t.push(this.cr.addEntry(e,i,s))}else if(n-=a.size,this.trackRemovals){const n=MN(this.cr.serializer,o.convertToNoDocument(jI.min()));t.push(this.cr.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.cr.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.cr.updateMetadata(e,n)),tS.waitFor(t)}getFromCache(e,t){return this.cr.sr(e,t).next((e=>(this.lr.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.cr.ar(e,t).next((e=>{let{documents:t,ur:n}=e;return n.forEach(((e,n)=>{this.lr.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function ZA(e){return WS(e,"remoteDocumentGlobal")}function eP(e){return WS(e,"remoteDocumentsV14")}function tP(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function nP(e,t){const n=t.documentKey.path.toArray();return[e,jN(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function rP(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=OI(n[o],r[o]),i)return i;return i=OI(n.length,r.length),i||(i=OI(n[n.length-2],r[r.length-2]),i||OI(n[n.length-1],r[r.length-1]))}class iP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class oP{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&wT(n.mutation,e,iE.empty(),MI.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,QC()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:QC();const r=GC();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=BC();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=GC();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,QC())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=VC();const o=KC(),a=KC();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof IT)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),wT(a.mutation,t,a.mutation.getFieldMask(),MI.now())):o.set(t.key,iE.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new iP(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=KC();let r=new XS(((e,t)=>e-t)),i=QC();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let a=n.get(e)||iE.empty();a=i.applyToLocalView(o,a),n.set(e,a);const s=(r.get(i.batchId)||QC()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,l=r.value,c=$C();l.forEach((e=>{if(!i.has(e)){const r=yT(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,s,c))}return tS.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return BI.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):SC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):tS.resolve(GC());let a=-1,s=i;return o.next((t=>tS.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?tS.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,QC()))).next((e=>({batchId:a,changes:qC(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new BI(t)).next((e=>{let t=BC();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=BC();return this.indexManager.getCollectionParents(e,i).next((a=>tS.forEach(a,(a=>{const s=function(e,t){return new kC(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,BE.newInvalidDocument(r)))}));let n=BC();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&wT(o.mutation,r,iE.empty(),MI.now()),DC(t,r)&&(n=n.insert(e,r))})),n}))}}class aP{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return tS.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:lN(e.createTime)}}(t)),tS.resolve()}getNamedQuery(e,t){return tS.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:qN(e.bundledQuery),readTime:lN(e.readTime)}}(t)),tS.resolve()}}class sP{constructor(){this.overlays=new XS(BI.comparator),this.Ir=new Map}getOverlay(e,t){return tS.resolve(this.overlays.get(t))}getOverlays(e,t){const n=GC();return tS.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),tS.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Ir.delete(n)),tS.resolve()}getOverlaysForCollection(e,t,n){const r=GC(),i=t.length+1,o=new BI(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const e=a.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return tS.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new XS(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=GC(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=GC(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return tS.resolve(a)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new RT(t,n));let i=this.Ir.get(t);void 0===i&&(i=QC(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}}class lP{constructor(){this.sessionToken=aE.EMPTY_BYTE_STRING}getSessionToken(e){return tS.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,tS.resolve()}}class cP{constructor(){this.Tr=new tE(uP.Er),this.dr=new tE(uP.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new uP(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Vr(new uP(e,t))}mr(e,t){e.forEach((e=>this.removeReference(e,t)))}gr(e){const t=new BI(new UI([])),n=new uP(t,e),r=new uP(t,e+1),i=[];return this.dr.forEachInRange([n,r],(e=>{this.Vr(e),i.push(e.key)})),i}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new BI(new UI([])),n=new uP(t,e),r=new uP(t,e+1);let i=QC();return this.dr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new uP(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class uP{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return BI.comparator(e.key,t.key)||OI(e.wr,t.wr)}static Ar(e,t){return OI(e.wr,t.wr)||BI.comparator(e.key,t.key)}}class dP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new tE(uP.Er)}checkEmpty(e){return tS.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new AT(i,t,n,r);this.mutationQueue.push(o);for(const a of r)this.br=this.br.add(new uP(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return tS.resolve(o)}lookupMutationBatch(e,t){return tS.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),i=r<0?0:r;return tS.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return tS.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return tS.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new uP(t,0),r=new uP(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,r],(e=>{const t=this.Dr(e.wr);i.push(t)})),tS.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new tE(OI);return t.forEach((e=>{const t=new uP(e,0),r=new uP(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],(e=>{n=n.add(e.wr)}))})),tS.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;BI.isDocumentKey(i)||(i=i.child(""));const o=new uP(new BI(i),0);let a=new tE(OI);return this.br.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.wr)),!0)}),o),tS.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach((e=>{const n=this.Dr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){yI(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return tS.forEach(t.mutations,(r=>{const i=new uP(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,t){const n=new uP(t,0),r=this.br.firstAfterOrEqual(n);return tS.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,tS.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class hP{constructor(e){this.Mr=e,this.docs=new XS(BI.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return tS.resolve(n?n.document.mutableCopy():BE.newInvalidDocument(t))}getEntries(e,t){let n=VC();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():BE.newInvalidDocument(e))})),tS.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=VC();const o=t.path,a=new BI(o.child("")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||JI(QI(a),n)<=0||(r.has(a.key)||DC(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return tS.resolve(i)}getAllFromCollectionGroup(e,t,n,r){vI()}Or(e,t){return tS.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new fP(this)}getSize(e){return tS.resolve(this.size)}}class fP extends QA{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)})),tS.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class pP{constructor(e){this.persistence=e,this.Nr=new FC((e=>gC(e)),mC),this.lastRemoteSnapshotVersion=jI.min(),this.highestTargetId=0,this.Lr=0,this.Br=new cP,this.targetCount=0,this.kr=jA.Bn()}forEachTarget(e,t){return this.Nr.forEach(((e,n)=>t(n))),tS.resolve()}getLastRemoteSnapshotVersion(e){return tS.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return tS.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),tS.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),tS.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new jA(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,tS.resolve()}updateTargetData(e,t){return this.Kn(t),tS.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,tS.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Nr.forEach(((o,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),tS.waitFor(i).next((()=>r))}getTargetCount(e){return tS.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return tS.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),tS.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),tS.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),tS.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return tS.resolve(n)}containsKey(e,t){return tS.resolve(this.Br.containsKey(t))}}class gP{constructor(e,t){this.qr={},this.overlays={},this.Qr=new pS(0),this.Kr=!1,this.Kr=!0,this.$r=new lP,this.referenceDelegate=e(this),this.Ur=new pP(this),this.indexManager=new bA,this.remoteDocumentCache=function(e){return new hP(e)}((e=>this.referenceDelegate.Wr(e))),this.serializer=new LN(t),this.Gr=new aP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new sP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new dP(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){fI("MemoryPersistence","Starting transaction:",e);const r=new mP(this.Qr.next());return this.referenceDelegate.zr(),n(r).next((e=>this.referenceDelegate.jr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Hr(e,t){return tS.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,t))))}}class mP extends ZI{constructor(e){super(),this.currentSequenceNumber=e}}class vP{constructor(e){this.persistence=e,this.Jr=new cP,this.Yr=null}static Zr(e){return new vP(e)}get Xr(){if(this.Yr)return this.Yr;throw vI()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),tS.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),tS.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),tS.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((e=>this.Xr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Xr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tS.forEach(this.Xr,(n=>{const r=BI.fromPath(n);return this.ei(e,r).next((e=>{e||t.removeEntry(r,jI.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return tS.or([()=>tS.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class yP{constructor(e){this.serializer=e}O(e,t,n,r){const i=new nS("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xS,{unique:!0}),e.createObjectStore("documentMutations")}(e),bP(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=tS.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),bP(e)),o=o.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:jI.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store("mutations").U().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xS,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return tS.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.ni(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.ri(i))))),n<7&&r>=7&&(o=o.next((()=>this.ii(i)))),n<8&&r>=8&&(o=o.next((()=>this.si(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((()=>this.oi(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:jS});t.createIndex("collectionPathOverlayIndex",FS,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",US,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:ES});t.createIndex("documentKeyIndex",CS),t.createIndex("collectionGroupIndex",TS)}(e))).next((()=>this._i(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(o=o.next((()=>this.ai(e,i)))),n<15&&r>=15&&(o=o.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:OS}).createIndex("sequenceNumberIndex",DS,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:LS}).createIndex("documentKeyIndex",MS,{unique:!1})}(e)))),n<16&&r>=16&&(o=o.next((()=>{t.objectStore("indexState").clear()})).next((()=>{t.objectStore("indexEntries").clear()}))),n<17&&r>=17&&(o=o.next((()=>{!function(e){e.createObjectStore("globals",{keyPath:"name"})}(e)}))),o}ri(e){let t=0;return e.store("remoteDocuments").J(((e,n)=>{t+=PA(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}ni(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.U().next((t=>tS.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",r).next((n=>tS.forEach(n,(n=>{yI(n.userId===t.userId);const r=VN(this.serializer,n);return AA(e,t.userId,r).next((()=>{}))}))))}))))}ii(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.J(((n,i)=>{const o=new UI(n),a=function(e){return[0,yS(e)]}(o);r.push(t.get(a).next((n=>n?tS.resolve():(n=>t.put({targetId:0,path:yS(n),sequenceNumber:e.highestListenSequenceNumber}))(o))))})).next((()=>tS.waitFor(r)))}))}si(e,t){e.createObjectStore("collectionParents",{keyPath:RS});const n=t.store("collectionParents"),r=new wA,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:yS(r)})}};return t.store("remoteDocuments").J({H:!0},((e,t)=>{const n=new UI(e);return i(n.popLast())})).next((()=>t.store("documentMutations").J({H:!0},((e,t)=>{let[n,r,o]=e;const a=kS(r);return i(a.popLast())}))))}oi(e){const t=e.store("targets");return t.J(((e,n)=>{const r=zN(n),i=BN(this.serializer,r);return t.put(i)}))}_i(e,t){const n=t.store("remoteDocuments"),r=[];return n.J(((e,n)=>{const i=t.store("remoteDocumentsV14"),o=function(e){return e.document?new BI(UI.fromString(e.document.name).popFirst(5)):e.noDocument?BI.fromSegments(e.noDocument.path):e.unknownDocument?BI.fromSegments(e.unknownDocument.path):vI()}(n).path.toArray(),a={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(a))})).next((()=>tS.waitFor(r)))}ai(e,t){const n=t.store("mutations"),r=JA(this.serializer),i=new gP(vP.Zr,this.serializer.ct);return n.U().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:QC();VN(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),tS.forEach(n,((e,n)=>{const o=new cI(n),a=YN.lt(this.serializer,o),s=i.getIndexManager(o),l=RA.lt(o,this.serializer,s,i.referenceDelegate);return new oP(r,l,a,s).recalculateAndSaveOverlaysForDocumentKeys(new HS(t,pS.oe),e).next()}))}))}}function bP(e){e.createObjectStore("targetDocuments",{keyPath:AS}).createIndex("documentTargetsIndex",PS,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",NS,{unique:!0}),e.createObjectStore("targetGlobal")}const wP="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class kP{constructor(e,t,n,r,i,o,a,s,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:17;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.ui=i,this.window=o,this.document=a,this.ci=l,this.li=c,this.hi=u,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=e=>Promise.resolve(),!kP.D())throw new kI(wI.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new HA(this,r),this.Ai=t+"main",this.serializer=new LN(s),this.Ri=new rS(this.Ai,this.hi,new yP(this.serializer)),this.$r=new XN,this.Ur=new FA(this.referenceDelegate,this.serializer),this.remoteDocumentCache=JA(this.serializer),this.Gr=new HN,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===c&&pI("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new kI(wI.FAILED_PRECONDITION,wP);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Ur.getHighestSequenceNumber(e)))})).then((e=>{this.Qr=new pS(e,this.ci)})).then((()=>{this.Kr=!0})).catch((e=>(this.Ri&&this.Ri.close(),Promise.reject(e))))}yi(e){return this.di=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((async()=>{this.started&&await this.mi()})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>_P(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.wi(e).next((e=>{e||(this.isPrimary=!1,this.ui.enqueueRetryable((()=>this.di(!1))))}))})).next((()=>this.Si(e))).next((t=>this.isPrimary&&!t?this.bi(e).next((()=>!1)):!!t&&this.Di(e).next((()=>!0)))))).catch((e=>{if(sS(e))return fI("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return fI("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.ui.enqueueRetryable((()=>this.di(e))),this.isPrimary=e}))}wi(e){return xP(e).get("owner").next((e=>tS.resolve(this.vi(e))))}Ci(e){return _P(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=WS(e,"clientMetadata");return t.U().next((e=>{const n=this.xi(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return tS.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.Vi)for(const t of e)this.Vi.removeItem(this.Oi(t.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.mi().then((()=>this.Fi())).then((()=>this.pi()))))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?tS.resolve(!0):xP(e).get("owner").next((t=>{if(null!==t&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)){if(this.vi(t)&&this.networkEnabled)return!0;if(!this.vi(t)){if(!t.allowTabSynchronization)throw new kI(wI.FAILED_PRECONDITION,wP);return!1}}return!(!this.networkEnabled||!this.inForeground)||_P(e).U().next((e=>void 0===this.xi(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&fI("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new HS(e,pS.oe);return this.bi(t).next((()=>this.Ci(t)))})),this.Ri.close(),this.qi()}xi(e,t){return e.filter((e=>this.Mi(e.updateTimeMs,t)&&!this.Ni(e.clientId)))}Qi(){return this.runTransaction("getActiveClients","readonly",(e=>_P(e).U().next((e=>this.xi(e,18e5).map((e=>e.clientId))))))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,t){return RA.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new xA(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return YN.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,t,n){fI("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 17===e?KS:16===e?$S:15===e?GS:14===e?qS:13===e?BS:12===e?zS:11===e?VS:void vI()}(this.hi);let o;return this.Ri.runTransaction(e,r,i,(r=>(o=new HS(r,this.Qr?this.Qr.next():pS.oe),"readwrite-primary"===t?this.wi(o).next((e=>!!e||this.Si(o))).next((t=>{if(!t)throw pI(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable((()=>this.di(!1))),new kI(wI.FAILED_PRECONDITION,XI);return n(o)})).next((e=>this.Di(o).next((()=>e)))):this.Ki(o).next((()=>n(o)))))).then((e=>(o.raiseOnCommittedEvent(),e)))}Ki(e){return xP(e).get("owner").next((e=>{if(null!==e&&this.Mi(e.leaseTimestampMs,5e3)&&!this.Ni(e.ownerId)&&!this.vi(e)&&!(this.li||this.allowTabSynchronization&&e.allowTabSynchronization))throw new kI(wI.FAILED_PRECONDITION,wP)}))}Di(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return xP(e).put("owner",t)}static D(){return rS.D()}bi(e){const t=xP(e);return t.get("owner").next((e=>this.vi(e)?(fI("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):tS.resolve()))}Mi(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(pI(`Detected an update time that is in the future: ${e} > ${n}`),!1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.mi())))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Pi=()=>{this.Li();const e=/(?:Version|Mobile)\/1[456]/;Vs()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var t;try{const n=null!==(null===(t=this.Vi)||void 0===t?void 0:t.getItem(this.Oi(e)));return fI("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return pI("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(Sj){pI("Failed to set zombie client id.",Sj)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch(Sj){}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function xP(e){return WS(e,"owner")}function _P(e){return WS(e,"clientMetadata")}function IP(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class SP{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=QC(),r=QC();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new SP(e,t.fromCache,n,r)}}class EP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class CP{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=Vs()?8:iS(Ds())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Yi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Zi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new EP;return this.Xi(e,t,n).next((r=>{if(i.result=r,this.zi)return this.es(e,t,n,r.size)}))})).next((()=>i.result))}es(e,t,n,r){return n.documentReadCount<this.ji?(hI()<=cl.DEBUG&&fI("QueryEngine","SDK will not create cache indexes for query:",OC(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),tS.resolve()):(hI()<=cl.DEBUG&&fI("QueryEngine","Query:",OC(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(hI()<=cl.DEBUG&&fI("QueryEngine","The SDK decides to create cache indexes for query:",OC(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,CC(t))):tS.resolve())}Yi(e,t){if(IC(t))return tS.resolve(null);let n=CC(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=AC(t,null,"F"),n=CC(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=QC(...r);return this.Ji.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.ts(t,r);return this.ns(t,o,i,n.readTime)?this.Yi(e,AC(t,null,"F")):this.rs(e,o,t,n)}))))})))))}Zi(e,t,n,r){return IC(t)||r.isEqual(jI.min())?tS.resolve(null):this.Ji.getDocuments(e,n).next((i=>{const o=this.ts(t,i);return this.ns(t,o,n,r)?tS.resolve(null):(hI()<=cl.DEBUG&&fI("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),OC(t)),this.rs(e,o,t,WI(r,-1)).next((e=>e)))}))}ts(e,t){let n=new tE(MC(e));return t.forEach(((t,r)=>{DC(e,r)&&(n=n.add(r))})),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(e,t,n){return hI()<=cl.DEBUG&&fI("QueryEngine","Using full collection scan to execute query:",OC(t)),this.Ji.getDocumentsMatchingQuery(e,t,YI.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class TP{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new XS(OI),this._s=new FC((e=>gC(e)),mC),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oP(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function NP(e,t,n,r){return new TP(e,t,n,r)}async function AP(e,t){const n=bI(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.ls(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let a=QC();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({hs:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function PP(e){const t=bI(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ur.getLastRemoteSnapshotVersion(e)))}function RP(e,t,n){let r=QC(),i=QC();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=VC();return n.forEach(((n,o)=>{const a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(jI.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):fI("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),{Ps:r,Is:i}}))}function OP(e,t){const n=bI(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function DP(e,t){const n=bI(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Ur.getTargetData(e,t).next((i=>i?(r=i,tS.resolve(r)):n.Ur.allocateTargetId(e).next((i=>(r=new DN(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e}))}async function LP(e,t,n){const r=bI(e),i=r.os.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!sS(e))throw e;fI("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.os=r.os.remove(t),r._s.delete(i.target)}function MP(e,t,n){const r=bI(e);let i=jI.min(),o=QC();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=bI(e),i=r._s.get(n);return void 0!==i?tS.resolve(r.os.get(i)):r.Ur.getTargetData(t,n)}(r,e,CC(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.ss.getDocumentsMatchingQuery(e,t,n?i:jI.min(),n?o:QC()))).next((e=>(UP(r,LC(t),e),{documents:e,Ts:o})))))}function jP(e,t){const n=bI(e),r=bI(n.Ur),i=n.os.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.ot(e,t).next((e=>e?e.target:null))))}function FP(e,t){const n=bI(e),r=n.us.get(t)||jI.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.cs.getAllFromCollectionGroup(e,t,WI(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(UP(n,t,e),e)))}function UP(e,t,n){let r=e.us.get(t)||jI.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.us.set(t,r)}async function VP(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:QC();const r=await DP(e,CC(qN(t.bundledQuery))),i=bI(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const o=lN(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Gr.saveNamedQuery(e,t);const a=r.withResumeToken(aE.EMPTY_BYTE_STRING,o);return i.os=i.os.insert(a.targetId,a),i.Ur.updateTargetData(e,a).next((()=>i.Ur.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Ur.addMatchingKeys(e,n,r.targetId))).next((()=>i.Gr.saveNamedQuery(e,t)))}))}function zP(e,t){return`firestore_clients_${e}_${t}`}function BP(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function qP(e,t){return`firestore_targets_${e}_${t}`}class GP{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Rs(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new kI(r.error.code,r.error.message))),o?new GP(e,t,r.state,i):(pI("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class $P{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Rs(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new kI(n.error.code,n.error.message))),i?new $P(e,n.state,r):(pI("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class KP{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Rs(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=JC();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=vS(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new KP(e,i):(pI("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class HP{constructor(e,t){this.clientId=e,this.onlineState=t}static Rs(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new HP(t.clientId,t.onlineState):(pI("SharedClientState",`Failed to parse online state: ${e}`),null)}}class WP{constructor(){this.activeTargetIds=JC()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QP{constructor(e,t,n,r,i){this.window=e,this.ui=t,this.persistenceKey=n,this.ps=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new XS(OI),this.started=!1,this.bs=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ds=zP(this.persistenceKey,this.ps),this.vs=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new WP),this.Cs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.xs=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.Os=function(e){return`firestore_bundle_loaded_v2_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Qi();for(const n of e){if(n===this.ps)continue;const e=this.getItem(zP(this.persistenceKey,n));if(e){const t=KP.Rs(n,e);t&&(this.Ss=this.Ss.insert(t.clientId,t))}}this.Ns();const t=this.storage.getItem(this.xs);if(t){const e=this.Ls(t);e&&this.Bs(e)}for(const n of this.bs)this.ws(n);this.bs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let t=!1;return this.Ss.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,t,n){this.qs(e,t,n),this.Qs(e)}addLocalQueryTarget(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="not-current";if(this.isActiveQueryTarget(e)){const t=this.storage.getItem(qP(this.persistenceKey,e));if(t){const r=$P.Rs(e,t);r&&(n=r.state)}}return t&&this.Ks.fs(e),this.Ns(),n}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(qP(this.persistenceKey,e))}updateQueryState(e,t,n){this.$s(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Qs(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return fI("SharedClientState","READ",e,t),t}setItem(e,t){fI("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){fI("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){const t=e;if(t.storageArea===this.storage){if(fI("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Ds)return void pI("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Cs.test(t.key)){if(null==t.newValue){const e=this.Gs(t.key);return this.zs(e,null)}{const e=this.js(t.key,t.newValue);if(e)return this.zs(e.clientId,e)}}else if(this.Fs.test(t.key)){if(null!==t.newValue){const e=this.Hs(t.key,t.newValue);if(e)return this.Js(e)}}else if(this.Ms.test(t.key)){if(null!==t.newValue){const e=this.Ys(t.key,t.newValue);if(e)return this.Zs(e)}}else if(t.key===this.xs){if(null!==t.newValue){const e=this.Ls(t.newValue);if(e)return this.Bs(e)}}else if(t.key===this.vs){const e=function(e){let t=pS.oe;if(null!=e)try{const n=JSON.parse(e);yI("number"==typeof n),t=n}catch(e){pI("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==pS.oe&&this.sequenceNumberHandler(e)}else if(t.key===this.Os){const e=this.Xs(t.newValue);await Promise.all(e.map((e=>this.syncEngine.eo(e))))}}else this.bs.push(t)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,t,n){const r=new GP(this.currentUser,e,t,n),i=BP(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Vs())}Qs(e){const t=BP(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Us(e){const t={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(t))}$s(e,t,n){const r=qP(this.persistenceKey,e),i=new $P(e,t,n);this.setItem(r,i.Vs())}Ws(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Os,t)}Gs(e){const t=this.Cs.exec(e);return t?t[1]:null}js(e,t){const n=this.Gs(e);return KP.Rs(n,t)}Hs(e,t){const n=this.Fs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return GP.Rs(new cI(i),r,t)}Ys(e,t){const n=this.Ms.exec(e),r=Number(n[1]);return $P.Rs(r,t)}Ls(e){return HP.Rs(e)}Xs(e){return JSON.parse(e)}async Js(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);fI("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,t){const n=t?this.Ss.insert(e,t):this.Ss.remove(e),r=this.ks(this.Ss),i=this.ks(n),o=[],a=[];return i.forEach((e=>{r.has(e)||o.push(e)})),r.forEach((e=>{i.has(e)||a.push(e)})),this.syncEngine.io(o,a).then((()=>{this.Ss=n}))}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let t=JC();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class YP{constructor(){this.so=new WP,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new WP,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class JP{_o(e){}shutdown(){}}class XP{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){fI("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){fI("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ZP=null;function eR(){return null===ZP?ZP=268435456+Math.round(2147483648*Math.random()):ZP++,"0x"+ZP.toString(16)}const tR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nR{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const rR="WebChannelConnection";class iR extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo=`projects/${n}/databases/${r}`,this.Co="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}get Fo(){return!1}Mo(e,t,n,r,i){const o=eR(),a=this.xo(e,t.toUriEncodedString());fI("RestConnection",`Sending RPC '${e}' ${o}:`,a,n);const s={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(s,r,i),this.No(e,a,s,n).then((t=>(fI("RestConnection",`Received RPC '${e}' ${o}: `,t),t)),(t=>{throw gI("RestConnection",`RPC '${e}' ${o} failed with error: `,t,"url: ",a,"request:",n),t}))}Lo(e,t,n,r,i,o){return this.Mo(e,t,n,r,i)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+uI,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}xo(e,t){const n=tR[e];return`${this.Do}/v1/${t}:${n}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const i=eR();return new Promise(((o,a)=>{const s=new X_;s.setWithCredentials(!0),s.listenOnce(eI.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case tI.NO_ERROR:const t=s.getResponseJson();fI(rR,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),o(t);break;case tI.TIMEOUT:fI(rR,`RPC '${e}' ${i} timed out`),a(new kI(wI.DEADLINE_EXCEEDED,"Request time out"));break;case tI.HTTP_ERROR:const n=s.getStatus();if(fI(rR,`RPC '${e}' ${i} failed with status:`,n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(wI).indexOf(t)>=0?t:wI.UNKNOWN}(t.status);a(new kI(e,t.message))}else a(new kI(wI.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new kI(wI.UNAVAILABLE,"Connection failed."));break;default:vI()}}finally{fI(rR,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);fI(rR,`RPC '${e}' ${i} sending request:`,r),s.send(t,"POST",l,n,15)}))}Bo(e,t,n){const r=eR(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=oI(),a=iI(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Oo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");fI(rR,`Creating RPC '${e}' stream ${r}: ${c}`,s);const u=o.createWebChannel(c,s);let d=!1,h=!1;const f=new nR({Io:t=>{h?fI(rR,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(fI(rR,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),fI(rR,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},To:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Z_.EventType.OPEN,(()=>{h||(fI(rR,`RPC '${e}' stream ${r} transport opened.`),f.yo())})),p(u,Z_.EventType.CLOSE,(()=>{h||(h=!0,fI(rR,`RPC '${e}' stream ${r} transport closed`),f.So())})),p(u,Z_.EventType.ERROR,(t=>{h||(h=!0,gI(rR,`RPC '${e}' stream ${r} transport errored:`,t),f.So(new kI(wI.UNAVAILABLE,"The operation could not be completed")))})),p(u,Z_.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];yI(!!i);const o=i,a=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){fI(rR,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=DT[e];if(void 0!==t)return jT(t)}(t),i=a.message;void 0===n&&(n=wI.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.So(new kI(n,i)),u.close()}else fI(rR,`RPC '${e}' stream ${r} received:`,i),f.bo(i)}})),p(a,rI.STAT_EVENT,(t=>{t.stat===nI.PROXY?fI(rR,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===nI.NOPROXY&&fI(rR,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.wo()}),0),f}}function oR(){return"undefined"!=typeof window?window:null}function aR(){return"undefined"!=typeof document?document:null}function sR(e){return new rN(e,!0)}class lR{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&fI("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class cR{constructor(e,t,n,r,i,o,a,s){this.ui=e,this.Ho=n,this.Jo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new lR(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===wI.RESOURCE_EXHAUSTED?(pI(t.toString()),pI("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===wI.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Yo===t&&this.P_(n,r)}),(t=>{e((()=>{const e=new kI(wI.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)}))}))}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((e=>{n((()=>this.I_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.e_?this.E_(e):this.onNext(e)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return fI("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(fI("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uR extends cR{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:vI()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(yI(void 0===t||"string"==typeof t),aE.fromBase64String(t||"")):(yI(void 0===t||t instanceof Buffer||t instanceof Uint8Array),aE.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){const t=void 0===e.code?wI.UNKNOWN:jT(e.code);return new kI(t,e.message||"")}(a);n=new QT(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=fN(e,r.document.name),o=lN(r.document.updateTime),a=r.document.createTime?lN(r.document.createTime):jI.min(),s=new VE({mapValue:{fields:r.document.fields}}),l=BE.newFoundDocument(i,o,a,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new HT(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=fN(e,r.document),o=r.readTime?lN(r.readTime):jI.min(),a=BE.newNoDocument(i,o),s=r.removedTargetIds||[];n=new HT([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=fN(e,r.document),o=r.removedTargetIds||[];n=new HT([],o,i,null)}else{if(!("filter"in t))return vI();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new OT(r,i),a=e.targetId;n=new WT(a,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return jI.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?jI.min():t.readTime?lN(t.readTime):jI.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=mN(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=vC(r)?{documents:xN(e,r)}:{query:_N(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=aN(e,t.resumeToken);const r=iN(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(jI.min())>0){n.readTime=oN(e,t.snapshotVersion.toTimestamp());const r=iN(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vI()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=mN(this.serializer),t.removeTarget=e,this.a_(t)}}class dR extends cR{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return yI(!!e.streamToken),this.lastStreamToken=e.streamToken,yI(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){yI(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(yI(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?lN(e.updateTime):lN(t);return n.isEqual(jI.min())&&(n=lN(t)),new pT(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=lN(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=mN(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>wN(this.serializer,e)))};this.a_(t)}}class hR extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new kI(wI.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,a]=i;return this.connection.Mo(e,uN(t,n),r,o,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===wI.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new kI(wI.UNKNOWN,e.toString())}))}Lo(e,t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[a,s]=o;return this.connection.Lo(e,uN(t,n),r,a,s,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===wI.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new kI(wI.UNKNOWN,e.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class fR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(pI(t),this.D_=!1):fI("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class pR{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o((e=>{n.enqueueAndForget((async()=>{_R(this)&&(fI("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=bI(e);t.L_.add(4),await mR(t),t.q_.set("Unknown"),t.L_.delete(4),await gR(t)}(this))}))})),this.q_=new fR(n,r)}}async function gR(e){if(_R(e))for(const t of e.B_)await t(!0)}async function mR(e){for(const t of e.B_)await t(!1)}function vR(e,t){const n=bI(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),xR(n)?kR(n):BR(n).r_()&&bR(n,t))}function yR(e,t){const n=bI(e),r=BR(n);n.N_.delete(t),r.r_()&&wR(n,t),0===n.N_.size&&(r.r_()?r.o_():_R(n)&&n.q_.set("Unknown"))}function bR(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(jI.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}BR(e).A_(t)}function wR(e,t){e.Q_.xe(t),BR(e).R_(t)}function kR(e){e.Q_=new JT({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),BR(e).start(),e.q_.v_()}function xR(e){return _R(e)&&!BR(e).n_()&&e.N_.size>0}function _R(e){return 0===bI(e).L_.size}function IR(e){e.Q_=void 0}async function SR(e){e.q_.set("Online")}async function ER(e){e.N_.forEach(((t,n)=>{bR(e,t)}))}async function CR(e,t){IR(e),xR(e)?(e.q_.M_(t),kR(e)):e.q_.set("Unknown")}async function TR(e,t,n){if(e.q_.set("Online"),t instanceof QT&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){fI("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await NR(e,n)}else if(t instanceof HT?e.Q_.Ke(t):t instanceof WT?e.Q_.He(t):e.Q_.We(t),!n.isEqual(jI.min()))try{const t=await PP(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.N_.get(r);i&&e.N_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(aE.EMPTY_BYTE_STRING,r.snapshotVersion)),wR(e,t);const i=new DN(r.target,t,n,r.sequenceNumber);bR(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){fI("RemoteStore","Failed to raise snapshot:",t),await NR(e,t)}}async function NR(e,t,n){if(!sS(t))throw t;e.L_.add(1),await mR(e),e.q_.set("Offline"),n||(n=()=>PP(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{fI("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await gR(e)}))}function AR(e,t){return t().catch((n=>NR(e,n,t)))}async function PR(e){const t=bI(e),n=qR(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;RR(t);)try{const e=await OP(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,OR(t,e)}catch(e){await NR(t,e)}DR(t)&&LR(t)}function RR(e){return _R(e)&&e.O_.length<10}function OR(e,t){e.O_.push(t);const n=qR(e);n.r_()&&n.V_&&n.m_(t.mutations)}function DR(e){return _R(e)&&!qR(e).n_()&&e.O_.length>0}function LR(e){qR(e).start()}async function MR(e){qR(e).p_()}async function jR(e){const t=qR(e);for(const n of e.O_)t.m_(n.mutations)}async function FR(e,t,n){const r=e.O_.shift(),i=PT.from(r,t,n);await AR(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await PR(e)}async function UR(e,t){t&&qR(e).V_&&await async function(e,t){if(function(e){return MT(e)&&e!==wI.ABORTED}(t.code)){const n=e.O_.shift();qR(e).s_(),await AR(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await PR(e)}}(e,t),DR(e)&&LR(e)}async function VR(e,t){const n=bI(e);n.asyncQueue.verifyOperationInProgress(),fI("RemoteStore","RemoteStore received new credentials");const r=_R(n);n.L_.add(3),await mR(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await gR(n)}async function zR(e,t){const n=bI(e);t?(n.L_.delete(2),await gR(n)):t||(n.L_.add(2),await mR(n),n.q_.set("Unknown"))}function BR(e){return e.K_||(e.K_=function(e,t,n){const r=bI(e);return r.w_(),new uR(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:SR.bind(null,e),Ro:ER.bind(null,e),mo:CR.bind(null,e),d_:TR.bind(null,e)}),e.B_.push((async t=>{t?(e.K_.s_(),xR(e)?kR(e):e.q_.set("Unknown")):(await e.K_.stop(),IR(e))}))),e.K_}function qR(e){return e.U_||(e.U_=function(e,t,n){const r=bI(e);return r.w_(),new dR(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:MR.bind(null,e),mo:UR.bind(null,e),f_:jR.bind(null,e),g_:FR.bind(null,e)}),e.B_.push((async t=>{t?(e.U_.s_(),await PR(e)):(await e.U_.stop(),e.O_.length>0&&(fI("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))}))),e.U_}class GR{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new xI,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,a=new GR(e,t,o,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new kI(wI.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $R(e,t){if(pI("AsyncQueue",`${t}: ${e}`),sS(e))return new kI(wI.UNAVAILABLE,`${t}: ${e}`);throw e}class KR{constructor(e){this.comparator=e?(t,n)=>e(t,n)||BI.comparator(t.key,n.key):(e,t)=>BI.comparator(e.key,t.key),this.keyedMap=BC(),this.sortedSet=new XS(this.comparator)}static emptySet(e){return new KR(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof KR))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new KR;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class HR{constructor(){this.W_=new XS(BI.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):vI():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class WR{constructor(e,t,n,r,i,o,a,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new WR(e,t,KR.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&PC(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class QR{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class YR{constructor(){this.queries=JR(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=bI(e),r=n.queries;n.queries=JR(),r.forEach(((e,n)=>{for(const r of n.j_)r.onError(t)}))}(this,new kI(wI.ABORTED,"Firestore shutting down"))}}function JR(){return new FC((e=>RC(e)),PC)}async function XR(e,t){const n=bI(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.H_()&&t.J_()&&(r=2):(o=new QR,r=t.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=$R(e,`Initialization of query '${OC(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,o),o.j_.push(t),t.Z_(n.onlineState),o.z_&&t.X_(o.z_)&&nO(n)}async function ZR(e,t){const n=bI(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.j_.indexOf(t);e>=0&&(o.j_.splice(e,1),0===o.j_.length?i=t.J_()?0:1:!o.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function eO(e,t){const n=bI(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(i)&&(r=!0);t.z_=i}}r&&nO(n)}function tO(e,t,n){const r=bI(e),i=r.queries.get(t);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(t)}function nO(e){e.Y_.forEach((e=>{e.next()}))}var rO,iO;(iO=rO||(rO={})).ea="default",iO.Cache="cache";class oO{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new WR(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=WR.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==rO.Cache}}class aO{constructor(e,t){this.aa=e,this.byteLength=t}ua(){return"metadata"in this.aa}}class sO{constructor(e){this.serializer=e}Es(e){return fN(this.serializer,e)}ds(e){return e.metadata.exists?bN(this.serializer,e.document,!1):BE.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return lN(e)}}class lO{constructor(e,t,n){this.ca=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=cO(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++t;const n=UI.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ha(e){const t=new Map,n=new sO(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.Es(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||QC()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=bI(e);let o=QC(),a=VC();for(const c of n){const e=t.Es(c.metadata.name);c.document&&(o=o.add(e));const n=t.ds(c);n.setReadTime(t.As(c.metadata.readTime)),a=a.insert(e,n)}const s=i.cs.newChangeBuffer({trackRemovals:!0}),l=await DP(i,function(e){return CC(_C(UI.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>RP(e,s,a).next((t=>(s.apply(e),t))).next((t=>i.Ur.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.Ur.addMatchingKeys(e,o,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.Ps,t.Is))).next((()=>t.Ps))))))}(this.localStore,new sO(this.serializer),this.documents,this.ca.id),t=this.ha(this.documents);for(const n of this.queries)await VP(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,Pa:this.collectionGroups,Ia:e}}}function cO(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class uO{constructor(e){this.key=e}}class dO{constructor(e){this.key=e}}class hO{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=QC(),this.mutatedKeys=QC(),this.Aa=MC(e),this.Ra=new KR(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new HR,r=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=DC(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ga(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.Aa(u,s)>0||l&&this.Aa(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(a=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ra:o,fa:n,ns:a,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vI()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc))),this.pa(n),r=null!=r&&r;const a=t&&!r?this.ya():[],s=0===this.da.size&&this.current&&!r?1:0,l=s!==this.Ea;return this.Ea=s,0!==o.length||l?{snapshot:new WR(this.query,e.Ra,i,o,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new HR,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((e=>this.Ta=this.Ta.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ta=this.Ta.delete(e))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=QC(),this.Ra.forEach((e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))}));const t=[];return e.forEach((e=>{this.da.has(e)||t.push(new dO(e))})),this.da.forEach((n=>{e.has(n)||t.push(new uO(n))})),t}ba(e){this.Ta=e.Ts,this.da=QC();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return WR.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class fO{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class pO{constructor(e){this.key=e,this.va=!1}}class gO{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new FC((e=>RC(e)),PC),this.Ma=new Map,this.xa=new Set,this.Oa=new XS(BI.comparator),this.Na=new Map,this.La=new cP,this.Ba={},this.ka=new Map,this.qa=jA.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function mO(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=$O(e);let i;const o=r.Fa.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await yO(r,t,n,!0),i}async function vO(e,t){const n=$O(e);await yO(n,t,!0,!1)}async function yO(e,t,n,r){const i=await DP(e.localStore,CC(t)),o=i.targetId,a=e.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await bO(e,t,o,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&vR(e.remoteStore,i),s}async function bO(e,t,n,r,i){e.Ka=(t,n,r)=>async function(e,t,n,r){let i=t.view.ma(n);i.ns&&(i=await MP(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ma(n,i)})));const o=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o,a);return PO(e,t.targetId,s.wa),s.snapshot}(e,t,n,r);const o=await MP(e.localStore,t,!0),a=new hO(t,o.Ts),s=a.ma(o.documents),l=KT.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(s,e.isPrimaryClient,l);PO(e,n,c.wa);const u=new fO(t,n,a);return e.Fa.set(t,u),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),c.snapshot}async function wO(e,t,n){const r=bI(e),i=r.Fa.get(t),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter((e=>!PC(e,t)))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await LP(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&yR(r.remoteStore,i.targetId),NO(r,i.targetId)})).catch(eS)):(NO(r,i.targetId),await LP(r.localStore,i.targetId,!0))}async function kO(e,t){const n=bI(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),yR(n.remoteStore,r.targetId))}async function xO(e,t){const n=bI(e);try{const e=await function(e,t){const n=bI(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];t.targetChanges.forEach(((o,s)=>{const l=i.get(s);if(!l)return;a.push(n.Ur.removeMatchingKeys(e,o.removedDocuments,s).next((()=>n.Ur.addMatchingKeys(e,o.addedDocuments,s))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(aE.EMPTY_BYTE_STRING,jI.min()).withLastLimboFreeSnapshotVersion(jI.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&a.push(n.Ur.updateTargetData(e,c))}));let s=VC(),l=QC();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(RP(e,o,t.documentUpdates).next((e=>{s=e.Ps,l=e.Is}))),!r.isEqual(jI.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next((t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return tS.waitFor(a).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,l))).next((()=>s))})).then((e=>(n.os=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Na.get(t);r&&(yI(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?yI(r.va):e.removedDocuments.size>0&&(yI(r.va),r.va=!1))})),await DO(n,e,t)}catch(e){await eS(e)}}function _O(e,t,n){const r=bI(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach(((n,r)=>{const i=r.view.Z_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=bI(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.j_)i.Z_(t)&&(r=!0)})),r&&nO(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function IO(e,t,n){const r=bI(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),o=i&&i.key;if(o){let e=new XS(BI.comparator);e=e.insert(o,BE.newNoDocument(o,jI.min()));const n=QC().add(o),i=new $T(jI.min(),new Map,new XS(OI),e,n);await xO(r,i),r.Oa=r.Oa.remove(o),r.Na.delete(t),OO(r)}else await LP(r.localStore,t,!1).then((()=>NO(r,t,n))).catch(eS)}async function SO(e,t){const n=bI(e),r=t.batch.batchId;try{const e=await function(e,t){const n=bI(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let a=tS.resolve();return o.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);yI(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=QC();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);TO(n,r,null),CO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await DO(n,e)}catch(e){await eS(e)}}async function EO(e,t,n){const r=bI(e);try{const e=await function(e,t){const n=bI(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(yI(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);TO(r,t,n),CO(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await DO(r,e)}catch(n){await eS(n)}}function CO(e,t){(e.ka.get(t)||[]).forEach((e=>{e.resolve()})),e.ka.delete(t)}function TO(e,t,n){const r=bI(e);let i=r.Ba[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function NO(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach((t=>{e.La.containsKey(t)||AO(e,t)}))}function AO(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(yR(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),OO(e))}function PO(e,t,n){for(const r of n)r instanceof uO?(e.La.addReference(r.key,t),RO(e,r)):r instanceof dO?(fI("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||AO(e,r.key)):vI()}function RO(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(fI("SyncEngine","New document in limbo: "+n),e.xa.add(r),OO(e))}function OO(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new BI(UI.fromString(t)),r=e.qa.next();e.Na.set(r,new pO(n)),e.Oa=e.Oa.insert(n,r),vR(e.remoteStore,new DN(CC(_C(n.path)),r,"TargetPurposeLimboResolution",pS.oe))}}async function DO(e,t,n){const r=bI(e),i=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach(((e,s)=>{a.push(r.Ka(s,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(e){i.push(e);const t=SP.Wi(s.targetId,e);o.push(t)}})))})),await Promise.all(a),r.Ca.d_(i),await async function(e,t){const n=bI(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>tS.forEach(t,(t=>tS.forEach(t.$i,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>tS.forEach(t.Ui,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!sS(e))throw e;fI("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.os.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,i)}}}(r.localStore,o))}async function LO(e,t){const n=bI(e);if(!n.currentUser.isEqual(t)){fI("SyncEngine","User change. New user:",t.toKey());const e=await AP(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach((e=>{e.forEach((e=>{e.reject(new kI(wI.CANCELLED,t))}))})),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await DO(n,e.hs)}}function MO(e,t){const n=bI(e),r=n.Na.get(t);if(r&&r.va)return QC().add(r.key);{let e=QC();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}async function jO(e,t){const n=bI(e),r=await MP(n.localStore,t.query,!0),i=t.view.ba(r);return n.isPrimaryClient&&PO(n,t.targetId,i.wa),i}async function FO(e,t){const n=bI(e);return FP(n.localStore,t).then((e=>DO(n,e)))}async function UO(e,t,n,r){const i=bI(e),o=await function(e,t){const n=bI(e),r=bI(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Mn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):tS.resolve(null)))))}(i.localStore,t);null!==o?("pending"===n?await PR(i.remoteStore):"acknowledged"===n||"rejected"===n?(TO(i,t,r||null),CO(i,t),function(e,t){bI(bI(e).mutationQueue).On(t)}(i.localStore,t)):vI(),await DO(i,o)):fI("SyncEngine","Cannot apply mutation batch with id: "+t)}async function VO(e,t,n){const r=bI(e),i=[],o=[];for(const a of t){let e;const t=r.Ma.get(a);if(t&&0!==t.length){e=await DP(r.localStore,CC(t[0]));for(const e of t){const t=r.Fa.get(e),n=await jO(r,t);n.snapshot&&o.push(n.snapshot)}}else{const t=await jP(r.localStore,a);e=await DP(r.localStore,t),await bO(r,zO(t),a,!1,e.resumeToken)}i.push(e)}return r.Ca.d_(o),i}function zO(e){return xC(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function BO(e){return function(e){return bI(bI(e).persistence).Qi()}(bI(e).localStore)}async function qO(e,t,n,r){const i=bI(e);if(i.Qa)return void fI("SyncEngine","Ignoring unexpected query state notification.");const o=i.Ma.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await FP(i.localStore,LC(o[0])),r=$T.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,aE.EMPTY_BYTE_STRING);await DO(i,e,r);break}case"rejected":await LP(i.localStore,t,!0),NO(i,t,r);break;default:vI()}}async function GO(e,t,n){const r=$O(e);if(r.Qa){for(const e of t){if(r.Ma.has(e)&&r.sharedClientState.isActiveQueryTarget(e)){fI("SyncEngine","Adding an already active target "+e);continue}const t=await jP(r.localStore,e),n=await DP(r.localStore,t);await bO(r,zO(t),n.targetId,!1,n.resumeToken),vR(r.remoteStore,n)}for(const e of n)r.Ma.has(e)&&await LP(r.localStore,e,!1).then((()=>{yR(r.remoteStore,e),NO(r,e)})).catch(eS)}}function $O(e){const t=bI(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=xO.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=MO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=IO.bind(null,t),t.Ca.d_=eO.bind(null,t.eventManager),t.Ca.$a=tO.bind(null,t.eventManager),t}function KO(e){const t=bI(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=SO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=EO.bind(null,t),t}class HO{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sR(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return NP(this.persistence,new CP,e.initialUser,this.serializer)}Ga(e){return new gP(vP.Zr,this.serializer)}Wa(e){return new YP}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}HO.provider={build:()=>new HO};class WO extends HO{constructor(e,t,n){super(),this.Ja=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await KO(this.Ja.syncEngine),await PR(this.Ja.remoteStore),await this.persistence.yi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}za(e){return NP(this.persistence,new CP,e.initialUser,this.serializer)}ja(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new GA(n,e.asyncQueue,t)}Ha(e,t){const n=new fS(t,this.persistence);return new hS(e.asyncQueue,n)}Ga(e){const t=IP(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?NA.withCacheSize(this.cacheSizeBytes):NA.DEFAULT;return new kP(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,oR(),aR(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new YP}}class QO extends WO{constructor(e,t){super(e,t,!1),this.Ja=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Ja.syncEngine;this.sharedClientState instanceof QP&&(this.sharedClientState.syncEngine={no:UO.bind(null,t),ro:qO.bind(null,t),io:GO.bind(null,t),Qi:BO.bind(null,t),eo:FO.bind(null,t)},await this.sharedClientState.start()),await this.persistence.yi((async e=>{await async function(e,t){const n=bI(e);if($O(n),KO(n),!0===t&&!0!==n.Qa){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await VO(n,e.toArray());n.Qa=!0,await zR(n.remoteStore,!0);for(const r of t)vR(n.remoteStore,r)}else if(!1===t&&!1!==n.Qa){const e=[];let t=Promise.resolve();n.Ma.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(NO(n,i),LP(n.localStore,i,!0)))),yR(n.remoteStore,i)})),await t,await VO(n,e),function(e){const t=bI(e);t.Na.forEach(((e,n)=>{yR(t.remoteStore,n)})),t.La.pr(),t.Na=new Map,t.Oa=new XS(BI.comparator)}(n),n.Qa=!1,await zR(n.remoteStore,!1)}}(this.Ja.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}Wa(e){const t=oR();if(!QP.D(t))throw new kI(wI.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=IP(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new QP(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class YO{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>_O(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=LO.bind(null,this.syncEngine),await zR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new YR}createDatastore(e){const t=sR(e.databaseInfo.databaseId),n=function(e){return new iR(e)}(e.databaseInfo);return function(e,t,n,r){return new hR(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new pR(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>_O(this.syncEngine,e,0)),XP.D()?new XP:new JP)}createSyncEngine(e,t){return function(e,t,n,r,i,o,a){const s=new gO(e,t,n,r,i,o);return a&&(s.Qa=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=bI(e);fI("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await mR(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}function JO(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}YO.provider={build:()=>new YO};class XO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):pI("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class ZO{constructor(e,t){this.Xa=e,this.serializer=t,this.metadata=new xI,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then((e=>{e&&e.ua()?this.metadata.resolve(e.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.aa)}`))}),(e=>this.metadata.reject(e)))}close(){return this.Xa.cancel()}async getMetadata(){return this.metadata.promise}async Ua(){return await this.getMetadata(),this.tu()}async tu(){const e=await this.nu();if(null===e)return null;const t=this.eu.decode(e),n=Number(t);isNaN(n)&&this.ru(`length string (${t}) is not valid number`);const r=await this.iu(n);return new aO(JSON.parse(r),e.length+n)}su(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async nu(){for(;this.su()<0&&!await this.ou(););if(0===this.buffer.length)return null;const e=this.su();e<0&&this.ru("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async iu(e){for(;this.buffer.length<e;)await this.ou()&&this.ru("Reached the end of bundle when more is expected.");const t=this.eu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}async ou(){const e=await this.Xa.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class eD{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new kI(wI.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=bI(e),r={documents:t.map((e=>hN(n.serializer,e)))},i=await n.Lo("BatchGetDocuments",n.serializer.databaseId,UI.emptyPath(),r,t.length),o=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){yI(!!t.found),t.found.name,t.found.updateTime;const n=fN(e,t.found.name),r=lN(t.found.updateTime),i=t.found.createTime?lN(t.found.createTime):jI.min(),o=new VE({mapValue:{fields:t.found.fields}});return BE.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){yI(!!t.missing),yI(!!t.readTime);const n=fN(e,t.missing),r=lN(t.readTime);return BE.newNoDocument(n,r)}(e,t):vI()}(n.serializer,e);o.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=o.get(e.toString());yI(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new TT(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=BI.fromPath(t);this.mutations.push(new NT(n,this.precondition(n)))})),await async function(e,t){const n=bI(e),r={writes:t.map((e=>wN(n.serializer,e)))};await n.Mo("Commit",n.serializer.databaseId,UI.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw vI();t=jI.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new kI(wI.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(jI.min())?gT.exists(!1):gT.updateTime(t):gT.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(jI.min()))throw new kI(wI.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return gT.updateTime(t)}return gT.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class tD{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this._u=n.maxAttempts,this.t_=new lR(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go((async()=>{const e=new eD(this.datastore),t=this.cu(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.lu(e)}))))})).catch((e=>{this.lu(e)}))}))}cu(e){try{const t=this.updateFunction(e);return!gS(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget((()=>(this.uu(),Promise.resolve())))):this.deferred.reject(e)}hu(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!MT(t)}return!1}}class nD{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=cI.UNAUTHENTICATED,this.clientId=RI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{fI("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(fI("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xI;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch($e){const n=$R($e,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function rD(e,t){e.asyncQueue.verifyOperationInProgress(),fI("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await AP(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function iD(e,t){e.asyncQueue.verifyOperationInProgress();const n=await oD(e);fI("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>VR(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>VR(t.remoteStore,n))),e._onlineComponents=t}async function oD(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){fI("FirestoreClient","Using user provided OfflineComponentProvider");try{await rD(e,e._uninitializedComponentsProvider._offline)}catch($e){const n=$e;if(!function(e){return"FirebaseError"===e.name?e.code===wI.FAILED_PRECONDITION||e.code===wI.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;gI("Error using user provided cache. Falling back to memory cache: "+n),await rD(e,new HO)}}else fI("FirestoreClient","Using default OfflineComponentProvider"),await rD(e,new HO);return e._offlineComponents}async function aD(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(fI("FirestoreClient","Using user provided OnlineComponentProvider"),await iD(e,e._uninitializedComponentsProvider._online)):(fI("FirestoreClient","Using default OnlineComponentProvider"),await iD(e,new YO))),e._onlineComponents}function sD(e){return oD(e).then((e=>e.persistence))}function lD(e){return oD(e).then((e=>e.localStore))}function cD(e){return aD(e).then((e=>e.remoteStore))}function uD(e){return aD(e).then((e=>e.syncEngine))}function dD(e){return aD(e).then((e=>e.datastore))}async function hD(e){const t=await aD(e),n=t.eventManager;return n.onListen=mO.bind(null,t.syncEngine),n.onUnlisten=wO.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=vO.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=kO.bind(null,t.syncEngine),n}function fD(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new xI;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new XO({next:s=>{o.Za(),t.enqueueAndForget((()=>ZR(e,a)));const l=s.docs.has(n);!l&&s.fromCache?i.reject(new kI(wI.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&s.fromCache&&r&&"server"===r.source?i.reject(new kI(wI.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new oO(_C(n.path),o,{includeMetadataChanges:!0,_a:!0});return XR(e,a)}(await hD(e),e.asyncQueue,t,n,r))),r.promise}function pD(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new xI;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new XO({next:n=>{o.Za(),t.enqueueAndForget((()=>ZR(e,a))),n.fromCache&&"server"===r.source?i.reject(new kI(wI.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new oO(n,o,{includeMetadataChanges:!0,_a:!0});return XR(e,a)}(await hD(e),e.asyncQueue,t,n,r))),r.promise}function gD(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?UT().encode(e):e,function(e,t){return new ZO(e,t)}(function(e,t){if(e instanceof Uint8Array)return JO(e,t);if(e instanceof ArrayBuffer)return JO(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,sR(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=bI(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=bI(e),r=lN(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Gr.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(cO(r));const i=new lO(r,e.localStore,t.serializer);let o=await t.Ua();for(;o;){const e=await i.la(o);e&&n._updateProgress(e),o=await t.Ua()}const a=await i.complete();return await DO(e,a.Ia,void 0),await function(e,t){const n=bI(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Gr.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(a.progress),Promise.resolve(a.Pa)}catch(e){return gI("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await uD(e),i,r)}))}function mD(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const vD=new Map;function yD(e,t,n){if(!n)throw new kI(wI.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function bD(e,t,n,r){if(!0===t&&!0===r)throw new kI(wI.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function wD(e){if(!BI.isDocumentKey(e))throw new kI(wI.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function kD(e){if(BI.isDocumentKey(e))throw new kI(wI.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function xD(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":vI()}function _D(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new kI(wI.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xD(e);throw new kI(wI.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function ID(e,t){if(t<=0)throw new kI(wI.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class SD{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new kI(wI.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new kI(wI.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mD(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new kI(wI.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new kI(wI.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new kI(wI.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ED{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new SD({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new kI(wI.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new kI(wI.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new SD(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new II;switch(e.type){case"firstParty":return new TI(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new kI(wI.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=vD.get(e);t&&(fI("ComponentProvider","Removing Datastore"),vD.delete(e),t.terminate())}(this),Promise.resolve()}}function CD(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=_D(e,ED))._getSettings(),a=`${t}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==a&&gI("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=cI.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Es(JSON.stringify({alg:"none",type:"JWT"})),Es(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new kI(wI.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new cI(o)}e._authCredentials=new SI(new _I(t,n))}}class TD{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new TD(this.firestore,e,this._query)}}class ND{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new AD(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ND(this.firestore,e,this._key)}}class AD extends TD{constructor(e,t,n){super(e,t,_C(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ND(this.firestore,null,new BI(e))}withConverter(e){return new AD(this.firestore,e,this._path)}}function PD(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=nl(e),yD("collection","path",t),e instanceof ED){const n=UI.fromString(t,...r);return kD(n),new AD(e,null,n)}{if(!(e instanceof ND||e instanceof AD))throw new kI(wI.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(UI.fromString(t,...r));return kD(n),new AD(e.firestore,null,n)}}function RD(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=nl(e),1===arguments.length&&(t=RI.newId()),yD("doc","path",t),e instanceof ED){const n=UI.fromString(t,...r);return wD(n),new ND(e,null,new BI(n))}{if(!(e instanceof ND||e instanceof AD))throw new kI(wI.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(UI.fromString(t,...r));return wD(n),new ND(e.firestore,e instanceof AD?e.converter:null,new BI(n))}}function OD(e,t){return e=nl(e),t=nl(t),(e instanceof ND||e instanceof AD)&&(t instanceof ND||t instanceof AD)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function DD(e,t){return e=nl(e),t=nl(t),e instanceof TD&&t instanceof TD&&e.firestore===t.firestore&&PC(e._query,t._query)&&e.converter===t.converter}class LD{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new lR(this,"async_queue_retry"),this.Vu=()=>{const e=aR();e&&fI("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=aR();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=aR();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new xI;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(Sj){if(!sS(Sj))throw Sj;fI("AsyncQueue","Operation failed with retryable error: "+Sj)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((e=>{this.Eu=e,this.du=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw pI("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.du=!1,e))))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=GR.createAndSchedule(this,e,t,n,(e=>this.yu(e)));return this.Tu.push(r),r}fu(){this.Eu&&vI()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function MD(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class jD{constructor(){this._progressObserver={},this._taskCompletionResolver=new xI,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class FD extends ED{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new LD,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new LD(e),this._firestoreClient=void 0,await e}}}function UD(e){if(e._terminated)throw new kI(wI.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||VD(e),e._firestoreClient}function VD(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new pE(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,mD(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new nD(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}function zD(e,t,n){if((e=_D(e,FD))._firestoreClient||e._terminated)throw new kI(wI.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(e._componentsProvider||e._getSettings().localCache)throw new kI(wI.FAILED_PRECONDITION,"SDK cache is already specified.");e._componentsProvider={_online:t,_offline:n},VD(e)}function BD(e){return function(e){const t=new xI;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=bI(e);_R(n.remoteStore)||fI("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=bI(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.ka.get(e)||[];r.push(t),n.ka.set(e,r)}catch(e){const n=$R(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await uD(e),t))),t.promise}(UD(e=_D(e,FD)))}function qD(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await sD(e),n=await cD(e);return t.setNetworkEnabled(!0),function(e){const t=bI(e);return t.L_.delete(0),gR(t)}(n)}))}(UD(e=_D(e,FD)))}function GD(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await sD(e),n=await cD(e);return t.setNetworkEnabled(!1),async function(e){const t=bI(e);t.L_.add(0),await mR(t),t.q_.set("Offline")}(n)}))}(UD(e=_D(e,FD)))}function $D(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=bI(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Gr.getNamedQuery(e,t)))}(await lD(e),t)))}(UD(e=_D(e,FD)),t).then((t=>t?new TD(e,null,t.query):null))}class KD{constructor(e){this._byteString=e}static fromBase64String(e){try{return new KD(aE.fromBase64String(e))}catch(e){throw new kI(wI.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new KD(aE.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class HD{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new kI(wI.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zI(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class WD{constructor(e){this._methodName=e}}class QD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new kI(wI.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new kI(wI.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return OI(this._lat,e._lat)||OI(this._long,e._long)}}class YD{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const JD=/^__.*__$/;class XD{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new IT(e,this.data,this.fieldMask,t,this.fieldTransforms):new _T(e,this.data,t,this.fieldTransforms)}}class ZD{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new IT(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function eL(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vI()}}class tL{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new tL(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return kL(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(eL(this.Cu)&&JD.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class nL{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||sR(e)}Qu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new tL({Cu:e,methodName:t,qu:n,path:zI.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rL(e){const t=e._freezeSettings(),n=sR(e._databaseId);return new nL(e._databaseId,!!t.ignoreUndefinedProperties,n)}function iL(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Qu(o.merge||o.mergeFields?2:0,t,n,i);vL("Data must be an object, but it was:",a,r);const s=gL(r,a);let l,c;if(o.merge)l=new iE(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=yL(t,r,n);if(!a.contains(i))throw new kI(wI.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);xL(e,i)||e.push(i)}l=new iE(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new XD(new VE(s),l,c)}class oL extends WD{_toFieldTransform(e){if(2!==e.Cu)throw 1===e.Cu?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof oL}}function aL(e,t,n){return new tL({Cu:3,qu:t.settings.qu,methodName:e._methodName,xu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class sL extends WD{_toFieldTransform(e){return new fT(e.path,new oT)}isEqual(e){return e instanceof sL}}class lL extends WD{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){const t=aL(this,e,!0),n=this.Ku.map((e=>pL(e,t))),r=new aT(n);return new fT(e.path,r)}isEqual(e){return e instanceof lL&&Hs(this.Ku,e.Ku)}}class cL extends WD{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){const t=aL(this,e,!0),n=this.Ku.map((e=>pL(e,t))),r=new lT(n);return new fT(e.path,r)}isEqual(e){return e instanceof cL&&Hs(this.Ku,e.Ku)}}class uL extends WD{constructor(e,t){super(e),this.$u=t}_toFieldTransform(e){const t=new uT(e.serializer,eT(e.serializer,this.$u));return new fT(e.path,t)}isEqual(e){return e instanceof uL&&this.$u===e.$u}}function dL(e,t,n,r){const i=e.Qu(1,t,n);vL("Data must be an object, but it was:",i,r);const o=[],a=VE.empty();YS(r,((e,r)=>{const s=wL(t,e,n);r=nl(r);const l=i.Nu(s);if(r instanceof oL)o.push(s);else{const e=pL(r,l);null!=e&&(o.push(s),a.set(s,e))}}));const s=new iE(o);return new ZD(a,s,i.fieldTransforms)}function hL(e,t,n,r,i,o){const a=e.Qu(1,t,n),s=[yL(t,r,n)],l=[i];if(o.length%2!=0)throw new kI(wI.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)s.push(yL(t,o[h])),l.push(o[h+1]);const c=[],u=VE.empty();for(let h=s.length-1;h>=0;--h)if(!xL(c,s[h])){const e=s[h];let t=l[h];t=nl(t);const n=a.Nu(e);if(t instanceof oL)c.push(e);else{const r=pL(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new iE(c);return new ZD(u,d,a.fieldTransforms)}function fL(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return pL(n,e.Qu(r?4:3,t))}function pL(e,t){if(mL(e=nl(e)))return vL("Unsupported field value:",t,e),gL(e,t);if(e instanceof WD)return function(e,t){if(!eL(t.Cu))throw t.Bu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Bu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=pL(i,t.Lu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=nl(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return eT(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=MI.fromDate(e);return{timestampValue:oN(t.serializer,n)}}if(e instanceof MI){const n=new MI(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:oN(t.serializer,n)}}if(e instanceof QD)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof KD)return{bytesValue:aN(t.serializer,e._byteString)};if(e instanceof ND){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:cN(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof YD)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Bu("VectorValues must only contain numeric values.");return XC(t.serializer,e)}))}}}}}}(e,t);throw t.Bu(`Unsupported field value: ${xD(e)}`)}(e,t)}function gL(e,t){const n={};return JS(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):YS(e,((e,r)=>{const i=pL(r,t.Mu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function mL(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof MI||e instanceof QD||e instanceof KD||e instanceof ND||e instanceof WD||e instanceof YD)}function vL(e,t,n){if(!mL(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=xD(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function yL(e,t,n){if((t=nl(t))instanceof HD)return t._internalPath;if("string"==typeof t)return wL(e,t);throw kL("Field path arguments must be of type string or ",e,!1,void 0,n)}const bL=new RegExp("[~\\*/\\[\\]]");function wL(e,t,n){if(t.search(bL)>=0)throw kL(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new HD(...t.split("."))._internalPath}catch(Ge){throw kL(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function kL(e,t,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new kI(wI.INVALID_ARGUMENT,s+e+l)}function xL(e,t){return e.some((e=>e.isEqual(t)))}class _L{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ND(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new IL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(SL("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class IL extends _L{data(){return super.data()}}function SL(e,t){return"string"==typeof t?wL(e,t):t instanceof HD?t._internalPath:t._delegate._internalPath}function EL(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new kI(wI.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class CL{}class TL extends CL{}function NL(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof CL&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof PL)).length,n=e.filter((e=>e instanceof AL)).length;if(t>1||t>0&&n>0)throw new kI(wI.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class AL extends TL{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new AL(e,t,n)}_apply(e){const t=this._parse(e);return UL(e._query,t),new TD(e.firestore,e.converter,NC(e._query,t))}_parse(e){const t=rL(e.firestore),n=function(e,t,n,r,i,o,a){let s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new kI(wI.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){FL(a,o);const t=[];for(const n of a)t.push(jL(r,e,n));s={arrayValue:{values:t}}}else s=jL(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||FL(a,o),s=fL(n,t,a,"in"===o||"not-in"===o);return QE.create(i,o,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class PL extends CL{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new PL(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:YE.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)UL(n,i),n=NC(n,i)}(e._query,t),new TD(e.firestore,e.converter,NC(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class RL extends TL{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new RL(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new kI(wI.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new kI(wI.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new KE(t,n)}(e._query,this._field,this._direction);return new TD(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new kC(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class OL extends TL{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new OL(e,t,n)}_apply(e){return new TD(e.firestore,e.converter,AC(e._query,this._limit,this._limitType))}}class DL extends TL{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new DL(e,t,n)}_apply(e){const t=ML(e,this.type,this._docOrFields,this._inclusive);return new TD(e.firestore,e.converter,function(e,t){return new kC(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class LL extends TL{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new LL(e,t,n)}_apply(e){const t=ML(e,this.type,this._docOrFields,this._inclusive);return new TD(e.firestore,e.converter,function(e,t){return new kC(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function ML(e,t,n,r){if(n[0]=nl(n[0]),n[0]instanceof _L)return function(e,t,n,r,i){if(!r)throw new kI(wI.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const o=[];for(const a of EC(e))if(a.field.isKeyField())o.push(EE(t,r.key));else{const e=r.data.field(a.field);if(dE(e))throw new kI(wI.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=a.field.canonicalString();throw new kI(wI.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}o.push(e)}return new qE(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=rL(e.firestore);return function(e,t,n,r,i,o){const a=e.explicitOrderBy;if(i.length>a.length)throw new kI(wI.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const s=[];for(let l=0;l<i.length;l++){const o=i[l];if(a[l].field.isKeyField()){if("string"!=typeof o)throw new kI(wI.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof o}`);if(!SC(e)&&-1!==o.indexOf("/"))throw new kI(wI.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${o}' contains a slash.`);const n=e.path.child(UI.fromString(o));if(!BI.isDocumentKey(n))throw new kI(wI.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new BI(n);s.push(EE(t,i))}else{const e=fL(n,r,o);s.push(e)}}return new qE(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function jL(e,t,n){if("string"==typeof(n=nl(n))){if(""===n)throw new kI(wI.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!SC(t)&&-1!==n.indexOf("/"))throw new kI(wI.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(UI.fromString(n));if(!BI.isDocumentKey(r))throw new kI(wI.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return EE(e,new BI(r))}if(n instanceof ND)return EE(e,n._key);throw new kI(wI.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xD(n)}.`)}function FL(e,t){if(!Array.isArray(e)||0===e.length)throw new kI(wI.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function UL(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new kI(wI.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new kI(wI.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class VL{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(yE(e)){case 0:return null;case 1:return e.booleanValue;case 2:return cE(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(uE(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw vI()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return YS(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>cE(e.doubleValue)));return new YD(i)}convertGeoPoint(e){return new QD(cE(e.latitude),cE(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=hE(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(fE(e));default:return null}}convertTimestamp(e){const t=lE(e);return new MI(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=UI.fromString(e);yI(ON(n));const r=new gE(n.get(1),n.get(3)),i=new BI(n.popFirst(5));return r.isEqual(t)||pI(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function zL(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class BL extends VL{constructor(e){super(),this.firestore=e}convertBytes(e){return new KD(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ND(this.firestore,null,t)}}class qL{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class GL extends _L{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new $L(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(SL("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class $L extends GL{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class KL{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new qL(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new $L(this._firestore,this._userDataWriter,n.key,n,new qL(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new kI(wI.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new $L(e._firestore,e._userDataWriter,n.doc.key,n.doc,new qL(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new $L(e._firestore,e._userDataWriter,t.doc.key,t.doc,new qL(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:HL(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function HL(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vI()}}function WL(e,t){return e instanceof GL&&t instanceof GL?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof KL&&t instanceof KL&&e._firestore===t._firestore&&DD(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class QL extends VL{constructor(e){super(),this.firestore=e}convertBytes(e){return new KD(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ND(this.firestore,null,t)}}function YL(e){e=_D(e,ND);const t=_D(e.firestore,FD),n=UD(t),r=new QL(t);return function(e,t){const n=new xI;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=bI(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new kI(wI.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=$R(e,`Failed to get document '${t} from cache`);n.reject(r)}}(await lD(e),t,n))),n.promise}(n,e._key).then((n=>new GL(t,r,e._key,n,new qL(null!==n&&n.hasLocalMutations,!0),e.converter)))}function JL(e){e=_D(e,TD);const t=_D(e.firestore,FD),n=UD(t),r=new QL(t);return function(e,t){const n=new xI;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await MP(e,t,!0),i=new hO(t,r.Ts),o=i.ma(r.documents),a=i.applyChanges(o,!1);n.resolve(a.snapshot)}catch(e){const r=$R(e,`Failed to execute query '${t} against cache`);n.reject(r)}}(await lD(e),t,n))),n.promise}(n,e._query).then((n=>new KL(t,r,e,n)))}function XL(e,t,n){e=_D(e,ND);const r=_D(e.firestore,FD),i=zL(e.converter,t,n);return nM(r,[iL(rL(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,gT.none())])}function ZL(e,t,n){e=_D(e,ND);const r=_D(e.firestore,FD),i=rL(r);let o;for(var a=arguments.length,s=new Array(a>3?a-3:0),l=3;l<a;l++)s[l-3]=arguments[l];return o="string"==typeof(t=nl(t))||t instanceof HD?hL(i,"updateDoc",e._key,t,n,s):dL(i,"updateDoc",e._key,t),nM(r,[o.toMutation(e._key,gT.exists(!0))])}function eM(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,a;e=nl(e);let s={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||MD(n[l])||(s=n[l],l++);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(MD(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[l+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let u,d,h;if(e instanceof ND)d=_D(e.firestore,FD),h=_C(e._key.path),u={next:t=>{n[l]&&n[l](rM(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=_D(e,TD);d=_D(t.firestore,FD),h=t._query;const r=new QL(d);u={next:e=>{n[l]&&n[l](new KL(d,r,t,e))},error:n[l+1],complete:n[l+2]},EL(e._query)}return function(e,t,n,r){const i=new XO(r),o=new oO(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>XR(await hD(e),o))),()=>{i.Za(),e.asyncQueue.enqueueAndForget((async()=>ZR(await hD(e),o)))}}(UD(d),h,c,u)}function tM(e,t){return function(e,t){const n=new XO(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){bI(e).Y_.add(t),t.next()}(await hD(e),n))),()=>{n.Za(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){bI(e).Y_.delete(t)}(await hD(e),n)))}}(UD(e=_D(e,FD)),MD(t)?t:{next:t})}function nM(e,t){return function(e,t){const n=new xI;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=KO(e);try{const e=await function(e,t){const n=bI(e),r=MI.now(),i=t.reduce(((e,t)=>e.add(t.key)),QC());let o,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let s=VC(),l=QC();return n.cs.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{o=i;const a=[];for(const e of t){const t=kT(e,o.get(e.key).overlayedDocument);null!=t&&a.push(new IT(e.key,t,zE(t.value.mapValue),gT.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:qC(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new XS(OI)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await DO(r,e.changes),await PR(r.remoteStore)}catch(e){const t=$R(e,"Failed to persist write");n.reject(t)}}(await uD(e),t,n))),n.promise}(UD(e),t)}function rM(e,t,n){const r=n.docs.get(t._key),i=new QL(e);return new GL(e,i,t._key,r,new qL(n.hasPendingWrites,n.fromCache),t.converter)}const iM={maxAttempts:5};class oM{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=rL(e)}set(e,t,n){this._verifyNotCommitted();const r=aM(e,this._firestore),i=zL(r.converter,t,n),o=iL(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,gT.none())),this}update(e,t,n){this._verifyNotCommitted();const r=aM(e,this._firestore);let i;for(var o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return i="string"==typeof(t=nl(t))||t instanceof HD?hL(this._dataReader,"WriteBatch.update",r._key,t,n,a):dL(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,gT.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=aM(e,this._firestore);return this._mutations=this._mutations.concat(new TT(t._key,gT.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new kI(wI.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function aM(e,t){if((e=nl(e)).firestore!==t)throw new kI(wI.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class sM extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=rL(e)}get(e){const t=aM(e,this._firestore),n=new BL(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return vI();const r=e[0];if(r.isFoundDocument())return new _L(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new _L(this._firestore,n,t._key,null,t.converter);throw vI()}))}set(e,t,n){const r=aM(e,this._firestore),i=zL(r.converter,t,n),o=iL(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n){const r=aM(e,this._firestore);let i;for(var o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return i="string"==typeof(t=nl(t))||t instanceof HD?hL(this._dataReader,"Transaction.update",r._key,t,n,a):dL(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=aM(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=aM(e,this._firestore),n=new QL(this._firestore);return super.get(e).then((e=>new GL(this._firestore,n,t._key,e._document,new qL(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){uI=e}(Sc),mc(new rl("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),a=new FD(new EI(e.getProvider("auth-internal")),new AI(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new kI(wI.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gE(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),Pc(lI,"4.7.3",e),Pc(lI,"4.7.3","esm2017")}();function lM(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new kI("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function cM(){if("undefined"===typeof Uint8Array)throw new kI("unimplemented","Uint8Arrays are not available in this environment.")}function uM(){if("undefined"==typeof atob)throw new kI("unimplemented","Blobs are unavailable in Firestore in this environment.")}class dM{constructor(e){this._delegate=e}static fromBase64String(e){return uM(),new dM(KD.fromBase64String(e))}static fromUint8Array(e){return cM(),new dM(KD.fromUint8Array(e))}toBase64(){return uM(),this._delegate.toBase64()}toUint8Array(){return cM(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function hM(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class fM{enableIndexedDbPersistence(e,t){return function(e,t){gI("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings();return zD(e,YO.provider,{build:e=>new WO(e,n.cacheSizeBytes,null==t?void 0:t.forceOwnership)}),Promise.resolve()}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return async function(e){gI("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=e._freezeSettings();zD(e,YO.provider,{build:e=>new QO(e,t.cacheSizeBytes)})}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new kI(wI.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new xI;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!rS.D())return Promise.resolve();const t=e+"main";await rS.delete(t)}(IP(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class pM{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof gE||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||gI("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};CD(this._delegate,e,t,n)}enableNetwork(){return qD(this._delegate)}disableNetwork(){return GD(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,bD("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return BD(this._delegate)}onSnapshotsInSync(e){return tM(this._delegate,e)}get app(){if(!this._appCompat)throw new kI("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new TM(this,PD(this._delegate,e))}catch(Sj){throw wM(Sj,"collection()","Firestore.collection()")}}doc(e){try{return new bM(this,RD(this._delegate,e))}catch(Sj){throw wM(Sj,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new SM(this,function(e,t){if(e=_D(e,ED),yD("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new kI(wI.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new TD(e,null,function(e){return new kC(UI.emptyPath(),e)}(t))}(this._delegate,e))}catch(Sj){throw wM(Sj,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=_D(e,FD);const r=Object.assign(Object.assign({},iM),n);return function(e){if(e.maxAttempts<1)throw new kI(wI.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new xI;return e.asyncQueue.enqueueAndForget((async()=>{const i=await dD(e);new tD(e.asyncQueue,i,n,t,r).au()})),r.promise}(UD(e),(n=>t(new sM(e,n))),r)}(this._delegate,(t=>e(new mM(this,t))))}batch(){return UD(this._delegate),new vM(new oM(this._delegate,(e=>nM(this._delegate,e))))}loadBundle(e){return function(e,t){const n=UD(e=_D(e,FD)),r=new jD;return gD(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return $D(this._delegate,e).then((e=>e?new SM(this,e):null))}}class gM extends VL{constructor(e){super(),this.firestore=e}convertBytes(e){return new dM(new KD(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return bM.forKey(t,this.firestore,null)}}class mM{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new gM(e)}get(e){const t=NM(e);return this._delegate.get(t).then((e=>new _M(this._firestore,new GL(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=NM(e);return n?(lM("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const a=NM(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...i),this}delete(e){const t=NM(e);return this._delegate.delete(t),this}}class vM{constructor(e){this._delegate=e}set(e,t,n){const r=NM(e);return n?(lM("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const a=NM(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...i),this}delete(e){const t=NM(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class yM{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new $L(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new IM(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=yM.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new yM(e,new gM(e),t),r.set(t,i)),i}}yM.INSTANCES=new WeakMap;class bM{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new gM(e)}static forPath(e,t,n){if(e.length%2!==0)throw new kI("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new bM(t,new ND(t._delegate,n,new BI(e)))}static forKey(e,t,n){return new bM(t,new ND(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new TM(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new TM(this.firestore,PD(this._delegate,e))}catch(Sj){throw wM(Sj,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=nl(e))instanceof ND&&OD(this._delegate,e)}set(e,t){t=lM("DocumentReference.set",t);try{return t?XL(this._delegate,e,t):XL(this._delegate,e)}catch(Sj){throw wM(Sj,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?ZL(this._delegate,e):ZL(this._delegate,e,t,...r)}catch(Sj){throw wM(Sj,"updateDoc()","DocumentReference.update()")}}delete(){return function(e){return nM(_D(e.firestore,FD),[new TT(e._key,gT.none())])}(this._delegate)}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=kM(t),i=xM(t,(e=>new _M(this.firestore,new GL(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return eM(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?YL(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=_D(e,ND);const t=_D(e.firestore,FD);return fD(UD(t),e._key,{source:"server"}).then((n=>rM(t,e,n)))}(this._delegate):function(e){e=_D(e,ND);const t=_D(e.firestore,FD);return fD(UD(t),e._key).then((n=>rM(t,e,n)))}(this._delegate),t.then((e=>new _M(this.firestore,new GL(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new bM(this.firestore,e?this._delegate.withConverter(yM.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function wM(e,t,n){return e.message=e.message.replace(t,n),e}function kM(e){for(const t of e)if("object"===typeof t&&!hM(t))return t;return{}}function xM(e,t){var n,r;let i;return i=hM(e[0])?e[0]:hM(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class _M{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new bM(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return WL(this._delegate,e._delegate)}}class IM extends _M{data(e){const t=this._delegate.data(e);return this._delegate._converter||function(e){e||vI()}(void 0!==t),t}}class SM{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new gM(e)}where(e,t,n){try{return new SM(this.firestore,NL(this._delegate,function(e,t,n){const r=t,i=SL("where",e);return AL._create(i,r,n)}(e,t,n)))}catch(Sj){throw wM(Sj,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new SM(this.firestore,NL(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=SL("orderBy",e);return RL._create(n,t)}(e,t)))}catch(Sj){throw wM(Sj,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new SM(this.firestore,NL(this._delegate,function(e){return ID("limit",e),OL._create("limit",e,"F")}(e)))}catch(Sj){throw wM(Sj,"limit()","Query.limit()")}}limitToLast(e){try{return new SM(this.firestore,NL(this._delegate,function(e){return ID("limitToLast",e),OL._create("limitToLast",e,"L")}(e)))}catch(Sj){throw wM(Sj,"limitToLast()","Query.limitToLast()")}}startAt(){try{return new SM(this.firestore,NL(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return DL._create("startAt",t,!0)}(...arguments)))}catch(Sj){throw wM(Sj,"startAt()","Query.startAt()")}}startAfter(){try{return new SM(this.firestore,NL(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return DL._create("startAfter",t,!1)}(...arguments)))}catch(Sj){throw wM(Sj,"startAfter()","Query.startAfter()")}}endBefore(){try{return new SM(this.firestore,NL(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return LL._create("endBefore",t,!1)}(...arguments)))}catch(Sj){throw wM(Sj,"endBefore()","Query.endBefore()")}}endAt(){try{return new SM(this.firestore,NL(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return LL._create("endAt",t,!0)}(...arguments)))}catch(Sj){throw wM(Sj,"endAt()","Query.endAt()")}}isEqual(e){return DD(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?JL(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=_D(e,TD);const t=_D(e.firestore,FD),n=UD(t),r=new QL(t);return pD(n,e._query,{source:"server"}).then((n=>new KL(t,r,e,n)))}(this._delegate):function(e){e=_D(e,TD);const t=_D(e.firestore,FD),n=UD(t),r=new QL(t);return EL(e._query),pD(n,e._query).then((n=>new KL(t,r,e,n)))}(this._delegate),t.then((e=>new CM(this.firestore,new KL(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=kM(t),i=xM(t,(e=>new CM(this.firestore,new KL(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return eM(this._delegate,r,i)}withConverter(e){return new SM(this.firestore,e?this._delegate.withConverter(yM.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class EM{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new IM(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class CM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new SM(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new IM(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new EM(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new IM(this._firestore,n))}))}isEqual(e){return WL(this._delegate,e._delegate)}}class TM extends SM{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new bM(this.firestore,e):null}doc(e){try{return new bM(this.firestore,void 0===e?RD(this._delegate):RD(this._delegate,e))}catch(Sj){throw wM(Sj,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=_D(e.firestore,FD),r=RD(e),i=zL(e.converter,t);return nM(n,[iL(rL(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,gT.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new bM(this.firestore,e)))}isEqual(e){return OD(this._delegate,e._delegate)}withConverter(e){return new TM(this.firestore,e?this._delegate.withConverter(yM.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function NM(e){return _D(e,ND)}class AM{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new HD(...t)}static documentId(){return new AM(zI.keyField().canonicalString())}isEqual(e){return(e=nl(e))instanceof HD&&this._delegate._internalPath.isEqual(e._internalPath)}}class PM{constructor(e){this._delegate=e}static serverTimestamp(){const e=new sL("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new PM(e)}static delete(){const e=new oL("deleteField");return e._methodName="FieldValue.delete",new PM(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new lL("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new PM(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new cL("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new PM(e)}static increment(e){const t=function(e){return new uL("increment",e)}(e);return t._methodName="FieldValue.increment",new PM(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const RM={Firestore:pM,GeoPoint:QD,Timestamp:MI,Blob:dM,Transaction:mM,WriteBatch:vM,DocumentReference:bM,DocumentSnapshot:_M,Query:SM,QueryDocumentSnapshot:IM,QuerySnapshot:CM,CollectionReference:TM,FieldPath:AM,FieldValue:PM,setLogLevel:function(e){!function(e){dI.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new rl("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},RM)))}(e,((e,t)=>new pM(e,t,new fM))),e.registerVersion("@firebase/firestore-compat","0.3.38")}(xu);const OM=xu.initializeApp({apiKey:"AIzaSyAqv63H20jOzKsJyUB9gdFe1SiNuulhU58",authDomain:"kingdoms-84a59.firebaseapp.com",projectId:"kingdoms-84a59",storageBucket:"kingdoms-84a59.appspot.com",messagingSenderId:"70709251243",appId:"1:70709251243:web:766fdc7143f5d4868cbbee",measurementId:"G-VW1DSFXFNE",databaseURL:"https://kingdoms-84a59-default-rtdb.firebaseio.com"});xu.firestore();!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tc();e=nl(e);const t=vc(e,oy);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=vc(e,oy);if(n.isInitialized()){const e=n.getImmediate();if(Hs(t,n.getOptions()))return e;throw ly.create("already-initialized")}const r=n.initialize({options:t})}(e)}(OM);const DM={signInOptions:[{provider:xu.auth.GoogleAuthProvider.PROVIDER_ID,clientId:"70709251243-lmoclemlqq9j3eqe5hjch8v7nk8l4nju.apps.googleusercontent.com"},xu.auth.FacebookAuthProvider.PROVIDER_ID,xu.auth.TwitterAuthProvider.PROVIDER_ID,xu.auth.EmailAuthProvider.PROVIDER_ID],credentialHelper:Q_.CredentialHelper.GOOGLE_YOLO,tosUrl:"/tos",privacyPolicyUrl:function(){window.location.assign("/privacy-policy")},popupMode:!0,signInFlow:"popup"};xu.auth().onAuthStateChanged((e=>{if(!e){const e=new Q_.AuthUI(OM.auth());e.isPendingRedirect()||e.start("#firebaseui-auth-container",DM)}}));const LM=()=>(0,Zn.jsx)(de,{children:(0,Zn.jsx)(le,{children:(0,Zn.jsx)(ae,{path:"*",element:(0,Zn.jsx)(gv,{})})})});var MM="persist:",jM="persist/FLUSH",FM="persist/REHYDRATE",UM="persist/PAUSE",VM="persist/PERSIST",zM="persist/PURGE",BM="persist/REGISTER";function qM(e){return qM="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qM(e)}function GM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KM(e,t,n,r){r.debug;var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GM(n,!0).forEach((function(t){$M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GM(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n);return e&&"object"===qM(e)&&Object.keys(e).forEach((function(r){"_persist"!==r&&t[r]===n[r]&&(i[r]=e[r])})),i}function HM(e){var t,n=e.blacklist||null,r=e.whitelist||null,i=e.transforms||[],o=e.throttle||0,a="".concat(void 0!==e.keyPrefix?e.keyPrefix:MM).concat(e.key),s=e.storage;t=!1===e.serialize?function(e){return e}:"function"===typeof e.serialize?e.serialize:WM;var l=e.writeFailHandler||null,c={},u={},d=[],h=null,f=null;function p(){if(0===d.length)return h&&clearInterval(h),void(h=null);var e=d.shift(),n=i.reduce((function(t,n){return n.in(t,e,c)}),c[e]);if(void 0!==n)try{u[e]=t(n)}catch(r){console.error("redux-persist/createPersistoid: error serializing state",r)}else delete u[e];0===d.length&&(Object.keys(u).forEach((function(e){void 0===c[e]&&delete u[e]})),f=s.setItem(a,t(u)).catch(m))}function g(e){return(!r||-1!==r.indexOf(e)||"_persist"===e)&&(!n||-1===n.indexOf(e))}function m(e){l&&l(e)}return{update:function(e){Object.keys(e).forEach((function(t){g(t)&&c[t]!==e[t]&&-1===d.indexOf(t)&&d.push(t)})),Object.keys(c).forEach((function(t){void 0===e[t]&&g(t)&&-1===d.indexOf(t)&&void 0!==c[t]&&d.push(t)})),null===h&&(h=setInterval(p,o)),c=e},flush:function(){for(;0!==d.length;)p();return f||Promise.resolve()}}}function WM(e){return JSON.stringify(e)}function QM(e){var t,n=e.transforms||[],r="".concat(void 0!==e.keyPrefix?e.keyPrefix:MM).concat(e.key),i=e.storage;e.debug;return t=!1===e.deserialize?function(e){return e}:"function"===typeof e.deserialize?e.deserialize:YM,i.getItem(r).then((function(e){if(e)try{var r={},i=t(e);return Object.keys(i).forEach((function(e){r[e]=n.reduceRight((function(t,n){return n.out(t,e,i)}),t(i[e]))})),r}catch(o){throw o}}))}function YM(e){return JSON.parse(e)}function JM(e){0}function XM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ZM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XM(n,!0).forEach((function(t){ej(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XM(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ej(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tj(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nj(e,t){var n=void 0!==e.version?e.version:-1,r=(e.debug,void 0===e.stateReconciler?KM:e.stateReconciler),i=e.getStoredState||QM,o=void 0!==e.timeout?e.timeout:5e3,a=null,s=!1,l=!0,c=function(e){return e._persist.rehydrated&&a&&!l&&a.update(e),e};return function(u,d){var h=u||{},f=h._persist,p=tj(h,["_persist"]);if(d.type===VM){var g=!1,m=function(t,n){g||(d.rehydrate(e.key,t,n),g=!0)};if(o&&setTimeout((function(){!g&&m(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))}),o),l=!1,a||(a=HM(e)),f)return ZM({},t(p,d),{_persist:f});if("function"!==typeof d.rehydrate||"function"!==typeof d.register)throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return d.register(e.key),i(e).then((function(t){var r=e.migrate||function(e,t){return Promise.resolve(e)};r(t,n).then((function(e){m(e)}),(function(e){m(void 0,e)}))}),(function(e){m(void 0,e)})),ZM({},t(p,d),{_persist:{version:n,rehydrated:!1}})}if(d.type===zM)return s=!0,d.result(function(e){var t=e.storage,n="".concat(void 0!==e.keyPrefix?e.keyPrefix:MM).concat(e.key);return t.removeItem(n,JM)}(e)),ZM({},t(p,d),{_persist:f});if(d.type===jM)return d.result(a&&a.flush()),ZM({},t(p,d),{_persist:f});if(d.type===UM)l=!0;else if(d.type===FM){if(s)return ZM({},p,{_persist:ZM({},f,{rehydrated:!0})});if(d.key===e.key){var v=t(p,d),y=d.payload,b=ZM({},!1!==r&&void 0!==y?r(y,u,v,e):v,{_persist:ZM({},f,{rehydrated:!0})});return c(b)}}if(!f)return t(u,d);var w=t(p,d);return w===p?u:c(ZM({},w,{_persist:f}))}}function rj(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ij(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ij(n,!0).forEach((function(t){aj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ij(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function aj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sj={registry:[],bootstrapped:!1},lj=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case BM:return oj({},e,{registry:[].concat(rj(e.registry),[t.key])});case FM:var n=e.registry.indexOf(t.key),r=rj(e.registry);return r.splice(n,1),oj({},e,{registry:r,bootstrapped:0===r.length});default:return e}};var cj=n(901);const uj=Nn({name:"game",initialState:{name:"Steve",variables:{[Un.Economy]:50,[Un.Piety]:50,[Un.Military]:50},year:540},reducers:{variableChanges:(e,t)=>{const n=Object.keys(e.variables);for(let r of Object.keys(t.payload)){const i=r,o=n.includes(i),a=t.payload[i],s=Bn[a];o&&!isNaN(s)&&(e.variables[i]+=s,e.variables[i]>100&&(e.variables[i]=100),e.variables[i]<0&&(e.variables[i]=0))}return e},setVariables:(e,t)=>{e.variables=t.payload}}}),{variableChanges:dj,setVariables:hj}=uj.actions,fj=uj.reducer,pj=function(e){var t,n=Cn(),r=e||{},i=r.reducer,o=void 0===i?void 0:i,a=r.middleware,s=void 0===a?n():a,l=r.devTools,c=void 0===l||l,u=r.preloadedState,d=void 0===u?void 0:u,h=r.enhancers,f=void 0===h?void 0:h;if("function"===typeof o)t=o;else{if(!xn(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=tn(o)}var p=s;"function"===typeof p&&(p=p(n));var g=rn.apply(void 0,p),m=nn;c&&(m=kn(yn({trace:!1},"object"===typeof c&&c)));var v=new Sn(g),y=v;return Array.isArray(f)?y=un([g],f):"function"===typeof f&&(y=f(v)),en(t,d,m.apply(void 0,y))}({reducer:{settings:nj({key:"settings",version:1,storage:cj.A},ws),auth:nj({key:"auth",version:1,storage:cj.A},mu),user:nj({key:"user",version:1,storage:cj.A},hu),game:fj,firestore:Xn},middleware:e=>e({serializableCheck:{ignoredActions:[jM,FM,UM,VM,zM,BM]}})});let gj=function(e,t,n){var r=n||!1,i=en(lj,sj,t&&t.enhancer?t.enhancer:void 0),o=function(e){i.dispatch({type:BM,key:e})},a=function(t,n,o){var a={type:FM,payload:n,err:o,key:t};e.dispatch(a),i.dispatch(a),r&&s.getState().bootstrapped&&(r(),r=!1)},s=oj({},i,{purge:function(){var t=[];return e.dispatch({type:zM,result:function(e){t.push(e)}}),Promise.all(t)},flush:function(){var t=[];return e.dispatch({type:jM,result:function(e){t.push(e)}}),Promise.all(t)},pause:function(){e.dispatch({type:UM})},persist:function(){e.dispatch({type:VM,register:o,rehydrate:a})}});return t&&t.manualPersist||s.persist(),s}(pj);const mj=pj;function vj(e){return vj="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vj(e)}function yj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bj(e){return bj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},bj(e)}function wj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kj(e,t){return kj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},kj(e,t)}function xj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _j=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=function(e,t){return!t||"object"!==vj(t)&&"function"!==typeof t?wj(e):t}(this,(e=bj(t)).call.apply(e,[this].concat(i))),xj(wj(n),"state",{bootstrapped:!1}),xj(wj(n),"_unsubscribe",void 0),xj(wj(n),"handlePersistorState",(function(){n.props.persistor.getState().bootstrapped&&(n.props.onBeforeLift?Promise.resolve(n.props.onBeforeLift()).finally((function(){return n.setState({bootstrapped:!0})})):n.setState({bootstrapped:!0}),n._unsubscribe&&n._unsubscribe())})),n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kj(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return"function"===typeof this.props.children?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}])&&yj(n.prototype,r),i&&yj(n,i),t}(t.PureComponent);xj(_j,"defaultProps",{children:null,loading:null});const Ij=()=>(0,Zn.jsx)(t.StrictMode,{children:(0,Zn.jsx)(Le,{store:mj,children:(0,Zn.jsx)(_j,{persistor:gj,children:(0,Zn.jsx)(LM,{})})})});i.createRoot(document.getElementById("root")).render((0,Zn.jsx)(Ij,{})),o(null)})()})();
//# sourceMappingURL=main.c6c8a876.js.map